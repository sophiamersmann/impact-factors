var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function d(t,e,n,r,i,o,l){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=f(e,n,r,l);t.p(i,s)}}function h(e){return e&&l(e.destroy)?e.destroy:t}const p="undefined"!=typeof window;let g=p?()=>window.performance.now():()=>Date.now(),m=p?t=>requestAnimationFrame(t):t;const $=new Set;function y(t){$.forEach((e=>{e.c(t)||($.delete(e),e.f())})),0!==$.size&&m(y)}function v(t){let e;return 0===$.size&&m(y),{promise:new Promise((n=>{$.add(e={c:t,f:n})})),abort(){$.delete(e)}}}function b(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function M(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function L(){return I(" ")}function _(){return I("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:C(t,r,e[r])}function T(t,e,n){e in t?t[e]=n:C(t,e,n)}function H(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function q(t,e){t.value=null==e?"":e}function j(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let E;function B(){if(void 0===E){E=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){E=!0}}return E}function D(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=k("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=B();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=N(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=N(n.contentWindow,"resize",e)}),b(t,n),()=>{(r||i&&n.contentWindow)&&i(),w(n)}}function F(t,e,n){t.classList[n?"add":"remove"](e)}function P(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class V{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=k(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)x(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(w)}}const R=new Set;let G,z=0;function W(t,e,n,r,i,o,l,s=0){const a=16.666/r;let c="{\n";for(let t=0;t<=1;t+=a){const r=e+(n-e)*o(t);c+=100*t+`%{${l(r,1-r)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,d=t.ownerDocument;R.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(k("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,z+=1,f}function U(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),z-=i,z||m((()=>{z||(R.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),R.clear())})))}function J(t){G=t}function Z(){if(!G)throw new Error("Function called outside component initialization");return G}function Y(t){Z().$$.before_update.push(t)}function X(t){Z().$$.on_mount.push(t)}function Q(t){Z().$$.on_destroy.push(t)}function K(){const t=Z();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=P(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const tt=[],et=[],nt=[],rt=[],it=Promise.resolve();let ot=!1;function lt(){ot||(ot=!0,it.then(ft))}function st(){return lt(),it}function at(t){nt.push(t)}let ct=!1;const ut=new Set;function ft(){if(!ct){ct=!0;do{for(let t=0;t<tt.length;t+=1){const e=tt[t];J(e),dt(e.$$)}for(J(null),tt.length=0;et.length;)et.pop()();for(let t=0;t<nt.length;t+=1){const e=nt[t];ut.has(e)||(ut.add(e),e())}nt.length=0}while(tt.length);for(;rt.length;)rt.pop()();ot=!1,ct=!1,ut.clear()}}function dt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}let ht;function pt(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function gt(t,e,n){t.dispatchEvent(P(`${e?"intro":"outro"}${n}`))}const mt=new Set;let $t;function yt(){$t={r:0,c:[],p:$t}}function vt(){$t.r||o($t.c),$t=$t.p}function bt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),$t.c.push((()=>{mt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const wt={duration:0};function Mt(n,r,i){let o,s,a=r(n,i),c=!1,u=0;function f(){o&&U(n,o)}function d(){const{delay:r=0,duration:i=300,easing:l=e,tick:d=t,css:h}=a||wt;h&&(o=W(n,0,1,i,r,l,h,u++)),d(0,1);const p=g()+r,m=p+i;s&&s.abort(),c=!0,at((()=>gt(n,!0,"start"))),s=v((t=>{if(c){if(t>=m)return d(1,0),gt(n,!0,"end"),f(),c=!1;if(t>=p){const e=l((t-p)/i);d(e,1-e)}}return c}))}let h=!1;return{start(){h||(U(n),l(a)?(a=a(),pt().then(d)):d())},invalidate(){h=!1},end(){c&&(f(),c=!1)}}}function kt(n,r,i){let s,a=r(n,i),c=!0;const u=$t;function f(){const{delay:r=0,duration:i=300,easing:l=e,tick:f=t,css:d}=a||wt;d&&(s=W(n,1,0,i,r,l,d));const h=g()+r,p=h+i;at((()=>gt(n,!1,"start"))),v((t=>{if(c){if(t>=p)return f(0,1),gt(n,!1,"end"),--u.r||o(u.c),!1;if(t>=h){const e=l((t-h)/i);f(1-e,e)}}return c}))}return u.r+=1,l(a)?pt().then((()=>{a=a(),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),c&&(s&&U(n,s),c=!1)}}}function St(t,e){xt(t,1,1,(()=>{e.delete(t.key)}))}function It(t,e,n,r,i,o,l,s,a,c,u,f){let d=t.length,h=o.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],$=new Map,y=new Map;for(p=h;p--;){const t=f(i,o,p),s=n(t);let a=l.get(s);a?r&&a.p(t,e):(a=c(s,t),a.c()),$.set(s,m[p]=a),s in g&&y.set(s,Math.abs(p-g[s]))}const v=new Set,b=new Set;function x(t){bt(t,1),t.m(s,u),l.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=m[h-1],n=t[d-1],r=e.key,i=n.key;e===n?(u=e.first,d--,h--):$.has(i)?!l.has(r)||v.has(r)?x(e):b.has(i)?d--:y.get(r)>y.get(i)?(b.add(r),x(e)):(v.add(i),d--):(a(n,l),d--)}for(;d--;){const e=t[d];$.has(e.key)||a(e,l)}for(;h;)x(m[h-1]);return m}function Lt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const l=t[o],s=e[o];if(s){for(const t in l)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in l)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function _t(t){t&&t.c()}function Nt(t,e,n){const{fragment:i,on_mount:s,on_destroy:a,after_update:c}=t.$$;i&&i.m(e,n),at((()=>{const e=s.map(r).filter(l);a?a.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(at)}function Ct(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(e,n,r,l,s,a,c=[-1]){const u=G;J(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&function(t,e){-1===t.$$.dirty[0]&&(tt.push(t),lt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&bt(e.$$.fragment),Nt(e,n.target,n.anchor),ft()}J(u)}class Tt{$destroy(){Ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ht(e){let n;return{c(){n=k("div"),n.innerHTML='<div class="content svelte-4lamar"><h1 class="bright svelte-4lamar">Switching a star article&#39;s light off</h1> \n    <p>This visualization has been designed for larger devices.\n      If you want to explore an interactive version, please open on a desktop.</p></div>',C(n,"class","catch svelte-4lamar")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&w(n)}}}class Ot extends Tt{constructor(t){super(),At(this,t,null,Ht,s,{})}}const qt=[];function jt(t,e){return{subscribe:Et(t,e).subscribe}}function Et(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!qt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),qt.push(n,e)}if(t){for(let t=0;t<qt.length;t+=2)qt[t][0](qt[t+1]);qt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,s=t){const a=[l,s];return i.push(a),1===i.length&&(r=n(o)||t),l(e),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Bt(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return jt(r,(e=>{let r=!1;const u=[];let f=0,d=t;const h=()=>{if(f)return;d();const r=n(i?u[0]:u,e);c?e(r):d=l(r)?r:t},p=s.map(((t,e)=>a(t,(t=>{u[e]=t,f&=~(1<<e),r&&h()}),(()=>{f|=1<<e}))));return r=!0,h(),function(){o(p),d()}}))}const Dt=jt({min:.5,max:6}),Ft=Et(),Pt=Et(),Vt=Bt(Dt,(t=>t.max)),Rt=Bt(Ft,(t=>t/2*.25)),Gt=Bt([Ft,Vt],(([t,e])=>(t-2*e)/2));function zt(t){let e,n,r;const i=t[2].default,o=u(i,t,t[1],null);return{c(){e=S("svg"),o&&o.c(),C(e,"class","svg"),C(e,"width",t[0]),C(e,"height",t[0]),C(e,"viewBox",n=-t[0]/2+" "+-t[0]/2+" "+t[0]+" "+t[0])},m(t,n){x(t,e,n),o&&o.m(e,null),r=!0},p(t,[l]){o&&o.p&&2&l&&d(o,i,t,t[1],l,null,null),(!r||1&l)&&C(e,"width",t[0]),(!r||1&l)&&C(e,"height",t[0]),(!r||1&l&&n!==(n=-t[0]/2+" "+-t[0]/2+" "+t[0]+" "+t[0]))&&C(e,"viewBox",n)},i(t){r||(bt(o,t),r=!0)},o(t){xt(o,t),r=!1},d(t){t&&w(e),o&&o.d(t)}}}function Wt(t,e,n){let r;c(t,Ft,(t=>n(3,r=t)));let{$$slots:i={},$$scope:o}=e,{size:l=r}=e;return t.$$set=t=>{"size"in t&&n(0,l=t.size),"$$scope"in t&&n(1,o=t.$$scope)},[l,o,i]}class Ut extends Tt{constructor(t){super(),At(this,t,Wt,zt,s,{size:0})}}function Jt(t,e,n){const r=t.slice();return r[1]=e[n].id,r[2]=e[n].stdDeviation,r}function Zt(e){let n,r,i,o,l;return{c(){n=S("filter"),r=S("feGaussianBlur"),i=S("feMerge"),o=S("feMergeNode"),l=S("feMergeNode"),C(r,"class","blur"),C(r,"stdDeviation",e[2]),C(r,"result","coloredBlur"),C(o,"in","coloredBlur"),C(l,"in","SourceGraphic"),C(n,"id",e[1]),C(n,"width","300%"),C(n,"x","-100%"),C(n,"height","300%"),C(n,"y","-100%")},m(t,e){x(t,n,e),b(n,r),b(n,i),b(i,o),b(i,l)},p:t,d(t){t&&w(n)}}}function Yt(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Zt(Jt(e,r,t));return{c(){n=S("defs");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,e){x(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(1&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=Jt(t,r,o);i[o]?i[o].p(l,e):(i[o]=Zt(l),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&w(n),M(i,t)}}}function Xt(t){return[[{id:"glow",stdDeviation:1.5},{id:"intense-glow",stdDeviation:3}]]}class Qt extends Tt{constructor(t){super(),At(this,t,Xt,Yt,s,{})}}function Kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ee(){}var ne=.7,re=1/ne,ie="\\s*([+-]?\\d+)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3,8})$/,ae=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ce=new RegExp("^rgb\\("+[le,le,le]+"\\)$"),ue=new RegExp("^rgba\\("+[ie,ie,ie,oe]+"\\)$"),fe=new RegExp("^rgba\\("+[le,le,le,oe]+"\\)$"),de=new RegExp("^hsl\\("+[oe,le,le]+"\\)$"),he=new RegExp("^hsla\\("+[oe,le,le,oe]+"\\)$"),pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ge(){return this.rgb().formatHex()}function me(){return this.rgb().formatRgb()}function $e(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ye(e):3===n?new we(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ve(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ve(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ae.exec(t))?new we(e[1],e[2],e[3],1):(e=ce.exec(t))?new we(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ue.exec(t))?ve(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=de.exec(t))?Ie(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?Ie(e[1],e[2]/100,e[3]/100,e[4]):pe.hasOwnProperty(t)?ye(pe[t]):"transparent"===t?new we(NaN,NaN,NaN,0):null}function ye(t){return new we(t>>16&255,t>>8&255,255&t,1)}function ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new we(t,e,n,r)}function be(t){return t instanceof ee||(t=$e(t)),t?new we((t=t.rgb()).r,t.g,t.b,t.opacity):new we}function xe(t,e,n,r){return 1===arguments.length?be(t):new we(t,e,n,null==r?1:r)}function we(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Me(){return"#"+Se(this.r)+Se(this.g)+Se(this.b)}function ke(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Se(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ie(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _e(t,e,n,r)}function Le(t){if(t instanceof _e)return new _e(t.h,t.s,t.l,t.opacity);if(t instanceof ee||(t=$e(t)),!t)return new _e;if(t instanceof _e)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(l=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new _e(l,s,a,t.opacity)}function _e(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ne(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Kt(ee,$e,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHsl:function(){return Le(this).formatHsl()},formatRgb:me,toString:me}),Kt(we,xe,te(ee,{brighter:function(t){return t=null==t?re:Math.pow(re,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ne:Math.pow(ne,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:ke,toString:ke})),Kt(_e,(function(t,e,n,r){return 1===arguments.length?Le(t):new _e(t,e,n,null==r?1:r)}),te(ee,{brighter:function(t){return t=null==t?re:Math.pow(re,t),new _e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ne:Math.pow(ne,t),new _e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new we(Ne(t>=240?t-240:t+120,i,r),Ne(t,i,r),Ne(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Ce=Math.PI/180,Ae=180/Math.PI,Te=.96422,He=.82521,Oe=4/29,qe=6/29,je=3*qe*qe;function Ee(t){if(t instanceof De)return new De(t.l,t.a,t.b,t.opacity);if(t instanceof ze)return We(t);t instanceof we||(t=be(t));var e,n,r=Re(t.r),i=Re(t.g),o=Re(t.b),l=Fe((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=l:(e=Fe((.4360747*r+.3850649*i+.1430804*o)/Te),n=Fe((.0139322*r+.0971045*i+.7141733*o)/He)),new De(116*l-16,500*(e-l),200*(l-n),t.opacity)}function Be(t,e,n,r){return 1===arguments.length?Ee(t):new De(t,e,n,null==r?1:r)}function De(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Fe(t){return t>.008856451679035631?Math.pow(t,1/3):t/je+Oe}function Pe(t){return t>qe?t*t*t:je*(t-Oe)}function Ve(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Re(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ge(t){if(t instanceof ze)return new ze(t.h,t.c,t.l,t.opacity);if(t instanceof De||(t=Ee(t)),0===t.a&&0===t.b)return new ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ae;return new ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ze(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function We(t){if(isNaN(t.h))return new De(t.l,0,0,t.opacity);var e=t.h*Ce;return new De(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Kt(De,Be,te(ee,{brighter:function(t){return new De(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new De(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new we(Ve(3.1338561*(e=Te*Pe(e))-1.6168667*(t=1*Pe(t))-.4906146*(n=He*Pe(n))),Ve(-.9787684*e+1.9161415*t+.033454*n),Ve(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Kt(ze,(function(t,e,n,r){return 1===arguments.length?Ge(t):new ze(t,e,n,null==r?1:r)}),te(ee,{brighter:function(t){return new ze(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ze(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return We(this).rgb()}}));var Ue=t=>()=>t;function Je(t){return 1==(t=+t)?Ze:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ue(isNaN(e)?n:e)}}function Ze(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ue(isNaN(t)?e:t)}var Ye=function t(e){var n=Je(e);function r(t,e){var r=n((t=xe(t)).r,(e=xe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),l=Ze(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function Xe(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Qe(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),l=new Array(r);for(n=0;n<i;++n)o[n]=ln(t[n],e[n]);for(;n<r;++n)l[n]=e[n];return function(t){for(n=0;n<i;++n)l[n]=o[n](t);return l}}function Ke(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function en(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ln(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(nn.source,"g");function on(t,e){var n,r,i,o=nn.lastIndex=rn.lastIndex=0,l=-1,s=[],a=[];for(t+="",e+="";(n=nn.exec(t))&&(r=rn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[l]?s[l]+=i:s[++l]=i),(n=n[0])===(r=r[0])?s[l]?s[l]+=r:s[++l]=r:(s[++l]=null,a.push({i:l,x:tn(n,r)})),o=rn.lastIndex;return o<e.length&&(i=e.slice(o),s[l]?s[l]+=i:s[++l]=i),s.length<2?a[0]?function(t){return function(e){return t(e)+""}}(a[0].x):function(t){return function(){return t}}(e):(e=a.length,function(t){for(var n,r=0;r<e;++r)s[(n=a[r]).i]=n.x(t);return s.join("")})}function ln(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Ue(e):("number"===i?tn:"string"===i?(n=$e(e))?(e=n,Ye):on:e instanceof $e?Ye:e instanceof Date?Ke:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Qe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?en:tn:Xe))(t,e)}function sn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function an(t,e){var n=Ze((t=Be(t)).l,(e=Be(e)).l),r=Ze(t.a,e.a),i=Ze(t.b,e.b),o=Ze(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function cn(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function un(t){const e=t-1;return e*e*e+1}function fn(t){return t*t}function dn(t){return-t*(t-2)}function hn(t){return"[object Date]"===Object.prototype.toString.call(t)}function pn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>pn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(hn(t)&&hn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=pn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function gn(t,r={}){const i=Et(t);let o,l=t;function s(s,a){if(null==t)return i.set(t=s),Promise.resolve();l=s;let c=o,u=!1,{delay:f=0,duration:d=400,easing:h=e,interpolate:p=pn}=n(n({},r),a);if(0===d)return c&&(c.abort(),c=null),i.set(t=l),Promise.resolve();const m=g()+f;let $;return o=v((e=>{if(e<m)return!0;u||($=p(t,s),"function"==typeof d&&(d=d(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-m;return n>d?(i.set(t=s),!1):(i.set(t=$(h(n/d))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(l,t),n),subscribe:i.subscribe}}const mn=jt(400),$n=Bt(mn,(t=>t/2)),yn=Bt(mn,(t=>2*t));function vn(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function bn(t,{delay:e=0,duration:n=400,easing:r=un,x:i=0,y:o=0,opacity:l=0}={}){const s=getComputedStyle(t),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-l);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${a-u*e}`}}function xn(t,{delay:e=0,speed:n,duration:r,easing:i=cn}={}){const o=t.getTotalLength();return void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}const wn=t=>t.charAt(0).toUpperCase()+t.slice(1),Mn=t=>t.split("-").map(wn).join(" ");function kn(e){let n,r,i,o,l,s,a,c,u,f,d,h,p,g,m,$,y,v,M,S,_,N,A,T,H,q,E,B=e[0].title+"",D=Mn(e[0].journal)+"",F=e[0].volume+"",P=e[0].page.start+"",V=e[0].page.end+"",R=e[0].year+"",G=e[0].citedBy+"";return{c(){n=k("div"),r=k("div"),i=k("div"),o=k("b"),l=I(B),s=L(),a=k("div"),c=I(e[1]),u=I(".\n        "),f=k("span"),d=I(D),h=L(),p=I(F),g=I(",\n        "),m=I(P),$=I("-"),y=I(V),v=I("\n        ("),M=I(R),S=I(")"),_=L(),N=k("div"),A=I("Cited "),T=k("b"),H=I(G),q=I(" times"),C(i,"class","title bright svelte-1gtgkui"),C(f,"class","journal svelte-1gtgkui"),C(N,"class","cited-by svelte-1gtgkui"),C(r,"class","content"),C(n,"class","tooltip svelte-1gtgkui"),j(n,"width",In+"px")},m(t,e){x(t,n,e),b(n,r),b(r,i),b(i,o),b(o,l),b(r,s),b(r,a),b(a,c),b(a,u),b(a,f),b(f,d),b(a,h),b(a,p),b(a,g),b(a,m),b(a,$),b(a,y),b(a,v),b(a,M),b(a,S),b(r,_),b(r,N),b(N,A),b(N,T),b(T,H),b(N,q)},p(t,n){e=t,1&n&&B!==(B=e[0].title+"")&&O(l,B),2&n&&O(c,e[1]),1&n&&D!==(D=Mn(e[0].journal)+"")&&O(d,D),1&n&&F!==(F=e[0].volume+"")&&O(p,F),1&n&&P!==(P=e[0].page.start+"")&&O(m,P),1&n&&V!==(V=e[0].page.end+"")&&O(y,V),1&n&&R!==(R=e[0].year+"")&&O(M,R),1&n&&G!==(G=e[0].citedBy+"")&&O(H,G)},i(t){E||at((()=>{E=Mt(n,vn,{duration:e[2],easing:dn}),E.start()}))},o:t,d(t){t&&w(n)}}}function Sn(e){let n,r=e[0]&&kn(e);return{c(){r&&r.c(),n=_()},m(t,e){r&&r.m(t,e),x(t,n,e)},p(t,[e]){t[0]?r?(r.p(t,e),1&e&&bt(r,1)):(r=kn(t),r.c(),bt(r,1),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i(t){bt(r)},o:t,d(t){r&&r.d(t),t&&w(n)}}}const In=250;function Ln(t,e,n){let r;c(t,mn,(t=>n(2,r=t)));let{article:i}=e,o="";return t.$$set=t=>{"article"in t&&n(0,i=t.article)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=i?.authors.split(",").slice(0,5)+" et al")},[i,o,r]}class _n extends Tt{constructor(t){super(),At(this,t,Ln,Sn,s,{article:0})}}function Nn(t,e){let n;function r(){n=new _n({target:document.body,props:{article:e},intro:!0}),t.addEventListener("mouseleave",i)}function i(){n.$destroy(),t.removeEventListener("mouseleave",i)}return t.addEventListener("mouseenter",r),{destroy(){t.removeEventListener("mouseenter",r)}}}const Cn=Et(),An=Et(1),Tn=Et(1/0),Hn=[0,.9,.95,.99,.995,.999],On=[10,100,1e3],qn="#d4e9ed",jn="#ddd";function En(e){let n,r,i,o;return{c(){n=S("circle"),C(n,"class","star svelte-1vzs4da"),C(n,"cx",e[1]),C(n,"cy",e[2]),C(n,"r",e[5]),C(n,"fill",e[6]),F(n,"bright",e[4]),F(n,"intense",e[0])},m(t,l){x(t,n,l),i||(o=h(r=Nn.call(null,n,e[3])),i=!0)},p(t,[e]){2&e&&C(n,"cx",t[1]),4&e&&C(n,"cy",t[2]),32&e&&C(n,"r",t[5]),64&e&&C(n,"fill",t[6]),r&&l(r.update)&&8&e&&r.update.call(null,t[3]),16&e&&F(n,"bright",t[4]),1&e&&F(n,"intense",t[0])},i:t,o:t,d(t){t&&w(n),i=!1,o()}}}function Bn(t,e,n){let r,i,o,l,s;c(t,Tn,(t=>n(10,r=t))),c(t,yn,(t=>n(11,i=t))),c(t,mn,(t=>n(12,o=t)));let{x:a=0}=e,{y:u=0}=e,{r:f=0}=e,{data:d=null}=e,{intense:h=!1}=e,p=!0;const g=gn(0,{delay:2*Math.random()*i,duration:i,easing:dn});c(t,g,(t=>n(5,l=t)));const m=gn(qn,{duration:o,interpolate:an,easing:fn});return c(t,m,(t=>n(6,s=t))),t.$$set=t=>{"x"in t&&n(1,a=t.x),"y"in t&&n(2,u=t.y),"r"in t&&n(9,f=t.r),"data"in t&&n(3,d=t.data),"intense"in t&&n(0,h=t.intense)},t.$$.update=()=>{1032&t.$$.dirty&&d&&(n(4,p=d.citedBy<r),n(0,h=d.citedBy>=250)),512&t.$$.dirty&&g.set(f),16&t.$$.dirty&&m.set(p?qn:"#092534")},[h,a,u,d,p,l,s,g,m,f,r]}class Dn extends Tt{constructor(t){super(),At(this,t,Bn,En,s,{x:1,y:2,r:9,data:3,intense:0})}}const Fn=Et(),Pn=Et();function Vn(t,e,n){const r=t.slice();return r[2]=e[n].citedBy,r}function Rn(t,e,n){const r=t.slice();return r[2]=e[n].citedBy,r[5]=e[n].radius,r}function Gn(t){let e,n,r,i;return e=new Qt({}),r=new Dn({props:{r:t[5],intense:t[2]>=250}}),{c(){_t(e.$$.fragment),n=L(),_t(r.$$.fragment)},m(t,o){Nt(e,t,o),x(t,n,o),Nt(r,t,o),i=!0},p(t,e){const n={};1&e&&(n.r=t[5]),1&e&&(n.intense=t[2]>=250),r.$set(n)},i(t){i||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),i=!1},d(t){Ct(e,t),t&&w(n),Ct(r,t)}}}function zn(t){let e,n,r;return n=new Ut({props:{size:Jn,$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){e=k("div"),_t(n.$$.fragment),C(e,"class","marker")},m(t,i){x(t,e,i),Nt(n,e,null),r=!0},p(t,e){const r={};257&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){t&&w(e),Ct(n)}}}function Wn(t){let e,n,r=t[2]+"";return{c(){e=k("div"),n=I(r),C(e,"class","label")},m(t,r){x(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=t[2]+"")&&O(n,r)},d(t){t&&w(e)}}}function Un(t){let e,n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=zn(Rn(t,i,e));const l=t=>xt(o[t],1,1,(()=>{o[t]=null}));let s=t[0],a=[];for(let e=0;e<s.length;e+=1)a[e]=Wn(Vn(t,s,e));return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();n=L();for(let t=0;t<a.length;t+=1)a[t].c();C(e,"class","legend svelte-1s18ahh")},m(t,i){x(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);b(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);r=!0},p(t,[r]){if(1&r){let s;for(i=t[0],s=0;s<i.length;s+=1){const l=Rn(t,i,s);o[s]?(o[s].p(l,r),bt(o[s],1)):(o[s]=zn(l),o[s].c(),bt(o[s],1),o[s].m(e,n))}for(yt(),s=i.length;s<o.length;s+=1)l(s);vt()}if(1&r){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=Vn(t,s,n);a[n]?a[n].p(i,r):(a[n]=Wn(i),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i(t){if(!r){for(let t=0;t<i.length;t+=1)bt(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)xt(o[t]);r=!1},d(t){t&&w(e),M(o,t),M(a,t)}}}const Jn=40;function Zn(t,e,n){let r;c(t,Pn,(t=>n(1,r=t)));let i=[];return t.$$.update=()=>{2&t.$$.dirty&&n(0,i=On.map((t=>({citedBy:t,radius:r?r(t):0}))))},[i,r]}class Yn extends Tt{constructor(t){super(),At(this,t,Zn,Un,s,{})}}function Xn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qn(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Xn(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const l=r(t,n,i,o-1);return l>i&&e(t[l-1],n)>-e(t[l],n)?l-1:l},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const Kn=Qn(Xn).right;function tr(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}Qn((function(t){return null===t?NaN:+t})).center;class er extends Map{constructor(t=[],e=rr){super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}});for(const[e,n]of t)this.set(e,n)}get(t){return super.get(nr(this,t))}has(t){return super.has(nr(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function nr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rr(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ir(t){return t}function or(t,...e){return lr(t,Array.from,ir,e)}function lr(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const l=new er,s=r[o++];let a=-1;for(const t of i){const e=s(t,++a,i),n=l.get(e);n?n.push(t):l.set(e,[t])}for(const[e,n]of l)l.set(e,t(n,o));return e(l)}(t,0)}var sr=Math.sqrt(50),ar=Math.sqrt(10),cr=Math.sqrt(2);function ur(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=sr?10:o>=ar?5:o>=cr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=sr?10:o>=ar?5:o>=cr?2:1)}function fr(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function dr(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function hr(t,e,n=0,r=t.length-1,i=Xn){for(;r>n;){if(r-n>600){const o=r-n+1,l=e-n+1,s=Math.log(o),a=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*a*(o-a)/o)*(l-o/2<0?-1:1);hr(t,e,Math.max(n,Math.floor(e-l*a/o+c)),Math.min(r,Math.floor(e+(o-l)*a/o+c)),i)}const o=t[e];let l=n,s=r;for(pr(t,n,e),i(t[r],o)>0&&pr(t,n,r);l<s;){for(pr(t,l,s),++l,--s;i(t[l],o)<0;)++l;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?pr(t,n,s):(++s,pr(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function pr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gr(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return dr(t);if(e>=1)return fr(t);var r,i=(r-1)*e,o=Math.floor(i),l=fr(hr(t,o).subarray(0,o+1));return l+(dr(t.subarray(o+1))-l)*(i-o)}}function mr(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function $r(t,e){return[t,e]}function yr(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(e){let n,r,i=e[0](e[1],e[2])+"";return{c(){n=k("div"),C(n,"class",r="item "+e[3]+" svelte-bdnybl")},m(t,e){x(t,n,e),n.innerHTML=i},p(t,[e]){7&e&&i!==(i=t[0](t[1],t[2])+"")&&(n.innerHTML=i),8&e&&r!==(r="item "+t[3]+" svelte-bdnybl")&&C(n,"class",r)},i:t,o:t,d(t){t&&w(n)}}}function br(t,e,n){let{isActive:r=!1}=e,{isFirst:i=!1}=e,{isHover:o=!1}=e,{getOptionLabel:l}=e,{item:s}=e,{filterText:a=""}=e,c="";return t.$$set=t=>{"isActive"in t&&n(4,r=t.isActive),"isFirst"in t&&n(5,i=t.isFirst),"isHover"in t&&n(6,o=t.isHover),"getOptionLabel"in t&&n(0,l=t.getOptionLabel),"item"in t&&n(1,s=t.item),"filterText"in t&&n(2,a=t.filterText)},t.$$.update=()=>{if(114&t.$$.dirty){const t=[];r&&t.push("active"),i&&t.push("first"),o&&t.push("hover"),s.isGroupHeader&&t.push("groupHeader"),s.isGroupItem&&t.push("groupItem"),n(3,c=t.join(" "))}},[l,s,a,c,r,i,o]}class xr extends Tt{constructor(t){super(),At(this,t,br,vr,s,{isActive:4,isFirst:5,isHover:6,getOptionLabel:0,item:1,filterText:2})}}function wr(t,e,n){const r=t.slice();return r[23]=e[n],r}const Mr=t=>({item:32&t,i:32&t,hoverItemIndex:2&t}),kr=t=>({item:t[23].data,i:t[23].index,hoverItemIndex:t[1]});function Sr(t,e){let n,r,i;const o=e[15].default,l=u(o,e,e[14],kr),s=l||function(t){let e;return{c(){e=I("Missing template")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}();return{key:t,first:null,c(){n=k("svelte-virtual-list-row"),s&&s.c(),r=L(),T(n,"class","svelte-p6ehlv"),this.first=n},m(t,e){x(t,n,e),s&&s.m(n,null),b(n,r),i=!0},p(t,n){e=t,l&&l.p&&16418&n&&d(l,o,e,e[14],n,Mr,kr)},i(t){i||(bt(s,t),i=!0)},o(t){xt(s,t),i=!1},d(t){t&&w(n),s&&s.d(t)}}}function Ir(t){let e,n,r,i,o,l,s=[],a=new Map,c=t[5];const u=t=>t[23].index;for(let e=0;e<c.length;e+=1){let n=wr(t,c,e),r=u(n);a.set(r,s[e]=Sr(r,n))}return{c(){e=k("svelte-virtual-list-viewport"),n=k("svelte-virtual-list-contents");for(let t=0;t<s.length;t+=1)s[t].c();j(n,"padding-top",t[6]+"px"),j(n,"padding-bottom",t[7]+"px"),T(n,"class","svelte-p6ehlv"),j(e,"height",t[0]),T(e,"class","svelte-p6ehlv"),at((()=>t[18].call(e)))},m(a,c){x(a,e,c),b(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null);t[16](n),t[17](e),r=D(e,t[18].bind(e)),i=!0,o||(l=N(e,"scroll",t[8]),o=!0)},p(t,[r]){16418&r&&(c=t[5],yt(),s=It(s,r,u,1,t,c,a,n,St,Sr,null,wr),vt()),(!i||64&r)&&j(n,"padding-top",t[6]+"px"),(!i||128&r)&&j(n,"padding-bottom",t[7]+"px"),(!i||1&r)&&j(e,"height",t[0])},i(t){if(!i){for(let t=0;t<c.length;t+=1)bt(s[t]);i=!0}},o(t){for(let t=0;t<s.length;t+=1)xt(s[t]);i=!1},d(n){n&&w(e);for(let t=0;t<s.length;t+=1)s[t].d();t[16](null),t[17](null),r(),o=!1,l()}}}function Lr(t,e,n){let r,i,o,l,s,a,{$$slots:c={},$$scope:u}=e,{items:f}=e,{height:d="100%"}=e,{itemHeight:h=40}=e,{hoverItemIndex:p=0}=e,{start:g=0}=e,{end:m=0}=e,$=[],y=0,v=0,b=0;return X((()=>{r=o.getElementsByTagName("svelte-virtual-list-row"),n(13,s=!0)})),t.$$set=t=>{"items"in t&&n(11,f=t.items),"height"in t&&n(0,d=t.height),"itemHeight"in t&&n(12,h=t.itemHeight),"hoverItemIndex"in t&&n(1,p=t.hoverItemIndex),"start"in t&&n(9,g=t.start),"end"in t&&n(10,m=t.end),"$$scope"in t&&n(14,u=t.$$scope)},t.$$.update=()=>{3584&t.$$.dirty&&n(5,l=f.slice(g,m).map(((t,e)=>({index:e+g,data:t})))),14340&t.$$.dirty&&s&&async function(t,e,o){const{scrollTop:l}=i;await st();let s=v-l,c=g;for(;s<e&&c<t.length;){let t=r[c-g];t||(n(10,m=c+1),await st(),t=r[c-g]),s+=$[c]=o||t.offsetHeight,c+=1}n(10,m=c);const u=t.length-m;a=(v+s)/m,n(7,b=u*a),$.length=t.length,n(3,i.scrollTop=0,i)}(f,y,h)},[d,p,y,i,o,l,v,b,async function(){const{scrollTop:t}=i,e=g;for(let t=0;t<r.length;t+=1)$[g+t]=h||r[t].offsetHeight;let o=0,l=0;for(;o<f.length;){const e=$[o]||a;if(l+e>t){n(9,g=o),n(6,v=l);break}l+=e,o+=1}for(;o<f.length&&(l+=$[o]||a,o+=1,!(l>t+y)););n(10,m=o);const s=f.length-m;for(a=l/m;o<f.length;)$[o++]=a;if(n(7,b=s*a),g<e){await st();let n=0,o=0;for(let t=g;t<e;t+=1)r[t-g]&&(n+=$[t],o+=h||r[t-g].offsetHeight);const l=o-n;i.scrollTo(0,t+l)}},g,m,f,h,s,u,c,function(t){et[t?"unshift":"push"]((()=>{o=t,n(4,o)}))},function(t){et[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(){y=this.offsetHeight,n(2,y)}]}class _r extends Tt{constructor(t){super(),At(this,t,Lr,Ir,s,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Nr(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Cr(t){let e,n,r;return n=new _r({props:{items:t[4],itemHeight:t[7],$$slots:{default:[Ar,({item:t,i:e})=>({34:t,36:e}),({item:t,i:e})=>[0,(t?8:0)|(e?32:0)]]},$$scope:{ctx:t}}}),{c(){e=k("div"),_t(n.$$.fragment),C(e,"class","listContainer virtualList svelte-ux0sbr")},m(i,o){x(i,e,o),Nt(n,e,null),t[20](e),r=!0},p(t,e){const r={};16&e[0]&&(r.items=t[4]),128&e[0]&&(r.itemHeight=t[7]),4918&e[0]|104&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(r){r&&w(e),Ct(n),t[20](null)}}}function Ar(t){let e,n,r,i,l;var s=t[2];function a(t){return{props:{item:t[34],filterText:t[12],getOptionLabel:t[5],isFirst:Fr(t[36]),isActive:Dr(t[34],t[8],t[9]),isHover:Pr(t[1],t[34],t[36],t[4])}}}function c(){return t[18](t[36])}function u(...e){return t[19](t[34],t[36],...e)}return s&&(n=new s(a(t))),{c(){e=k("div"),n&&_t(n.$$.fragment),C(e,"class","listItem")},m(t,o){x(t,e,o),n&&Nt(n,e,null),r=!0,i||(l=[N(e,"mouseover",c),N(e,"click",u)],i=!0)},p(r,i){t=r;const o={};if(8&i[1]&&(o.item=t[34]),4096&i[0]&&(o.filterText=t[12]),32&i[0]&&(o.getOptionLabel=t[5]),32&i[1]&&(o.isFirst=Fr(t[36])),768&i[0]|8&i[1]&&(o.isActive=Dr(t[34],t[8],t[9])),18&i[0]|40&i[1]&&(o.isHover=Pr(t[1],t[34],t[36],t[4])),s!==(s=t[2])){if(n){yt();const t=n;xt(t.$$.fragment,1,0,(()=>{Ct(t,1)})),vt()}s?(n=new s(a(t)),_t(n.$$.fragment),bt(n.$$.fragment,1),Nt(n,e,null)):n=null}else s&&n.$set(o)},i(t){r||(n&&bt(n.$$.fragment,t),r=!0)},o(t){n&&xt(n.$$.fragment,t),r=!1},d(t){t&&w(e),n&&Ct(n),i=!1,o(l)}}}function Tr(t){let e,n,r=t[4],i=[];for(let e=0;e<r.length;e+=1)i[e]=Er(Nr(t,r,e));const o=t=>xt(i[t],1,1,(()=>{i[t]=null}));let l=null;return r.length||(l=Hr(t)),{c(){e=k("div");for(let t=0;t<i.length;t+=1)i[t].c();l&&l.c(),C(e,"class","listContainer svelte-ux0sbr")},m(r,o){x(r,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);l&&l.m(e,null),t[23](e),n=!0},p(t,n){if(32630&n[0]){let s;for(r=t[4],s=0;s<r.length;s+=1){const o=Nr(t,r,s);i[s]?(i[s].p(o,n),bt(i[s],1)):(i[s]=Er(o),i[s].c(),bt(i[s],1),i[s].m(e,null))}for(yt(),s=r.length;s<i.length;s+=1)o(s);vt(),!r.length&&l?l.p(t,n):r.length?l&&(l.d(1),l=null):(l=Hr(t),l.c(),l.m(e,null))}},i(t){if(!n){for(let t=0;t<r.length;t+=1)bt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)xt(i[t]);n=!1},d(n){n&&w(e),M(i,n),l&&l.d(),t[23](null)}}}function Hr(t){let e,n=!t[10]&&Or(t);return{c(){n&&n.c(),e=_()},m(t,r){n&&n.m(t,r),x(t,e,r)},p(t,r){t[10]?n&&(n.d(1),n=null):n?n.p(t,r):(n=Or(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&w(e)}}}function Or(t){let e,n;return{c(){e=k("div"),n=I(t[11]),C(e,"class","empty svelte-ux0sbr")},m(t,r){x(t,e,r),b(e,n)},p(t,e){2048&e[0]&&O(n,t[11])},d(t){t&&w(e)}}}function qr(t){let e,n,r,i,l,s;var a=t[2];function c(t){return{props:{item:t[34],filterText:t[12],getOptionLabel:t[5],isFirst:Fr(t[36]),isActive:Dr(t[34],t[8],t[9]),isHover:Pr(t[1],t[34],t[36],t[4])}}}function u(){return t[21](t[36])}function f(...e){return t[22](t[34],t[36],...e)}return a&&(n=new a(c(t))),{c(){e=k("div"),n&&_t(n.$$.fragment),r=L(),C(e,"class","listItem")},m(t,o){x(t,e,o),n&&Nt(n,e,null),b(e,r),i=!0,l||(s=[N(e,"mouseover",u),N(e,"click",f)],l=!0)},p(i,o){t=i;const l={};if(16&o[0]&&(l.item=t[34]),4096&o[0]&&(l.filterText=t[12]),32&o[0]&&(l.getOptionLabel=t[5]),784&o[0]&&(l.isActive=Dr(t[34],t[8],t[9])),18&o[0]&&(l.isHover=Pr(t[1],t[34],t[36],t[4])),a!==(a=t[2])){if(n){yt();const t=n;xt(t.$$.fragment,1,0,(()=>{Ct(t,1)})),vt()}a?(n=new a(c(t)),_t(n.$$.fragment),bt(n.$$.fragment,1),Nt(n,e,r)):n=null}else a&&n.$set(l)},i(t){i||(n&&bt(n.$$.fragment,t),i=!0)},o(t){n&&xt(n.$$.fragment,t),i=!1},d(t){t&&w(e),n&&Ct(n),l=!1,o(s)}}}function jr(e){let n,r,i=e[6](e[34])+"";return{c(){n=k("div"),r=I(i),C(n,"class","listGroupTitle svelte-ux0sbr")},m(t,e){x(t,n,e),b(n,r)},p(t,e){80&e[0]&&i!==(i=t[6](t[34])+"")&&O(r,i)},i:t,o:t,d(t){t&&w(n)}}}function Er(t){let e,n,r,i;const o=[jr,qr],l=[];function s(t,e){return t[34].isGroupHeader&&!t[34].isSelectable?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=_()},m(t,n){l[e].m(t,n),x(t,r,n),i=!0},p(t,i){let a=e;e=s(t),e===a?l[e].p(t,i):(yt(),xt(l[a],1,1,(()=>{l[a]=null})),vt(),n=l[e],n?n.p(t,i):(n=l[e]=o[e](t),n.c()),bt(n,1),n.m(r.parentNode,r))},i(t){i||(bt(n),i=!0)},o(t){xt(n),i=!1},d(t){l[e].d(t),t&&w(r)}}}function Br(t){let e,n,r,i,o,l=t[3]&&Cr(t),s=!t[3]&&Tr(t);return{c(){l&&l.c(),e=L(),s&&s.c(),n=_()},m(a,c){l&&l.m(a,c),x(a,e,c),s&&s.m(a,c),x(a,n,c),r=!0,i||(o=N(window,"keydown",t[15]),i=!0)},p(t,r){t[3]?l?(l.p(t,r),8&r[0]&&bt(l,1)):(l=Cr(t),l.c(),bt(l,1),l.m(e.parentNode,e)):l&&(yt(),xt(l,1,1,(()=>{l=null})),vt()),t[3]?s&&(yt(),xt(s,1,1,(()=>{s=null})),vt()):s?(s.p(t,r),8&r[0]&&bt(s,1)):(s=Tr(t),s.c(),bt(s,1),s.m(n.parentNode,n))},i(t){r||(bt(l),bt(s),r=!0)},o(t){xt(l),xt(s),r=!1},d(t){l&&l.d(t),t&&w(e),s&&s.d(t),t&&w(n),i=!1,o()}}}function Dr(t,e,n){return e&&e[n]===t[n]}function Fr(t){return 0===t}function Pr(t,e,n,r){return t===n||1===r.length}function Vr(t,e,n){const r=K();let i,{container:o}=e,{Item:l=xr}=e,{isVirtualList:s=!1}=e,{items:a=[]}=e,{getOptionLabel:c=((t,e)=>{if(t)return t.isCreator?`Create "${e}"`:t.label})}=e,{getGroupHeaderLabel:u=(t=>t.label)}=e,{itemHeight:f=40}=e,{hoverItemIndex:d=0}=e,{selectedValue:h}=e,{optionIdentifier:p="value"}=e,{hideEmptyState:g=!1}=e,{noOptionsMessage:m="No options"}=e,{isMulti:$=!1}=e,{activeItemIndex:y=0}=e,{filterText:v=""}=e,b=0,x=!1;function w(t){t.isCreator||r("itemSelected",t)}function M(t){x||n(1,d=t)}function k(t){const{item:e,i:i,event:o}=t;if(o.stopPropagation(),h&&!$&&h[p]===e[p])return S();e.isCreator?r("itemCreated",v):(n(16,y=i),n(1,d=i),w(e))}function S(){r("closeList")}async function I(t){if(s)return;let e=!0;for(;e;)t>0&&d===a.length-1?n(1,d=0):n(1,t<0&&0===d?d=a.length-1:d+=t),e=a[d].isGroupHeader&&!a[d].isSelectable;await st(),L("hover")}function L(t){if(s||!o)return;let e;const r=o.querySelector(`.listItem .${t}`);r&&(e=o.getBoundingClientRect().bottom-r.getBoundingClientRect().bottom),n(0,o.scrollTop-=e,o)}X((()=>{if(a.length>0&&!$&&h){const t=a.findIndex((t=>t[p]===h[p]));t&&n(1,d=t)}L("active"),o.addEventListener("scroll",(()=>{clearTimeout(b),b=setTimeout((()=>{x=!1}),100)}),!1)})),Q((()=>{})),Y((()=>{a!==i&&a.length>0&&n(1,d=0),i=a}));return t.$$set=t=>{"container"in t&&n(0,o=t.container),"Item"in t&&n(2,l=t.Item),"isVirtualList"in t&&n(3,s=t.isVirtualList),"items"in t&&n(4,a=t.items),"getOptionLabel"in t&&n(5,c=t.getOptionLabel),"getGroupHeaderLabel"in t&&n(6,u=t.getGroupHeaderLabel),"itemHeight"in t&&n(7,f=t.itemHeight),"hoverItemIndex"in t&&n(1,d=t.hoverItemIndex),"selectedValue"in t&&n(8,h=t.selectedValue),"optionIdentifier"in t&&n(9,p=t.optionIdentifier),"hideEmptyState"in t&&n(10,g=t.hideEmptyState),"noOptionsMessage"in t&&n(11,m=t.noOptionsMessage),"isMulti"in t&&n(17,$=t.isMulti),"activeItemIndex"in t&&n(16,y=t.activeItemIndex),"filterText"in t&&n(12,v=t.filterText)},[o,d,l,s,a,c,u,f,h,p,g,m,v,M,k,function(t){switch(t.key){case"ArrowDown":t.preventDefault(),a.length&&I(1);break;case"ArrowUp":t.preventDefault(),a.length&&I(-1);break;case"Enter":if(t.preventDefault(),0===a.length)break;const e=a[d];if(h&&!$&&h[p]===e[p]){S();break}e.isCreator?r("itemCreated",v):(n(16,y=d),w(a[d]));break;case"Tab":if(t.preventDefault(),0===a.length)break;if(h&&h[p]===a[d][p])return S();n(16,y=d),w(a[d])}},y,$,t=>M(t),(t,e,n)=>k({item:t,i:e,event:n}),function(t){et[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},t=>M(t),(t,e,n)=>k({item:t,i:e,event:n}),function(t){et[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Rr extends Tt{constructor(t){super(),At(this,t,Vr,Br,s,{container:0,Item:2,isVirtualList:3,items:4,getOptionLabel:5,getGroupHeaderLabel:6,itemHeight:7,hoverItemIndex:1,selectedValue:8,optionIdentifier:9,hideEmptyState:10,noOptionsMessage:11,isMulti:17,activeItemIndex:16,filterText:12},[-1,-1])}}function Gr(e){let n,r=e[0](e[1])+"";return{c(){n=k("div"),C(n,"class","selection svelte-ch6bh7")},m(t,e){x(t,n,e),n.innerHTML=r},p(t,[e]){3&e&&r!==(r=t[0](t[1])+"")&&(n.innerHTML=r)},i:t,o:t,d(t){t&&w(n)}}}function zr(t,e,n){let{getSelectionLabel:r}=e,{item:i}=e;return t.$$set=t=>{"getSelectionLabel"in t&&n(0,r=t.getSelectionLabel),"item"in t&&n(1,i=t.item)},[r,i]}class Wr extends Tt{constructor(t){super(),At(this,t,zr,Gr,s,{getSelectionLabel:0,item:1})}}function Ur(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Jr(t){let e,n,r;function i(...e){return t[6](t[11],...e)}return{c(){e=k("div"),e.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-14r1jr2"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',C(e,"class","multiSelectItem_clear svelte-14r1jr2")},m(t,o){x(t,e,o),n||(r=N(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&w(e),n=!1,r()}}}function Zr(t){let e,n,r,i,o,l,s,a=t[4](t[9])+"",c=!t[2]&&!t[3]&&Jr(t);function u(...e){return t[7](t[11],...e)}return{c(){e=k("div"),n=k("div"),r=L(),c&&c.c(),i=L(),C(n,"class","multiSelectItem_label svelte-14r1jr2"),C(e,"class",o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-14r1jr2")},m(t,o){x(t,e,o),b(e,n),n.innerHTML=a,b(e,r),c&&c.m(e,null),b(e,i),l||(s=N(e,"click",u),l=!0)},p(r,l){t=r,17&l&&a!==(a=t[4](t[9])+"")&&(n.innerHTML=a),t[2]||t[3]?c&&(c.d(1),c=null):c?c.p(t,l):(c=Jr(t),c.c(),c.m(e,i)),6&l&&o!==(o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-14r1jr2")&&C(e,"class",o)},d(t){t&&w(e),c&&c.d(),l=!1,s()}}}function Yr(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Zr(Ur(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=_()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);x(t,n,e)},p(t,[e]){if(63&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=Ur(t,r,o);i[o]?i[o].p(l,e):(i[o]=Zr(l),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){M(i,t),t&&w(n)}}}function Xr(t,e,n){const r=K();let{selectedValue:i=[]}=e,{activeSelectedValue:o}=e,{isDisabled:l=!1}=e,{multiFullItemClearable:s=!1}=e,{getSelectionLabel:a}=e;function c(t,e){e.stopPropagation(),r("multiItemClear",{i:t})}return t.$$set=t=>{"selectedValue"in t&&n(0,i=t.selectedValue),"activeSelectedValue"in t&&n(1,o=t.activeSelectedValue),"isDisabled"in t&&n(2,l=t.isDisabled),"multiFullItemClearable"in t&&n(3,s=t.multiFullItemClearable),"getSelectionLabel"in t&&n(4,a=t.getSelectionLabel)},[i,o,l,s,a,c,(t,e)=>c(t,e),(t,e)=>s?c(t,e):{}]}class Qr extends Tt{constructor(t){super(),At(this,t,Xr,Yr,s,{selectedValue:0,activeSelectedValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Kr(t){let e,r,i;const o=[t[18]];var l=t[17];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return l&&(e=new l(s())),{c(){e&&_t(e.$$.fragment),r=_()},m(t,n){e&&Nt(e,t,n),x(t,r,n),i=!0},p(t,n){const i=262144&n[0]?Lt(o,[(a=t[18],"object"==typeof a&&null!==a?a:{})]):{};var a;if(l!==(l=t[17])){if(e){yt();const t=e;xt(t.$$.fragment,1,0,(()=>{Ct(t,1)})),vt()}l?(e=new l(s()),_t(e.$$.fragment),bt(e.$$.fragment,1),Nt(e,r.parentNode,r)):e=null}else l&&e.$set(i)},i(t){i||(e&&bt(e.$$.fragment,t),i=!0)},o(t){e&&xt(e.$$.fragment,t),i=!1},d(t){t&&w(r),e&&Ct(e,t)}}}function ti(t){let e,n,r;var i=t[7];function o(t){return{props:{selectedValue:t[0],getSelectionLabel:t[13],activeSelectedValue:t[24],isDisabled:t[10],multiFullItemClearable:t[9]}}}return i&&(e=new i(o(t)),e.$on("multiItemClear",t[28]),e.$on("focus",t[31])),{c(){e&&_t(e.$$.fragment),n=_()},m(t,i){e&&Nt(e,t,i),x(t,n,i),r=!0},p(t,r){const l={};if(1&r[0]&&(l.selectedValue=t[0]),8192&r[0]&&(l.getSelectionLabel=t[13]),16777216&r[0]&&(l.activeSelectedValue=t[24]),1024&r[0]&&(l.isDisabled=t[10]),512&r[0]&&(l.multiFullItemClearable=t[9]),i!==(i=t[7])){if(e){yt();const t=e;xt(t.$$.fragment,1,0,(()=>{Ct(t,1)})),vt()}i?(e=new i(o(t)),e.$on("multiItemClear",t[28]),e.$on("focus",t[31]),_t(e.$$.fragment),bt(e.$$.fragment,1),Nt(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i(t){r||(e&&bt(e.$$.fragment,t),r=!0)},o(t){e&&xt(e.$$.fragment,t),r=!1},d(t){t&&w(n),e&&Ct(e,t)}}}function ei(t){let e,r,i,l=[t[25],{placeholder:t[27]},{style:t[15]}],s={};for(let t=0;t<l.length;t+=1)s=n(s,l[t]);return{c(){e=k("input"),A(e,s),F(e,"svelte-17qb5ew",!0)},m(n,o){x(n,e,o),t[62](e),q(e,t[1]),r||(i=[N(e,"focus",t[31]),N(e,"input",t[63])],r=!0)},p(t,n){A(e,s=Lt(l,[33554432&n[0]&&t[25],134217728&n[0]&&{placeholder:t[27]},32768&n[0]&&{style:t[15]}])),2&n[0]&&e.value!==t[1]&&q(e,t[1]),F(e,"svelte-17qb5ew",!0)},d(n){n&&w(e),t[62](null),r=!1,o(i)}}}function ni(t){let e,r,i,l=[t[25],{placeholder:t[27]},{style:t[15]},{disabled:!0}],s={};for(let t=0;t<l.length;t+=1)s=n(s,l[t]);return{c(){e=k("input"),A(e,s),F(e,"svelte-17qb5ew",!0)},m(n,o){x(n,e,o),t[60](e),q(e,t[1]),r||(i=[N(e,"focus",t[31]),N(e,"input",t[61])],r=!0)},p(t,n){A(e,s=Lt(l,[33554432&n[0]&&t[25],134217728&n[0]&&{placeholder:t[27]},32768&n[0]&&{style:t[15]},{disabled:!0}])),2&n[0]&&e.value!==t[1]&&q(e,t[1]),F(e,"svelte-17qb5ew",!0)},d(n){n&&w(e),t[60](null),r=!1,o(i)}}}function ri(t){let e,n,r,i,o;var l=t[6];function s(t){return{props:{item:t[0],getSelectionLabel:t[13]}}}return l&&(n=new l(s(t))),{c(){e=k("div"),n&&_t(n.$$.fragment),C(e,"class","selectedItem svelte-17qb5ew")},m(l,s){x(l,e,s),n&&Nt(n,e,null),r=!0,i||(o=N(e,"focus",t[31]),i=!0)},p(t,r){const i={};if(1&r[0]&&(i.item=t[0]),8192&r[0]&&(i.getSelectionLabel=t[13]),l!==(l=t[6])){if(n){yt();const t=n;xt(t.$$.fragment,1,0,(()=>{Ct(t,1)})),vt()}l?(n=new l(s(t)),_t(n.$$.fragment),bt(n.$$.fragment,1),Nt(n,e,null)):n=null}else l&&n.$set(i)},i(t){r||(n&&bt(n.$$.fragment,t),r=!0)},o(t){n&&xt(n.$$.fragment,t),r=!1},d(t){t&&w(e),n&&Ct(n),i=!1,o()}}}function ii(e){let n,r,i;return{c(){n=k("div"),n.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-17qb5ew"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n          l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',C(n,"class","clearSelect svelte-17qb5ew")},m(t,o){var l;x(t,n,o),r||(i=N(n,"click",(l=e[23],function(t){return t.preventDefault(),l.call(this,t)})),r=!0)},p:t,d(t){t&&w(n),r=!1,i()}}}function oi(t){let e;function n(t,e){return t[22]?si:li}let r=n(t),i=r(t);return{c(){e=k("div"),i.c(),C(e,"class","indicator svelte-17qb5ew")},m(t,n){x(t,e,n),i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&w(e),i.d()}}}function li(e){let n,r;return{c(){n=S("svg"),r=S("path"),C(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n            3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n            1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n            0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n            0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),C(n,"width","100%"),C(n,"height","100%"),C(n,"viewBox","0 0 20 20"),C(n,"focusable","false"),C(n,"class","svelte-17qb5ew")},m(t,e){x(t,n,e),b(n,r)},p:t,d(t){t&&w(n)}}}function si(t){let e,n;return{c(){n=_(),e=new V(n)},m(r,i){e.m(t[22],r,i),x(r,n,i)},p(t,n){4194304&n[0]&&e.p(t[22])},d(t){t&&w(n),t&&e.d()}}}function ai(t){let e;return{c(){e=k("div"),e.innerHTML='<svg class="spinner_icon svelte-17qb5ew" viewBox="25 25 50 50"><circle class="spinner_path svelte-17qb5ew" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',C(e,"class","spinner svelte-17qb5ew")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function ci(t){let e,n,r,i,l,s,a,c,u,f,d,h=t[17]&&Kr(t),p=t[8]&&t[0]&&t[0].length>0&&ti(t);function g(t,e){return t[10]?ni:ei}let m=g(t),$=m(t),y=!t[8]&&t[26]&&ri(t),v=t[26]&&t[16]&&!t[10]&&!t[5]&&ii(t),M=(t[20]||t[19]&&!t[0]||!t[14]&&!t[10]&&!t[5]&&(t[26]&&!t[16]||!t[26]))&&oi(t),S=t[5]&&ai();return{c(){e=k("div"),h&&h.c(),n=L(),p&&p.c(),r=L(),$.c(),i=L(),y&&y.c(),l=L(),v&&v.c(),s=L(),M&&M.c(),a=L(),S&&S.c(),C(e,"class",c="selectContainer "+t[21]+" svelte-17qb5ew"),C(e,"style",t[12]),F(e,"hasError",t[11]),F(e,"multiSelect",t[8]),F(e,"disabled",t[10]),F(e,"focused",t[4])},m(o,c){x(o,e,c),h&&h.m(e,null),b(e,n),p&&p.m(e,null),b(e,r),$.m(e,null),b(e,i),y&&y.m(e,null),b(e,l),v&&v.m(e,null),b(e,s),M&&M.m(e,null),b(e,a),S&&S.m(e,null),t[64](e),u=!0,f||(d=[N(window,"click",t[32]),N(window,"keydown",t[30]),N(window,"resize",t[29]),N(e,"click",t[33])],f=!0)},p(t,o){t[17]?h?(h.p(t,o),131072&o[0]&&bt(h,1)):(h=Kr(t),h.c(),bt(h,1),h.m(e,n)):h&&(yt(),xt(h,1,1,(()=>{h=null})),vt()),t[8]&&t[0]&&t[0].length>0?p?(p.p(t,o),257&o[0]&&bt(p,1)):(p=ti(t),p.c(),bt(p,1),p.m(e,r)):p&&(yt(),xt(p,1,1,(()=>{p=null})),vt()),m===(m=g(t))&&$?$.p(t,o):($.d(1),$=m(t),$&&($.c(),$.m(e,i))),!t[8]&&t[26]?y?(y.p(t,o),67109120&o[0]&&bt(y,1)):(y=ri(t),y.c(),bt(y,1),y.m(e,l)):y&&(yt(),xt(y,1,1,(()=>{y=null})),vt()),t[26]&&t[16]&&!t[10]&&!t[5]?v?v.p(t,o):(v=ii(t),v.c(),v.m(e,s)):v&&(v.d(1),v=null),t[20]||t[19]&&!t[0]||!t[14]&&!t[10]&&!t[5]&&(t[26]&&!t[16]||!t[26])?M?M.p(t,o):(M=oi(t),M.c(),M.m(e,a)):M&&(M.d(1),M=null),t[5]?S||(S=ai(),S.c(),S.m(e,null)):S&&(S.d(1),S=null),(!u||2097152&o[0]&&c!==(c="selectContainer "+t[21]+" svelte-17qb5ew"))&&C(e,"class",c),(!u||4096&o[0])&&C(e,"style",t[12]),2099200&o[0]&&F(e,"hasError",t[11]),2097408&o[0]&&F(e,"multiSelect",t[8]),2098176&o[0]&&F(e,"disabled",t[10]),2097168&o[0]&&F(e,"focused",t[4])},i(t){u||(bt(h),bt(p),bt(y),u=!0)},o(t){xt(h),xt(p),xt(y),u=!1},d(n){n&&w(e),h&&h.d(),p&&p.d(),$.d(),y&&y.d(),v&&v.d(),M&&M.d(),S&&S.d(),t[64](null),f=!1,o(d)}}}function ui(t,e,n){let r,i;const o=K();let l,s,a,c,u,f,d,h,{container:p}=e,{input:g}=e,{Item:m=xr}=e,{Selection:$=Wr}=e,{MultiSelection:y=Qr}=e,{isMulti:v=!1}=e,{multiFullItemClearable:b=!1}=e,{isDisabled:x=!1}=e,{isCreatable:w=!1}=e,{isFocused:M=!1}=e,{selectedValue:k}=e,{filterText:S=""}=e,{placeholder:I="Select..."}=e,{items:L=[]}=e,{itemFilter:_=((t,e,n)=>t.toLowerCase().includes(e.toLowerCase()))}=e,{groupBy:N}=e,{groupFilter:C=(t=>t)}=e,{isGroupHeaderSelectable:A=!1}=e,{getGroupHeaderLabel:T=(t=>t.label)}=e,{getOptionLabel:H=((t,e)=>t.isCreator?`Create "${e}"`:t.label)}=e,{optionIdentifier:O="value"}=e,{loadOptions:q}=e,{hasError:j=!1}=e,{containerStyles:E=""}=e,{getSelectionLabel:B=(t=>{if(t)return t.label})}=e,{createGroupHeaderItem:D=(t=>({value:t,label:t}))}=e,{createItem:F=(t=>({value:t,label:t}))}=e,{isSearchable:P=!0}=e,{inputStyles:V=""}=e,{isClearable:R=!0}=e,{isWaiting:G=!1}=e,{listPlacement:z="auto"}=e,{listOpen:W=!1}=e,{list:U}=e,{isVirtualList:J=!1}=e,{loadOptionsInterval:Z=300}=e,{noOptionsMessage:tt="No options"}=e,{hideEmptyState:nt=!1}=e,{filteredItems:rt=[]}=e,{inputAttributes:it={}}=e,{listAutoWidth:ot=!0}=e,{itemHeight:lt=40}=e,{Icon:at}=e,{iconProps:ct={}}=e,{showChevron:ut=!1}=e,{showIndicator:ft=!1}=e,{containerClasses:dt=""}=e,{indicatorSvg:ht}=e;async function pt(){await st(),n(1,S="")}let gt=!1;const mt=function(t,e,n){let r;return function(){let i=this,o=arguments,l=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(l,e),s&&t.apply(i,o)}}((async()=>{gt=!0,n(5,G=!0);let t=await q(S).catch((t=>{console.warn("svelte-select loadOptions error :>> ",t),o("error",{type:"loadOptions",details:t})}));t?(n(34,L=[...t]),o("loaded",{items:L})):n(34,L=[]),n(5,G=!1),n(4,M=!0),n(36,W=!0)}),Z);let $t={};function yt(){let t=!0;if(k){const e=[],r=[];k.forEach((n=>{e.includes(n[O])?t=!1:(e.push(n[O]),r.push(n))})),t||n(0,k=r)}return t}function vt(t){let e=t?t[O]:k[O];return L.find((t=>t[O]===e))}async function bt(t){if(await st(),W)return U?U.$set({items:t}):void(q&&gt&&t.length>0&&St())}function xt(t){const{detail:e}=t,r=k[e?e.i:k.length-1];1===k.length?n(0,k=void 0):n(0,k=k.filter((t=>t!==r))),o("clear",r),wt()}async function wt(){if(await st(),!l||!p)return;const{top:t,height:e,width:n}=p.getBoundingClientRect();l.style["min-width"]=`${n}px`,l.style.width=""+(ot?"auto":"100%"),l.style.left="0","top"===z?l.style.bottom=`${e+5}px`:l.style.top=`${e+5}px`,l=l,"auto"===z&&function(t){const e=t.getBoundingClientRect(),n={};return n.top=e.top<0,n.left=e.left<0,n.bottom=e.bottom>(window.innerHeight||document.documentElement.clientHeight),n.right=e.right>(window.innerWidth||document.documentElement.clientWidth),n.any=n.top||n.left||n.bottom||n.right,n}(l).bottom&&(l.style.top="",l.style.bottom=`${e+5}px`),l.style.visibility=""}function Mt(){n(4,M=!0),g&&g.focus()}function kt(){pt(),n(24,s=void 0),U&&(U.$destroy(),n(35,U=void 0),l&&(l.parentNode&&l.parentNode.removeChild(l),l=void 0,n(35,U),l=l))}async function St(){if(await st(),l&&U)return;const t={Item:m,filterText:S,optionIdentifier:O,noOptionsMessage:tt,hideEmptyState:nt,isVirtualList:J,selectedValue:k,isMulti:v,getGroupHeaderLabel:T,items:rt,itemHeight:lt};H&&(t.getOptionLabel=H),l=document.createElement("div"),Object.assign(l.style,{position:"absolute","z-index":2,visibility:"hidden"}),n(35,U),l=l,p&&p.appendChild(l),n(35,U=new Rr({target:l,props:t})),U.$on("itemSelected",(t=>{const{detail:e}=t;if(e){const t=Object.assign({},e);t.isGroupHeader&&!t.isSelectable||(n(0,k=v?k?k.concat([t]):[t]:t),pt(),n(0,k),n(47,O),n(8,v),setTimeout((()=>{n(36,W=!1),n(24,s=void 0)})))}})),U.$on("itemCreated",(t=>{const{detail:e}=t;v?(n(0,k=k||[]),n(0,k=[...k,F(e)])):n(0,k=F(e)),n(1,S=""),n(36,W=!1),n(24,s=void 0),pt()})),U.$on("closeList",(()=>{n(36,W=!1)})),n(35,U),l=l,wt()}return Y((()=>{if(v&&k&&k.length>1&&yt(),!v&&k&&c!==k&&(c&&JSON.stringify(k[O])===JSON.stringify(c[O])||o("select",k)),v&&JSON.stringify(k)!==JSON.stringify(c)&&yt()&&o("select",k),p&&W!==u&&(W?St():kt()),S!==f&&(S.length>0?(n(4,M=!0),n(36,W=!0),q?mt():(St(),n(36,W=!0),v&&n(24,s=void 0))):bt([]),U&&U.$set({filterText:S})),M!==d&&(M||W?Mt():(pt(),g&&g.blur())),h!==rt){let t=[...rt];if(w&&S){const e=F(S);e.isCreator=!0;const n=t.find((t=>t[O]===e[O]));let r;k&&(v?r=k.find((t=>t[O]===e[O])):k[O]===e[O]&&(r=k)),n||r||(t=[...t,e])}bt(t)}c=k,u=W,f=S,d=M,h=rt})),X((()=>{M&&g.focus(),W&&St(),L&&L.length>0&&n(59,a=JSON.stringify(L))})),Q((()=>{kt()})),t.$$set=t=>{"container"in t&&n(2,p=t.container),"input"in t&&n(3,g=t.input),"Item"in t&&n(38,m=t.Item),"Selection"in t&&n(6,$=t.Selection),"MultiSelection"in t&&n(7,y=t.MultiSelection),"isMulti"in t&&n(8,v=t.isMulti),"multiFullItemClearable"in t&&n(9,b=t.multiFullItemClearable),"isDisabled"in t&&n(10,x=t.isDisabled),"isCreatable"in t&&n(39,w=t.isCreatable),"isFocused"in t&&n(4,M=t.isFocused),"selectedValue"in t&&n(0,k=t.selectedValue),"filterText"in t&&n(1,S=t.filterText),"placeholder"in t&&n(40,I=t.placeholder),"items"in t&&n(34,L=t.items),"itemFilter"in t&&n(41,_=t.itemFilter),"groupBy"in t&&n(42,N=t.groupBy),"groupFilter"in t&&n(43,C=t.groupFilter),"isGroupHeaderSelectable"in t&&n(44,A=t.isGroupHeaderSelectable),"getGroupHeaderLabel"in t&&n(45,T=t.getGroupHeaderLabel),"getOptionLabel"in t&&n(46,H=t.getOptionLabel),"optionIdentifier"in t&&n(47,O=t.optionIdentifier),"loadOptions"in t&&n(48,q=t.loadOptions),"hasError"in t&&n(11,j=t.hasError),"containerStyles"in t&&n(12,E=t.containerStyles),"getSelectionLabel"in t&&n(13,B=t.getSelectionLabel),"createGroupHeaderItem"in t&&n(49,D=t.createGroupHeaderItem),"createItem"in t&&n(50,F=t.createItem),"isSearchable"in t&&n(14,P=t.isSearchable),"inputStyles"in t&&n(15,V=t.inputStyles),"isClearable"in t&&n(16,R=t.isClearable),"isWaiting"in t&&n(5,G=t.isWaiting),"listPlacement"in t&&n(51,z=t.listPlacement),"listOpen"in t&&n(36,W=t.listOpen),"list"in t&&n(35,U=t.list),"isVirtualList"in t&&n(52,J=t.isVirtualList),"loadOptionsInterval"in t&&n(53,Z=t.loadOptionsInterval),"noOptionsMessage"in t&&n(54,tt=t.noOptionsMessage),"hideEmptyState"in t&&n(55,nt=t.hideEmptyState),"filteredItems"in t&&n(37,rt=t.filteredItems),"inputAttributes"in t&&n(56,it=t.inputAttributes),"listAutoWidth"in t&&n(57,ot=t.listAutoWidth),"itemHeight"in t&&n(58,lt=t.itemHeight),"Icon"in t&&n(17,at=t.Icon),"iconProps"in t&&n(18,ct=t.iconProps),"showChevron"in t&&n(19,ut=t.showChevron),"showIndicator"in t&&n(20,ft=t.showIndicator),"containerClasses"in t&&n(21,dt=t.containerClasses),"indicatorSvg"in t&&n(22,ht=t.indicatorSvg)},t.$$.update=()=>{if(t.$$.dirty[0],8&t.$$.dirty[1]&&function(t){t&&0!==t.length&&!t.some((t=>"object"!=typeof t))&&k&&(v?!k.some((t=>!t||!t[O])):k[O])&&(Array.isArray(k)?n(0,k=k.map((t=>vt(t)||t))):n(0,k=vt()||k))}(L),257&t.$$.dirty[0]|65536&t.$$.dirty[1]&&("string"==typeof k?n(0,k={[O]:k,label:k}):v&&Array.isArray(k)&&k.length>0&&n(0,k=k.map((t=>"string"==typeof t?{value:t,label:t}:t)))),8388624&t.$$.dirty[1]&&tt&&U&&U.$set({noOptionsMessage:tt}),3&t.$$.dirty[0]&&n(26,r=k&&0===S.length),1&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(27,i=k?"":I),16384&t.$$.dirty[0]|33554432&t.$$.dirty[1]&&(n(25,$t=Object.assign({autocomplete:"off",autocorrect:"off",spellcheck:!1},it)),P||n(25,$t.readonly=!0,$t)),259&t.$$.dirty[0]|268942344&t.$$.dirty[1]){let t,e=L;if(L&&L.length>0&&"object"!=typeof L[0]&&(e=L.map(((t,e)=>({index:e,value:t,label:t})))),q&&0===S.length&&a?(t=JSON.parse(a),e=JSON.parse(a)):t=q?0===S.length?[]:e:e.filter((t=>{let e=!0;return v&&k&&(e=!k.some((e=>e[O]===t[O]))),!!e&&(S.length<1||_(H(t,S),S,t))})),N){const e=[],r={};t.forEach((t=>{const n=N(t);e.includes(n)||(e.push(n),r[n]=[],n&&r[n].push(Object.assign(D(n,t),{id:n,isGroupHeader:!0,isSelectable:A}))),r[n].push(Object.assign({isGroupItem:!!n},t))}));const i=[];C(e).forEach((t=>{i.push(...r[t])})),n(37,rt=i)}else n(37,rt=t)}},[k,S,p,g,M,G,$,y,v,b,x,j,E,B,P,V,R,at,ct,ut,ft,dt,ht,function(){n(0,k=void 0),n(36,W=!1),o("clear",k),Mt()},s,$t,r,i,xt,wt,function(t){if(M)switch(t.key){case"ArrowDown":case"ArrowUp":t.preventDefault(),n(36,W=!0),n(24,s=void 0);break;case"Tab":W||n(4,M=!1);break;case"Backspace":if(!v||S.length>0)return;if(v&&k&&k.length>0){if(xt(void 0!==s?s:k.length-1),0===s||void 0===s)break;n(24,s=k.length>s?s-1:void 0)}break;case"ArrowLeft":if(U&&U.$set({hoverItemIndex:-1}),!v||S.length>0)return;void 0===s?n(24,s=k.length-1):k.length>s&&0!==s&&n(24,s-=1);break;case"ArrowRight":if(U&&U.$set({hoverItemIndex:-1}),!v||S.length>0||void 0===s)return;s===k.length-1?n(24,s=void 0):s<k.length-1&&n(24,s+=1)}},Mt,function(t){if(!p)return;const e=t.path&&t.path.length>0?t.path[0]:t.target;p.contains(e)||(n(4,M=!1),n(36,W=!1),n(24,s=void 0),g&&g.blur())},function(){x||(n(4,M=!0),n(36,W=!W))},L,U,W,rt,m,w,I,_,N,C,A,T,H,O,q,D,F,z,J,Z,tt,nt,it,ot,lt,a,function(t){et[t?"unshift":"push"]((()=>{g=t,n(3,g)}))},function(){S=this.value,n(1,S)},function(t){et[t?"unshift":"push"]((()=>{g=t,n(3,g)}))},function(){S=this.value,n(1,S)},function(t){et[t?"unshift":"push"]((()=>{p=t,n(2,p)}))}]}class fi extends Tt{constructor(t){super(),At(this,t,ui,ci,s,{container:2,input:3,Item:38,Selection:6,MultiSelection:7,isMulti:8,multiFullItemClearable:9,isDisabled:10,isCreatable:39,isFocused:4,selectedValue:0,filterText:1,placeholder:40,items:34,itemFilter:41,groupBy:42,groupFilter:43,isGroupHeaderSelectable:44,getGroupHeaderLabel:45,getOptionLabel:46,optionIdentifier:47,loadOptions:48,hasError:11,containerStyles:12,getSelectionLabel:13,createGroupHeaderItem:49,createItem:50,isSearchable:14,inputStyles:15,isClearable:16,isWaiting:5,listPlacement:51,listOpen:36,list:35,isVirtualList:52,loadOptionsInterval:53,noOptionsMessage:54,hideEmptyState:55,filteredItems:37,inputAttributes:56,listAutoWidth:57,itemHeight:58,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,handleClear:23},[-1,-1,-1])}get handleClear(){return this.$$.ctx[23]}}function di(e){let n,r,i,o;return{c(){n=S("svg"),r=S("title"),i=I("Checkmark"),o=S("path"),C(o,"fill","none"),C(o,"stroke","currentColor"),C(o,"stroke-linecap","round"),C(o,"stroke-linejoin","round"),C(o,"stroke-width","52"),C(o,"d","M416 128L192 384l-96-96"),C(n,"width","18"),C(n,"height","18"),C(n,"xmlns","http://www.w3.org/2000/svg"),C(n,"class","ionicon"),C(n,"viewBox","0 0 512 512")},m(t,e){x(t,n,e),b(n,r),b(r,i),b(n,o)},p:t,i:t,o:t,d(t){t&&w(n)}}}class hi extends Tt{constructor(t){super(),At(this,t,null,di,s,{})}}function pi(t){let e,n;return e=new hi({}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function gi(t){let e,n,r,i,o,l=t[1](t[2],t[3])+"",s=t[0]&&pi();return{c(){e=k("div"),r=L(),s&&s.c(),n=new V(r),C(e,"class",i="item "+t[4]+" svelte-1kv7uw0")},m(t,i){x(t,e,i),n.m(l,e),b(e,r),s&&s.m(e,null),o=!0},p(t,[r]){(!o||14&r)&&l!==(l=t[1](t[2],t[3])+"")&&n.p(l),t[0]?s?1&r&&bt(s,1):(s=pi(),s.c(),bt(s,1),s.m(e,null)):s&&(yt(),xt(s,1,1,(()=>{s=null})),vt()),(!o||16&r&&i!==(i="item "+t[4]+" svelte-1kv7uw0"))&&C(e,"class",i)},i(t){o||(bt(s),o=!0)},o(t){xt(s),o=!1},d(t){t&&w(e),s&&s.d()}}}function mi(t,e,n){let{isActive:r=!1}=e,{isFirst:i=!1}=e,{isHover:o=!1}=e,{getOptionLabel:l}=e,{item:s}=e,{filterText:a=""}=e,c="";return t.$$set=t=>{"isActive"in t&&n(0,r=t.isActive),"isFirst"in t&&n(5,i=t.isFirst),"isHover"in t&&n(6,o=t.isHover),"getOptionLabel"in t&&n(1,l=t.getOptionLabel),"item"in t&&n(2,s=t.item),"filterText"in t&&n(3,a=t.filterText)},t.$$.update=()=>{if(101&t.$$.dirty){const t=[];r&&t.push("active"),i&&t.push("first"),o&&t.push("hover"),s.isGroupHeader&&t.push("groupHeader"),s.isGroupItem&&t.push("groupItem"),n(4,c=t.join(" "))}},[r,l,s,a,c,i,o]}class $i extends Tt{constructor(t){super(),At(this,t,mi,gi,s,{isActive:0,isFirst:5,isHover:6,getOptionLabel:1,item:2,filterText:3})}}function yi(e){let n,r=e[0](e[1])+"";return{c(){n=k("div"),C(n,"class","selection svelte-1h015nr")},m(t,e){x(t,n,e),n.innerHTML=r},p(t,[e]){3&e&&r!==(r=t[0](t[1])+"")&&(n.innerHTML=r)},i:t,o:t,d(t){t&&w(n)}}}function vi(t,e,n){let{getSelectionLabel:r}=e,{item:i}=e;return t.$$set=t=>{"getSelectionLabel"in t&&n(0,r=t.getSelectionLabel),"item"in t&&n(1,i=t.item)},[r,i]}class bi extends Tt{constructor(t){super(),At(this,t,vi,yi,s,{getSelectionLabel:0,item:1})}}function xi(e){let n,r,i,o,l;return o=new fi({props:{items:e[0],Item:$i,Selection:bi,selectedValue:e[0][0],isClearable:!1,showIndicator:!0}}),o.$on("select",e[1]),{c(){n=k("div"),r=k("div"),r.textContent="Select a journal:",i=L(),_t(o.$$.fragment),C(r,"class","label svelte-uykckb"),C(n,"class","select svelte-uykckb")},m(t,e){x(t,n,e),b(n,r),b(n,i),Nt(o,n,null),l=!0},p:t,i(t){l||(bt(o.$$.fragment,t),l=!0)},o(t){xt(o.$$.fragment,t),l=!1},d(t){t&&w(n),Ct(o)}}}function wi(t,e,n){let{data:r=[]}=e;const i=or(r,(t=>t.journal)).map((([,t])=>{const e=t[0].journal,n=mr(t,(t=>t.citedBy));return{value:e,label:`${Mn(e)} (${Math.round(n)})`,impactFactor:n}})).sort(((t,e)=>function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}(t.impactFactor,e.impactFactor)));return Cn.set(i[0].value),t.$$set=t=>{"data"in t&&n(2,r=t.data)},[i,function(t){Cn.set(t.detail.value)},r]}class Mi extends Tt{constructor(t){super(),At(this,t,wi,xi,s,{data:2})}}function ki(t){let e,n,r,i,o,l,s,a,c,u,f,d,h,p,g,m,$;return a=new Mi({props:{data:t[0]}}),h=new Yn({}),{c(){e=k("div"),n=k("class"),r=k("div"),r.innerHTML='<h1 class="svelte-1m6xp9">Switching the light off</h1> \n      <div class="sub-title svelte-1m6xp9"><i>Academic journals&#39; impact factors without their star articles</i></div>',i=L(),o=k("p"),o.innerHTML='The relevance of an academic journal is sometimes described\n      by the <span class="bright"><b>average number of citations</b></span>\n      of articles published in previous years. This is referred to as the\n      <span class="bright"><i>impact factor</i></span>.<sup>1</sup> \n      Commonly, though, only a small number of articles receive much\n      attention, while the vast majority contribute little to\n      the impact factor. This visualisation allows exploration of what a\n      journal&#39;s impact factor <span class="bright"><i>would have been</i></span>\n      if certain high-impact articles hadn&#39;t been published.\n    ',l=k("p"),s=k("div"),_t(a.$$.fragment),c=L(),u=k("small"),f=k("p"),f.textContent="Each star represents an article and encodes the number\n        of received citations:",d=L(),_t(h.$$.fragment),p=L(),g=k("small"),g.innerHTML='<p class="svelte-1m6xp9"><sup>1</sup> Here, the impact factor reflects the average number\n      of citations that articles published in 2018/19\n      received up until now (Feb 2021).</p> \n\n    <p class="svelte-1m6xp9">Data from <a href="https://www.scopus.com/home.uri" class="svelte-1m6xp9">Scopus</a> \n      <span class="separator svelte-1m6xp9">/</span>\n      Code availbale on\n      <a href="https://github.com/sophiamersmann/impact-factors" target="_blank" class="svelte-1m6xp9">GitHub</a></p>',C(r,"class","header bright svelte-1m6xp9"),C(o,"class","svelte-1m6xp9"),C(l,"class","svelte-1m6xp9"),C(s,"class","select svelte-1m6xp9"),C(f,"class","svelte-1m6xp9"),C(u,"class","svelte-1m6xp9"),C(n,"class","top"),C(g,"class","bottom svelte-1m6xp9"),C(e,"class","side-panel svelte-1m6xp9"),at((()=>t[2].call(e)))},m(y,v){x(y,e,v),b(e,n),b(n,r),b(n,i),b(n,o),b(n,l),b(n,s),Nt(a,s,null),b(n,c),b(n,u),b(u,f),b(u,d),Nt(h,u,null),b(e,p),b(e,g),m=D(e,t[2].bind(e)),$=!0},p(t,[e]){const n={};1&e&&(n.data=t[0]),a.$set(n)},i(t){$||(bt(a.$$.fragment,t),bt(h.$$.fragment,t),$=!0)},o(t){xt(a.$$.fragment,t),xt(h.$$.fragment,t),$=!1},d(t){t&&w(e),Ct(a),Ct(h),m()}}}function Si(t,e,n){let r;c(t,Pt,(t=>n(1,r=t)));let{data:i=[]}=e;return t.$$set=t=>{"data"in t&&n(0,i=t.data)},[i,r,function(){r=this.clientWidth,Pt.set(r)}]}class Ii extends Tt{constructor(t){super(),At(this,t,Si,ki,s,{data:0})}}function Li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const _i=Symbol("implicit");function Ni(){var t=new Map,e=[],n=[],r=_i;function i(i){var o=i+"",l=t.get(o);if(!l){if(r!==_i)return r;t.set(o,l=e.push(i))}return n[(l-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ni(e,n).unknown(r)},Li.apply(i,arguments),i}function Ci(){var t,e,n=Ni().unknown(void 0),r=n.domain,i=n.range,o=0,l=1,s=!1,a=0,c=0,u=.5;function f(){var n=r().length,f=l<o,d=f?l:o,h=f?o:l;t=(h-d)/Math.max(1,n-a+2*c),s&&(t=Math.floor(t)),d+=(h-d-t*(n-a))*u,e=t*(1-a),s&&(d=Math.round(d),e=Math.round(e));var p=yr(n).map((function(e){return d+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,l]=t,o=+o,l=+l,f()):[o,l]},n.rangeRound=function(t){return[o,l]=t,o=+o,l=+l,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(a=Math.min(1,c=+t),f()):a},n.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),f()):a},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return Ci(r(),[o,l]).round(s).paddingInner(a).paddingOuter(c).align(u)},Li.apply(f(),arguments)}function Ai(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ai(e())},t}function Ti(t){return+t}var Hi=[0,1];function Oi(t){return t}function qi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ji(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=qi(i,r),o=n(l,o)):(r=qi(r,i),o=n(o,l)),function(t){return o(r(t))}}function Ei(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=qi(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=Kn(t,e,1,r)-1;return o[n](i[n](e))}}function Bi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Di(){var t,e,n,r,i,o,l=Hi,s=Hi,a=ln,c=Oi;function u(){var t,e,n,a=Math.min(l.length,s.length);return c!==Oi&&(t=l[0],e=l[a-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=a>2?Ei:ji,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(l.map(t),s,a)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,l.map(t),tn)))(n)))},f.domain=function(t){return arguments.length?(l=Array.from(t,Ti),u()):l.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),a=sn,u()},f.clamp=function(t){return arguments.length?(c=!!t||Oi,u()):c!==Oi},f.interpolate=function(t){return arguments.length?(a=t,u()):a},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function Fi(){return Di()(Oi,Oi)}function Pi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vi(t){return(t=Pi(Math.abs(t)))?t[1]:NaN}var Ri,Gi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zi(t){if(!(e=Gi.exec(t)))throw new Error("invalid format: "+t);var e;return new Wi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Wi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ui(t,e){var n=Pi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}zi.prototype=Wi.prototype,Wi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ji={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ui(100*t,e),r:Ui,s:function(t,e){var n=Pi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ri=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pi(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Zi(t){return t}var Yi,Xi,Qi,Ki=Array.prototype.map,to=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eo(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Zi:(e=Ki.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],l=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(t.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[l=(l+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Zi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ki.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=zi(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,$=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ji[y]||(void 0===m&&(m=12),$=!0,y="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?o:/[%p]/.test(y)?a:"",x=Ji[y],w=/[defgprs%]/.test(y);function M(t){var i,o,a,d=v,M=b;if("c"===y)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),$&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,M=("s"===y?to[8+Ri/3]:"")+M+(k&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(a=t.charCodeAt(i))||a>57){M=(46===a?l+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var S=d.length+t.length+M.length,I=S<p?new Array(p-S+1).join(e):"";switch(g&&h&&(t=r(I+t,I.length?p-M.length:1/0),I=""),n){case"<":t=d+t+M+I;break;case"=":t=d+I+t+M;break;case"^":t=I.slice(0,S=I.length>>1)+d+t+M+I.slice(S);break;default:t=I+d+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=zi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Vi(e)/3))),i=Math.pow(10,-r),o=to[8+r/3];return function(t){return n(i*t)+o}}}}function no(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=sr?i*=10:o>=ar?i*=5:o>=cr&&(i*=2),e<t?-i:i}(t,e,n);switch((r=zi(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vi(e)/3)))-Vi(Math.abs(t)))}(o,l))||(r.precision=i),Qi(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vi(e)-Vi(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Vi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Xi(r)}function ro(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,l,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(l=ur(t,e,n))||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*l;else for(l=-l,t=Math.ceil(t*l),e=Math.floor(e*l),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/l;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return no(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),l=0,s=o.length-1,a=o[l],c=o[s],u=10;for(c<a&&(i=a,a=c,c=i,i=l,l=s,s=i);u-- >0;){if((i=ur(a,c,n))===r)return o[l]=a,o[s]=c,e(o);if(i>0)a=Math.floor(a/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function io(){var t=Fi();return t.copy=function(){return Bi(t,io())},Li.apply(t,arguments),ro(t)}function oo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lo(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function so(t){return t<0?-t*t:t*t}function ao(t){var e=t(Oi,Oi),n=1;function r(){return 1===n?t(Oi,Oi):.5===n?t(lo,so):t(oo(n),oo(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},ro(e)}function co(){var t=ao(Di());return t.copy=function(){return Bi(t,co()).exponent(t.exponent())},Li.apply(t,arguments),t}Yi=eo({thousands:",",grouping:[3],currency:["$",""]}),Xi=Yi.format,Qi=Yi.formatPrefix;const uo=Math.PI,fo=2*uo,ho=1e-6,po=fo-ho;function go(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function mo(){return new go}function $o(t){return function(){return t}}go.prototype=mo.prototype={constructor:go,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,l=this._y1,s=n-t,a=r-e,c=o-t,u=l-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>ho)if(Math.abs(u*s-a*c)>ho&&i){var d=n-o,h=r-l,p=s*s+a*a,g=d*d+h*h,m=Math.sqrt(p),$=Math.sqrt(f),y=i*Math.tan((uo-Math.acos((p+f-g)/(2*m*$)))/2),v=y/$,b=y/m;Math.abs(v-1)>ho&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*h)+","+(this._x1=t+b*s)+","+(this._y1=e+b*a)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var l=(n=+n)*Math.cos(r),s=n*Math.sin(r),a=t+l,c=e+s,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+a+","+c:(Math.abs(this._x1-a)>ho||Math.abs(this._y1-c)>ho)&&(this._+="L"+a+","+c),n&&(f<0&&(f=f%fo+fo),f>po?this._+="A"+n+","+n+",0,1,"+u+","+(t-l)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=a)+","+(this._y1=c):f>ho&&(this._+="A"+n+","+n+",0,"+ +(f>=uo)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var yo=Math.abs,vo=Math.atan2,bo=Math.cos,xo=Math.max,wo=Math.min,Mo=Math.sin,ko=Math.sqrt,So=1e-12,Io=Math.PI,Lo=Io/2,_o=2*Io;function No(t){return t>1?0:t<-1?Io:Math.acos(t)}function Co(t){return t>=1?Lo:t<=-1?-Lo:Math.asin(t)}function Ao(t){return t.innerRadius}function To(t){return t.outerRadius}function Ho(t){return t.startAngle}function Oo(t){return t.endAngle}function qo(t){return t&&t.padAngle}function jo(t,e,n,r,i,o,l,s){var a=n-t,c=r-e,u=l-i,f=s-o,d=f*a-u*c;if(!(d*d<So))return[t+(d=(u*(e-o)-f*(t-i))/d)*a,e+d*c]}function Eo(t,e,n,r,i,o,l){var s=t-n,a=e-r,c=(l?o:-o)/ko(s*s+a*a),u=c*a,f=-c*s,d=t+u,h=e+f,p=n+u,g=r+f,m=(d+p)/2,$=(h+g)/2,y=p-d,v=g-h,b=y*y+v*v,x=i-o,w=d*g-p*h,M=(v<0?-1:1)*ko(xo(0,x*x*b-w*w)),k=(w*v-y*M)/b,S=(-w*y-v*M)/b,I=(w*v+y*M)/b,L=(-w*y+v*M)/b,_=k-m,N=S-$,C=I-m,A=L-$;return _*_+N*N>C*C+A*A&&(k=I,S=L),{cx:k,cy:S,x01:-u,y01:-f,x11:k*(i/x-1),y11:S*(i/x-1)}}function Bo(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function Do(e){let n,r,i,o,l,s,a,c,u,f;return{c(){n=S("g"),r=S("line"),o=S("line"),a=S("line"),C(r,"x1","0"),C(r,"y1","0"),C(r,"x2","0"),C(r,"y2",e[2]),C(r,"class","svelte-1612xng"),C(o,"class","arrow-marker svelte-1612xng"),C(o,"x1",-Po),C(o,"y1",l=e[2]-Fo),C(o,"x2","0"),C(o,"y2",e[2]),C(a,"class","arrow-marker svelte-1612xng"),C(a,"x1",Po),C(a,"y1",c=e[2]-Fo),C(a,"x2","0"),C(a,"y2",e[2]),C(n,"class","arrow svelte-1612xng"),C(n,"transform",f="translate("+e[0]+", "+e[1]+") rotate("+e[5]+")")},m(t,e){x(t,n,e),b(n,r),b(n,o),b(n,a)},p(t,[i]){e=t,4&i&&C(r,"y2",e[2]),4&i&&l!==(l=e[2]-Fo)&&C(o,"y1",l),4&i&&C(o,"y2",e[2]),4&i&&c!==(c=e[2]-Fo)&&C(a,"y1",c),4&i&&C(a,"y2",e[2]),3&i&&f!==(f="translate("+e[0]+", "+e[1]+") rotate("+e[5]+")")&&C(n,"transform",f)},i(t){i||at((()=>{i=Mt(r,xn,{duration:e[3]?e[4]:0,easing:dn}),i.start()})),s||at((()=>{s=Mt(o,vn,e[6]),s.start()})),u||at((()=>{u=Mt(a,vn,e[6]),u.start()}))},o:t,d(t){t&&w(n)}}}const Fo=5,Po=3;function Vo(t,e,n){let r;c(t,$n,(t=>n(4,r=t)));let{x:i=0}=e,{y:o=0}=e,{orient:l="right"}=e,{length:s=20}=e,{animate:a=!1}=e;const u={down:0,left:90,up:180,right:270}[l],f={duration:a?10:0,delay:r};return t.$$set=t=>{"x"in t&&n(0,i=t.x),"y"in t&&n(1,o=t.y),"orient"in t&&n(7,l=t.orient),"length"in t&&n(2,s=t.length),"animate"in t&&n(3,a=t.animate)},[i,o,s,a,r,u,f,l]}class Ro extends Tt{constructor(t){super(),At(this,t,Vo,Do,s,{x:0,y:1,orient:7,length:2,animate:3})}}function Go(t,e){return zo(t,e),{update(e){zo(t,e)}}}function zo(t,e){const n=t.style.getPropertyValue("transform").split(" ").map((t=>t.trim())).filter((t=>!t.includes("translate"))).join(" ");t.style.setProperty("transform",n+` translate(${e.dx||0}px, ${e.dy||0}px)`)}function Wo(t){let e,n,r,i,o,l,s,a,c,u,f,d,h,p,g=Math.round(t[5])+"",m=Math.round(t[4])+"",$=t[6](100*t[1])+"",y=t[1]>0&&Uo();return{c(){e=S("g"),n=S("line"),r=S("text"),i=I(g),o=S("text"),l=I(m),s=S("g"),y&&y.c(),a=S("text"),c=I($),u=I("%"),C(n,"x1",-Zo+Yo),C(n,"y1","0"),C(n,"x2",Zo-Yo),C(n,"y2","0"),C(n,"class","svelte-5mbfhs"),C(r,"class","difference svelte-5mbfhs"),C(r,"dy","-5"),C(o,"class","reactive-number svelte-5mbfhs"),C(o,"x",Zo),C(a,"class","change svelte-5mbfhs"),C(a,"dx","5"),F(a,"zero",!t[1]),C(s,"transform",f="translate("+(Zo+t[7]+10)+" 0)"),C(s,"class","svelte-5mbfhs"),C(e,"class","svelte-5mbfhs")},m(f,d){x(f,e,d),b(e,n),b(e,r),b(r,i),b(e,o),b(o,l),t[15](o),b(e,s),y&&y.m(s,null),b(s,a),b(a,c),b(a,u),p=!0},p(e,n){t=e,(!p||32&n)&&g!==(g=Math.round(t[5])+"")&&O(i,g),(!p||16&n)&&m!==(m=Math.round(t[4])+"")&&O(l,m),t[1]>0?y?(y.p(t,n),2&n&&bt(y,1)):(y=Uo(),y.c(),bt(y,1),y.m(s,a)):y&&(yt(),xt(y,1,1,(()=>{y=null})),vt()),(!p||66&n)&&$!==($=t[6](100*t[1])+"")&&O(c,$),2&n&&F(a,"zero",!t[1]),(!p||128&n&&f!==(f="translate("+(Zo+t[7]+10)+" 0)"))&&C(s,"transform",f)},i(n){p||(bt(y),at((()=>{h&&h.end(1),d||(d=Mt(e,bn,{duration:t[8],delay:t[8]-100,x:Xo})),d.start()})),p=!0)},o(n){xt(y),d&&d.invalidate(),h=kt(e,bn,{duration:t[8],x:Xo}),p=!1},d(n){n&&w(e),t[15](null),y&&y.d(),n&&h&&h.end()}}}function Uo(e){let n,r;return n=new Ro({props:{orient:"down",length:Qo,y:-Qo/2}}),{c(){_t(n.$$.fragment)},m(t,e){Nt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){Ct(n,t)}}}function Jo(t){let e,n,r,i,o,l=t[3]&&Wo(t);return{c(){e=S("g"),n=S("text"),r=I(t[0]),l&&l.c(),C(n,"class","static-number svelte-5mbfhs"),C(n,"x",i=-t[9]),j(n,"text-anchor",t[3]?"end":"middle"),C(e,"class","number-pair svelte-5mbfhs")},m(t,i){x(t,e,i),b(e,n),b(n,r),l&&l.m(e,null),o=!0},p(t,[s]){(!o||1&s)&&O(r,t[0]),(!o||512&s&&i!==(i=-t[9]))&&C(n,"x",i),(!o||8&s)&&j(n,"text-anchor",t[3]?"end":"middle"),t[3]?l?(l.p(t,s),8&s&&bt(l,1)):(l=Wo(t),l.c(),bt(l,1),l.m(e,null)):l&&(yt(),xt(l,1,1,(()=>{l=null})),vt())},i(t){o||(bt(l),o=!0)},o(t){xt(l),o=!1},d(t){t&&w(e),l&&l.d()}}}const Zo=27,Yo=15,Xo=10,Qo=14;function Ko(t,e,n){let r,i,o,l,s,a;c(t,yn,(t=>n(8,i=t))),c(t,mn,(t=>n(16,o=t))),c(t,Tn,(t=>n(14,l=t)));let u,f,{staticNumber:d=0}=e,{data:h=[]}=e,{func:p}=e,g=0,m=0,$=0;const y=gn(0,{duration:i,easing:dn});c(t,y,(t=>n(9,a=t)));const v=gn(void 0,{duration:o,easing:dn});c(t,v,(t=>n(4,s=t)));const b=t=>Math.round(t),x=t=>Math.round(10*t)/10;return t.$$set=t=>{"staticNumber"in t&&n(0,d=t.staticNumber),"data"in t&&n(12,h=t.data),"func"in t&&n(13,p=t.func)},t.$$.update=()=>{16384&t.$$.dirty&&n(3,r=l<1/0),8&t.$$.dirty&&y.set(r?Zo:0),12288&t.$$.dirty&&v.set(Math.round(p(h))),17&t.$$.dirty&&n(5,m=s-d),17&t.$$.dirty&&n(1,g=1-s/d),2&t.$$.dirty&&n(6,u=100*g<10?x:b),4&t.$$.dirty&&n(7,$=f?f.getBBox().width:0)},[d,g,f,r,s,m,u,$,i,a,y,v,h,p,l,function(t){et[t?"unshift":"push"]((()=>{f=t,n(2,f)}))}]}class tl extends Tt{constructor(t){super(),At(this,t,Ko,Jo,s,{staticNumber:0,data:12,func:13})}}function el(t){let e,n,r,i,l,s,a,c,u,f,d,p,g,m;return l=new tl({props:{staticNumber:Math.round(t[2]),data:t[0],func:t[5]}}),u=new tl({props:{staticNumber:Math.round(t[1]),data:t[0],func:t[4]}}),{c(){e=S("g"),n=S("g"),r=S("text"),i=I("Impact Factor"),_t(l.$$.fragment),s=S("g"),a=S("text"),c=I("based on "),_t(u.$$.fragment),f=S("text"),d=I("articles"),C(r,"dy",-nl),C(r,"class","svelte-12ahkhy"),C(n,"class","g-impact"),C(a,"dy",-nl),C(a,"class","svelte-12ahkhy"),C(f,"dy",nl),C(f,"class","svelte-12ahkhy"),C(s,"class","g-count"),C(e,"class","center")},m(o,$){x(o,e,$),b(e,n),b(n,r),b(r,i),Nt(l,n,null),b(e,s),b(s,a),b(a,c),Nt(u,s,null),b(s,f),b(f,d),p=!0,g||(m=[h(Go.call(null,n,{dy:-t[3]})),h(Go.call(null,s,{dy:t[3]}))],g=!0)},p(t,[e]){const n={};4&e&&(n.staticNumber=Math.round(t[2])),1&e&&(n.data=t[0]),l.$set(n);const r={};2&e&&(r.staticNumber=Math.round(t[1])),1&e&&(r.data=t[0]),u.$set(r)},i(t){p||(bt(l.$$.fragment,t),bt(u.$$.fragment,t),p=!0)},o(t){xt(l.$$.fragment,t),xt(u.$$.fragment,t),p=!1},d(t){t&&w(e),Ct(l),Ct(u),g=!1,o(m)}}}const nl=18;function rl(t,e,n){let r;c(t,Rt,(t=>n(7,r=t)));let{selectedData:i=[]}=e,{brightData:o=[]}=e;const l=r/4,s=t=>t.length,a=t=>mr(t,(t=>t.data.citedBy));let u=0,f=0;return t.$$set=t=>{"selectedData"in t&&n(6,i=t.selectedData),"brightData"in t&&n(0,o=t.brightData)},t.$$.update=()=>{64&t.$$.dirty&&n(1,u=s(i)),64&t.$$.dirty&&n(2,f=a(i))},[o,u,f,l,s,a,i]}class il extends Tt{constructor(t){super(),At(this,t,rl,el,s,{selectedData:6,brightData:0})}}function ol(t){let e,n,r,i,o;return{c(){e=S("line"),C(e,"class","axis-line svelte-1nlzmba"),C(e,"x1",n=t[0][0]),C(e,"y1",r=t[0][1]),C(e,"x2",i=t[1][0]),C(e,"y2",o=t[1][1])},m(t,n){x(t,e,n)},p(t,l){1&l&&n!==(n=t[0][0])&&C(e,"x1",n),1&l&&r!==(r=t[0][1])&&C(e,"y1",r),2&l&&i!==(i=t[1][0])&&C(e,"x2",i),2&l&&o!==(o=t[1][1])&&C(e,"y2",o)},d(t){t&&w(e)}}}function ll(e){let n,r=e[0][0]&&ol(e);return{c(){r&&r.c(),n=_()},m(t,e){r&&r.m(t,e),x(t,n,e)},p(t,[e]){t[0][0]?r?r.p(t,e):(r=ol(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&w(n)}}}function sl(t,e,n){let r,i;c(t,Rt,(t=>n(3,r=t))),c(t,Gt,(t=>n(4,i=t)));let{angle:o=0}=e,l=[],s=[];return t.$$set=t=>{"angle"in t&&n(2,o=t.angle)},t.$$.update=()=>{12&t.$$.dirty&&n(0,l=Bo(o,r-10)),20&t.$$.dirty&&n(1,s=Bo(o,i))},[l,s,o,r,i]}class al extends Tt{constructor(t){super(),At(this,t,sl,ll,s,{angle:2})}}function cl(t){let e,n,r,i,o,l,s,a;const c=t[6].default,f=u(c,t,t[5],null);return{c(){e=S("g"),n=S("path"),i=S("text"),o=S("textPath"),f&&f.c(),C(n,"id",t[1]),C(n,"d",r=t[4](t[0],t[2],t[2]+Math.PI)),C(n,"class","svelte-gy8pyy"),H(o,"xlink:href",l=`#${t[1]}`),C(o,"startOffset",ul),C(i,"dy",s=t[3]?8:0),C(i,"class","svelte-gy8pyy"),C(e,"class","label")},m(t,r){x(t,e,r),b(e,n),b(e,i),b(i,o),f&&f.m(o,null),a=!0},p(t,[e]){(!a||2&e)&&C(n,"id",t[1]),(!a||5&e&&r!==(r=t[4](t[0],t[2],t[2]+Math.PI)))&&C(n,"d",r),f&&f.p&&32&e&&d(f,c,t,t[5],e,null,null),(!a||2&e&&l!==(l=`#${t[1]}`))&&H(o,"xlink:href",l),(!a||8&e&&s!==(s=t[3]?8:0))&&C(i,"dy",s)},i(t){a||(bt(f,t),a=!0)},o(t){xt(f,t),a=!1},d(t){t&&w(e),f&&f.d(t)}}}const ul=3;function fl(t,e,n){let{$$slots:r={},$$scope:i}=e,{pathId:o=""}=e,{radius:l=0}=e,{angle:s=0}=e,{hanging:a=!1}=e;return t.$$set=t=>{"pathId"in t&&n(1,o=t.pathId),"radius"in t&&n(0,l=t.radius),"angle"in t&&n(2,s=t.angle),"hanging"in t&&n(3,a=t.hanging),"$$scope"in t&&n(5,i=t.$$scope)},t.$$.update=()=>{9&t.$$.dirty&&n(0,l+=a?-ul:+ul)},[l,o,s,a,function(t,e,n){return[`M${Bo(e,t)}`,`A${t},${t} 0,0,1 ${Bo(n,t)}`].join(" ")},i,r]}class dl extends Tt{constructor(t){super(),At(this,t,fl,cl,s,{pathId:1,radius:0,angle:2,hanging:3})}}function hl(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function pl(t,e,n){const r=t.slice();return r[3]=e[n],r}function gl(t){let e,n;return e=new al({props:{angle:t[3].angle}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.angle=t[3].angle),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function ml(t){let e,n,r=t[3].text+"";return{c(){e=I(r),n=L()},m(t,r){x(t,e,r),x(t,n,r)},p(t,n){1&n&&r!==(r=t[3].text+"")&&O(e,r)},d(t){t&&w(e),t&&w(n)}}}function $l(t){let e,n;return e=new dl({props:{pathId:`path-axis-x-label-${t[5]}`,radius:t[1],angle:t[3].angle,hanging:!0,$$slots:{default:[ml]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.radius=t[1]),1&n&&(r.angle=t[3].angle),257&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function yl(t){let e,n,r,i,o=t[0],l=[];for(let e=0;e<o.length;e+=1)l[e]=gl(pl(t,o,e));const s=t=>xt(l[t],1,1,(()=>{l[t]=null}));let a=t[0],c=[];for(let e=0;e<a.length;e+=1)c[e]=$l(hl(t,a,e));const u=t=>xt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=S("g"),n=S("g");for(let t=0;t<l.length;t+=1)l[t].c();r=S("g");for(let t=0;t<c.length;t+=1)c[t].c();C(n,"class","axis-lines"),C(r,"class","axis-labels"),C(e,"class","axis axis-x")},m(t,o){x(t,e,o),b(e,n);for(let t=0;t<l.length;t+=1)l[t].m(n,null);b(e,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null);i=!0},p(t,[e]){if(1&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=pl(t,o,r);l[r]?(l[r].p(i,e),bt(l[r],1)):(l[r]=gl(i),l[r].c(),bt(l[r],1),l[r].m(n,null))}for(yt(),r=o.length;r<l.length;r+=1)s(r);vt()}if(3&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const i=hl(t,a,n);c[n]?(c[n].p(i,e),bt(c[n],1)):(c[n]=$l(i),c[n].c(),bt(c[n],1),c[n].m(r,null))}for(yt(),n=a.length;n<c.length;n+=1)u(n);vt()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)bt(l[t]);for(let t=0;t<a.length;t+=1)bt(c[t]);i=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)xt(l[t]);c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)xt(c[t]);i=!1},d(t){t&&w(e),M(l,t),M(c,t)}}}function vl(t,e,n){let r;c(t,Rt,(t=>n(1,r=t)));let{selectedData:i=[]}=e,o=[];return t.$$set=t=>{"selectedData"in t&&n(2,i=t.selectedData)},t.$$.update=()=>{if(4&t.$$.dirty){const t=function(t,e,...n){return lr(t,Array.from,e,n)}(i,(t=>t[0].angle),(t=>[t.data.year,t.data.volume].join("/")));let e=new Set;n(0,o=t.map((([t,n])=>{const r=t.split("/"),i=+r[0];return t=e.has(i)?r[1]:t.slice(2),e.add(i),{text:t,angle:n}})))}},[o,r,i]}class bl extends Tt{constructor(t){super(),At(this,t,vl,yl,s,{selectedData:2})}}function xl(t,e,n){const r=t.slice();return r[6]=e[n],r}function wl(t){let e,n,r,i;function l(){return t[5](t[6])}return{c(){e=S("path"),C(e,"d",n=t[1]({innerRadius:t[6][0].radius,outerRadius:t[6][1].radius}))},m(n,o){x(n,e,o),r||(i=[N(e,"mouseenter",l),N(e,"mouseleave",t[3])],r=!0)},p(r,i){t=r,1&i&&n!==(n=t[1]({innerRadius:t[6][0].radius,outerRadius:t[6][1].radius}))&&C(e,"d",n)},d(t){t&&w(e),r=!1,o(i)}}}function Ml(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=wl(xl(e,r,t));return{c(){n=S("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"class","axis-interaction svelte-1jltwfn")},m(t,e){x(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(15&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=xl(t,r,o);i[o]?i[o].p(l,e):(i[o]=wl(l),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&w(n),M(i,t)}}}function kl(t,e,n){let{quantiles:r=[]}=e,i=[];const o=function(){var t=Ao,e=To,n=$o(0),r=null,i=Ho,o=Oo,l=qo,s=null;function a(){var a,c,u=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-Lo,h=o.apply(this,arguments)-Lo,p=yo(h-d),g=h>d;if(s||(s=a=mo()),f<u&&(c=f,f=u,u=c),f>So)if(p>_o-So)s.moveTo(f*bo(d),f*Mo(d)),s.arc(0,0,f,d,h,!g),u>So&&(s.moveTo(u*bo(h),u*Mo(h)),s.arc(0,0,u,h,d,g));else{var m,$,y=d,v=h,b=d,x=h,w=p,M=p,k=l.apply(this,arguments)/2,S=k>So&&(r?+r.apply(this,arguments):ko(u*u+f*f)),I=wo(yo(f-u)/2,+n.apply(this,arguments)),L=I,_=I;if(S>So){var N=Co(S/u*Mo(k)),C=Co(S/f*Mo(k));(w-=2*N)>So?(b+=N*=g?1:-1,x-=N):(w=0,b=x=(d+h)/2),(M-=2*C)>So?(y+=C*=g?1:-1,v-=C):(M=0,y=v=(d+h)/2)}var A=f*bo(y),T=f*Mo(y),H=u*bo(x),O=u*Mo(x);if(I>So){var q,j=f*bo(v),E=f*Mo(v),B=u*bo(b),D=u*Mo(b);if(p<Io&&(q=jo(A,T,B,D,j,E,H,O))){var F=A-q[0],P=T-q[1],V=j-q[0],R=E-q[1],G=1/Mo(No((F*V+P*R)/(ko(F*F+P*P)*ko(V*V+R*R)))/2),z=ko(q[0]*q[0]+q[1]*q[1]);L=wo(I,(u-z)/(G-1)),_=wo(I,(f-z)/(G+1))}}M>So?_>So?(m=Eo(B,D,A,T,f,_,g),$=Eo(j,E,H,O,f,_,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),_<I?s.arc(m.cx,m.cy,_,vo(m.y01,m.x01),vo($.y01,$.x01),!g):(s.arc(m.cx,m.cy,_,vo(m.y01,m.x01),vo(m.y11,m.x11),!g),s.arc(0,0,f,vo(m.cy+m.y11,m.cx+m.x11),vo($.cy+$.y11,$.cx+$.x11),!g),s.arc($.cx,$.cy,_,vo($.y11,$.x11),vo($.y01,$.x01),!g))):(s.moveTo(A,T),s.arc(0,0,f,y,v,!g)):s.moveTo(A,T),u>So&&w>So?L>So?(m=Eo(H,O,j,E,u,-L,g),$=Eo(A,T,B,D,u,-L,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),L<I?s.arc(m.cx,m.cy,L,vo(m.y01,m.x01),vo($.y01,$.x01),!g):(s.arc(m.cx,m.cy,L,vo(m.y01,m.x01),vo(m.y11,m.x11),!g),s.arc(0,0,u,vo(m.cy+m.y11,m.cx+m.x11),vo($.cy+$.y11,$.cx+$.x11),g),s.arc($.cx,$.cy,L,vo($.y11,$.x11),vo($.y01,$.x01),!g))):s.arc(0,0,u,x,b,g):s.lineTo(H,O)}else s.moveTo(0,0);if(s.closePath(),a)return s=null,a+""||null}return a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Io/2;return[bo(r)*n,Mo(r)*n]},a.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:$o(+e),a):t},a.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:$o(+t),a):e},a.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:$o(+t),a):n},a.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:$o(+t),a):r},a.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:$o(+t),a):i},a.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:$o(+t),a):o},a.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:$o(+t),a):l},a.context=function(t){return arguments.length?(s=null==t?null:t,a):s},a}().startAngle(0).endAngle(2*Math.PI);function l(t,e){An.set(t),Tn.set(e)}return t.$$set=t=>{"quantiles"in t&&n(4,r=t.quantiles)},t.$$.update=()=>{16&t.$$.dirty&&(n(0,i=function(t,e=$r){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}(r)),n(0,i[0][0]={q:void 0,value:void 0,radius:0},i))},[i,o,l,function(t){t.relatedTarget?.classList.contains("svg")&&(An.set(1),Tn.set(1/0))},r,t=>l(t[1].q,t[1].value)]}class Sl extends Tt{constructor(t){super(),At(this,t,kl,Ml,s,{quantiles:4})}}function Il(e){let n;return{c(){n=S("circle"),C(n,"class","axis-line svelte-7tm97l"),C(n,"cx","0"),C(n,"cy","0"),C(n,"r",e[0]),C(n,"stroke",e[1]),C(n,"stroke-opacity",e[2])},m(t,e){x(t,n,e)},p(t,[e]){1&e&&C(n,"r",t[0]),2&e&&C(n,"stroke",t[1]),4&e&&C(n,"stroke-opacity",t[2])},i:t,o:t,d(t){t&&w(n)}}}function Ll(t,e,n){let r,i,o,l,s,a,u;c(t,mn,(t=>n(10,r=t))),c(t,yn,(t=>n(11,i=t))),c(t,$n,(t=>n(12,o=t))),c(t,An,(t=>n(9,l=t)));let{q:f=0}=e,{radius:d=0}=e,h=!1;const p=gn(d,{delay:r,duration:i,easing:dn});c(t,p,(t=>n(0,s=t)));const g=gn(jn,{duration:o,interpolate:an});c(t,g,(t=>n(1,a=t)));const m=gn(.2,{duration:o});return c(t,m,(t=>n(2,u=t))),t.$$set=t=>{"q"in t&&n(6,f=t.q),"radius"in t&&n(7,d=t.radius)},t.$$.update=()=>{576&t.$$.dirty&&n(8,h=f===l),128&t.$$.dirty&&p.set(d),256&t.$$.dirty&&g.set(h?"#ffc917":jn),256&t.$$.dirty&&m.set(h?1:.2)},[s,a,u,p,g,m,f,d,h,l]}class _l extends Tt{constructor(t){super(),At(this,t,Ll,Il,s,{q:6,radius:7})}}function Nl(e){let n;return{c(){n=S("circle"),C(n,"class","axis-line svelte-1sgd7pk"),C(n,"cx","0"),C(n,"cy","0"),C(n,"r",e[0])},m(t,e){x(t,n,e)},p(t,[e]){1&e&&C(n,"r",t[0])},i:t,o:t,d(t){t&&w(n)}}}function Cl(t,e,n){let{radius:r=0}=e;return t.$$set=t=>{"radius"in t&&n(0,r=t.radius)},[r]}class Al extends Tt{constructor(t){super(),At(this,t,Cl,Nl,s,{radius:0})}}function Tl(t,e,n){const r=t.slice();return r[3]=e[n],r}function Hl(t,e,n){const r=t.slice();return r[3]=e[n],r}function Ol(t,e,n){const r=t.slice();return r[8]=e[n],r}function ql(t){let e,n;return e=new _l({props:{q:t[8].q,radius:t[8].radius}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.q=t[8].q),1&n&&(r.radius=t[8].radius),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function jl(t){let e,n;return e=new Al({props:{radius:t[3].radius}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.radius=t[3].radius),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function El(t){let e,n,r=t[3].value+"";return{c(){e=I(r),n=L()},m(t,r){x(t,e,r),x(t,n,r)},p(t,n){2&n&&r!==(r=t[3].value+"")&&O(e,r)},d(t){t&&w(e),t&&w(n)}}}function Bl(t){let e,n;return e=new dl({props:{pathId:`path-axis-y-label-${t[3].value}`,radius:t[3].radius,angle:-Math.PI/2,$$slots:{default:[El]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.pathId=`path-axis-y-label-${t[3].value}`),2&n&&(r.radius=t[3].radius),2050&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Dl(t){let e,n,r,i,o,l;n=new Sl({props:{quantiles:t[0]}});let s=t[0],a=[];for(let e=0;e<s.length;e+=1)a[e]=ql(Ol(t,s,e));const c=t=>xt(a[t],1,1,(()=>{a[t]=null}));let u=t[1],f=[];for(let e=0;e<u.length;e+=1)f[e]=jl(Hl(t,u,e));const d=t=>xt(f[t],1,1,(()=>{f[t]=null}));let h=t[1],p=[];for(let e=0;e<h.length;e+=1)p[e]=Bl(Tl(t,h,e));const g=t=>xt(p[t],1,1,(()=>{p[t]=null}));return{c(){e=S("g"),_t(n.$$.fragment),r=S("g");for(let t=0;t<a.length;t+=1)a[t].c();i=S("g");for(let t=0;t<f.length;t+=1)f[t].c();o=S("g");for(let t=0;t<p.length;t+=1)p[t].c();C(r,"class","quantile-lines"),C(i,"class","axis-lines"),C(o,"class","axis-labels"),C(e,"class","axis axis-y")},m(t,s){x(t,e,s),Nt(n,e,null),b(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);b(e,i);for(let t=0;t<f.length;t+=1)f[t].m(i,null);b(e,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null);l=!0},p(t,[e]){const l={};if(1&e&&(l.quantiles=t[0]),n.$set(l),1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=Ol(t,s,n);a[n]?(a[n].p(i,e),bt(a[n],1)):(a[n]=ql(i),a[n].c(),bt(a[n],1),a[n].m(r,null))}for(yt(),n=s.length;n<a.length;n+=1)c(n);vt()}if(2&e){let n;for(u=t[1],n=0;n<u.length;n+=1){const r=Hl(t,u,n);f[n]?(f[n].p(r,e),bt(f[n],1)):(f[n]=jl(r),f[n].c(),bt(f[n],1),f[n].m(i,null))}for(yt(),n=u.length;n<f.length;n+=1)d(n);vt()}if(2&e){let n;for(h=t[1],n=0;n<h.length;n+=1){const r=Tl(t,h,n);p[n]?(p[n].p(r,e),bt(p[n],1)):(p[n]=Bl(r),p[n].c(),bt(p[n],1),p[n].m(o,null))}for(yt(),n=h.length;n<p.length;n+=1)g(n);vt()}},i(t){if(!l){bt(n.$$.fragment,t);for(let t=0;t<s.length;t+=1)bt(a[t]);for(let t=0;t<u.length;t+=1)bt(f[t]);for(let t=0;t<h.length;t+=1)bt(p[t]);l=!0}},o(t){xt(n.$$.fragment,t),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)xt(a[t]);f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)xt(f[t]);p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)xt(p[t]);l=!1},d(t){t&&w(e),Ct(n),M(a,t),M(f,t),M(p,t)}}}function Fl(t,e,n){let r;c(t,Fn,(t=>n(2,r=t)));let{quantiles:i=[]}=e,o=[];return t.$$set=t=>{"quantiles"in t&&n(0,i=t.quantiles)},t.$$.update=()=>{4&t.$$.dirty&&n(1,o=yr(500,r.domain()[1],500).map((t=>({value:t,radius:r(t)}))))},[i,o,r]}class Pl extends Tt{constructor(t){super(),At(this,t,Fl,Dl,s,{quantiles:0})}}function Vl(t){let e,n,r,i,o;return r=new Ro({props:{x:"0",y:-t[2],length:zl,orient:"up",animate:!0}}),i=new dl({props:{pathId:"path-quantile-label-upper-"+t[0],radius:t[2],angle:"0",$$slots:{default:[Rl]},$$scope:{ctx:t}}}),{c(){e=S("g"),n=S("g"),_t(r.$$.fragment),_t(i.$$.fragment),C(e,"class","quantile-label svelte-1kddk3k")},m(t,l){x(t,e,l),b(e,n),Nt(r,n,null),Nt(i,n,null),o=!0},p(t,e){const n={};4&e&&(n.y=-t[2]),r.$set(n);const o={};1&e&&(o.pathId="path-quantile-label-upper-"+t[0]),4&e&&(o.radius=t[2]),282&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o)},i(t){o||(bt(r.$$.fragment,t),bt(i.$$.fragment,t),o=!0)},o(t){xt(r.$$.fragment,t),xt(i.$$.fragment,t),o=!1},d(t){t&&w(e),Ct(r),Ct(i)}}}function Rl(t){let e,n,r,i,o,l,s,a,c,u=t[6](1-t[1])+"";return{c(){e=S("tspan"),n=I(t[4]),r=I(" of "),i=I(t[3]),o=I("\n        articles excluded\n        "),l=S("tspan"),s=I("("),a=I(u),c=I(")"),C(e,"class","svelte-1kddk3k"),C(l,"class","svelte-1kddk3k")},m(t,u){x(t,e,u),b(e,n),b(e,r),b(e,i),x(t,o,u),x(t,l,u),b(l,s),b(l,a),b(l,c)},p(t,e){16&e&&O(n,t[4]),8&e&&O(i,t[3]),2&e&&u!==(u=t[6](1-t[1])+"")&&O(a,u)},d(t){t&&w(e),t&&w(o),t&&w(l)}}}function Gl(t){let e,n,r=t[1]===t[5]&&Vl(t);return{c(){r&&r.c(),e=_()},m(t,i){r&&r.m(t,i),x(t,e,i),n=!0},p(t,[n]){t[1]===t[5]?r?(r.p(t,n),34&n&&bt(r,1)):(r=Vl(t),r.c(),bt(r,1),r.m(e.parentNode,e)):r&&(yt(),xt(r,1,1,(()=>{r=null})),vt())},i(t){n||(bt(r),n=!0)},o(t){xt(r),n=!1},d(t){r&&r.d(t),t&&w(e)}}}const zl=18;function Wl(t,e,n){let r;c(t,An,(t=>n(5,r=t)));let{id:i=0}=e,{q:o=0}=e,{radius:l=0}=e,{nStars:s=0}=e,{nBrightStars:a=0}=e,u=0;const f=Xi(o>.99?".1%":".0%");return t.$$set=t=>{"id"in t&&n(0,i=t.id),"q"in t&&n(1,o=t.q),"radius"in t&&n(2,l=t.radius),"nStars"in t&&n(3,s=t.nStars),"nBrightStars"in t&&n(7,a=t.nBrightStars)},t.$$.update=()=>{136&t.$$.dirty&&n(4,u=s-a)},[i,o,l,s,u,r,f,a]}class Ul extends Tt{constructor(t){super(),At(this,t,Wl,Gl,s,{id:0,q:1,radius:2,nStars:3,nBrightStars:7})}}function Jl(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Zl(t){let e,n;return e=new Ul({props:{id:t[5],q:t[3].q,radius:t[3].radius,nStars:t[1],nBrightStars:t[2]}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.q=t[3].q),1&n&&(r.radius=t[3].radius),2&n&&(r.nStars=t[1]),4&n&&(r.nBrightStars=t[2]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function Yl(t){let e,n,r=t[0].slice(1),i=[];for(let e=0;e<r.length;e+=1)i[e]=Zl(Jl(t,r,e));const o=t=>xt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=S("g");for(let t=0;t<i.length;t+=1)i[t].c();C(e,"class","quantile-labels")},m(t,r){x(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(7&n){let l;for(r=t[0].slice(1),l=0;l<r.length;l+=1){const o=Jl(t,r,l);i[l]?(i[l].p(o,n),bt(i[l],1)):(i[l]=Zl(o),i[l].c(),bt(i[l],1),i[l].m(e,null))}for(yt(),l=r.length;l<i.length;l+=1)o(l);vt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)bt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)xt(i[t]);n=!1},d(t){t&&w(e),M(i,t)}}}function Xl(t,e,n){let{quantiles:r=[]}=e,{nStars:i=0}=e,{nBrightStars:o=0}=e;return t.$$set=t=>{"quantiles"in t&&n(0,r=t.quantiles),"nStars"in t&&n(1,i=t.nStars),"nBrightStars"in t&&n(2,o=t.nBrightStars)},[r,i,o]}class Ql extends Tt{constructor(t){super(),At(this,t,Xl,Yl,s,{quantiles:0,nStars:1,nBrightStars:2})}}function Kl(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function ts(t,e,n){const r=t.slice();return r[8]=e[n].x,r[9]=e[n].y,r[10]=e[n].r,r[0]=e[n].data,r}function es(t){let e,n,r,i=[],o=new Map,l=t[5];const s=t=>t[0].doi;for(let e=0;e<l.length;e+=1){let n=ts(t,l,e),r=s(n);o.set(r,i[e]=ns(r,n))}return{c(){e=S("g");for(let t=0;t<i.length;t+=1)i[t].c();C(e,"class","star-group")},m(t,n){x(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);r=!0},p(n,r){t=n,2&r&&(l=t[5],yt(),i=It(i,r,s,1,t,l,o,e,St,ns,null,ts),vt())},i(t){if(!r){for(let t=0;t<l.length;t+=1)bt(i[t]);n&&n.end(1),r=!0}},o(o){for(let t=0;t<i.length;t+=1)xt(i[t]);n=kt(e,vn,{duration:t[3],easing:fn}),r=!1},d(t){t&&w(e);for(let t=0;t<i.length;t+=1)i[t].d();t&&n&&n.end()}}}function ns(t,e){let n,r,i;return r=new Dn({props:{x:e[8],y:e[9],r:e[10],data:e[0]}}),{key:t,first:null,c(){n=_(),_t(r.$$.fragment),this.first=n},m(t,e){x(t,n,e),Nt(r,t,e),i=!0},p(t,n){e=t;const i={};2&n&&(i.x=e[8]),2&n&&(i.y=e[9]),2&n&&(i.r=e[10]),2&n&&(i.data=e[0]),r.$set(i)},i(t){i||(bt(r.$$.fragment,t),i=!0)},o(t){xt(r.$$.fragment,t),i=!1},d(t){t&&w(n),Ct(r,t)}}}function rs(t,e){let n,r,i,o=e[4]===e[2]&&es(e);return{key:t,first:null,c(){n=_(),o&&o.c(),r=_(),this.first=n},m(t,e){x(t,n,e),o&&o.m(t,e),x(t,r,e),i=!0},p(t,n){(e=t)[4]===e[2]?o?(o.p(e,n),6&n&&bt(o,1)):(o=es(e),o.c(),bt(o,1),o.m(r.parentNode,r)):o&&(yt(),xt(o,1,1,(()=>{o=null})),vt())},i(t){i||(bt(o),i=!0)},o(t){xt(o),i=!1},d(t){t&&w(n),o&&o.d(t),t&&w(r)}}}function is(t){let e,n,r=[],i=new Map,o=t[1];const l=t=>t[4];for(let e=0;e<o.length;e+=1){let n=Kl(t,o,e),s=l(n);i.set(s,r[e]=rs(s,n))}return{c(){e=S("g");for(let t=0;t<r.length;t+=1)r[t].c();C(e,"class","stars")},m(t,i){x(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){14&n&&(o=t[1],yt(),r=It(r,n,l,1,t,o,i,e,St,rs,null,Kl),vt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)bt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)xt(r[t]);n=!1},d(t){t&&w(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function os(t,e,n){let r,i,o;c(t,Cn,(t=>n(2,i=t))),c(t,mn,(t=>n(3,o=t)));let{data:l=[]}=e;return t.$$set=t=>{"data"in t&&n(0,l=t.data)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=or(l,(t=>t.data.journal)))},[l,r,i,o]}class ls extends Tt{constructor(t){super(),At(this,t,os,is,s,{data:0})}}function ss(t){let e,n,r,i,o,l,s,a,c,u,f,d;return e=new Qt({}),i=new Pl({props:{quantiles:t[3]}}),o=new bl({props:{selectedData:t[1]}}),s=new ls({props:{data:t[0]}}),c=new Ql({props:{quantiles:t[3],nStars:t[1].length,nBrightStars:t[2].length}}),f=new il({props:{selectedData:t[1],brightData:t[2]}}),{c(){_t(e.$$.fragment),n=L(),r=S("g"),_t(i.$$.fragment),_t(o.$$.fragment),l=L(),_t(s.$$.fragment),a=L(),_t(c.$$.fragment),u=L(),_t(f.$$.fragment),C(r,"class","axis")},m(t,h){Nt(e,t,h),x(t,n,h),x(t,r,h),Nt(i,r,null),Nt(o,r,null),x(t,l,h),Nt(s,t,h),x(t,a,h),Nt(c,t,h),x(t,u,h),Nt(f,t,h),d=!0},p(t,e){const n={};8&e&&(n.quantiles=t[3]),i.$set(n);const r={};2&e&&(r.selectedData=t[1]),o.$set(r);const l={};1&e&&(l.data=t[0]),s.$set(l);const a={};8&e&&(a.quantiles=t[3]),2&e&&(a.nStars=t[1].length),4&e&&(a.nBrightStars=t[2].length),c.$set(a);const u={};2&e&&(u.selectedData=t[1]),4&e&&(u.brightData=t[2]),f.$set(u)},i(t){d||(bt(e.$$.fragment,t),bt(i.$$.fragment,t),bt(o.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),bt(f.$$.fragment,t),d=!0)},o(t){xt(e.$$.fragment,t),xt(i.$$.fragment,t),xt(o.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(f.$$.fragment,t),d=!1},d(t){Ct(e,t),t&&w(n),t&&w(r),Ct(i),Ct(o),t&&w(l),Ct(s,t),t&&w(a),Ct(c,t),t&&w(u),Ct(f,t)}}}function as(t){let e,n,r;return n=new Ut({props:{$$slots:{default:[ss]},$$scope:{ctx:t}}}),{c(){e=k("div"),_t(n.$$.fragment),C(e,"class","chart-wrapper svelte-qppc36"),j(e,"width",t[4]+"px"),j(e,"height",t[4]+"px")},m(t,i){x(t,e,i),Nt(n,e,null),r=!0},p(t,[i]){const o={};271&i&&(o.$$scope={dirty:i,ctx:t}),n.$set(o),(!r||16&i)&&j(e,"width",t[4]+"px"),(!r||16&i)&&j(e,"height",t[4]+"px")},i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){t&&w(e),Ct(n)}}}function cs(t,e,n){let r,i,o,l;c(t,Cn,(t=>n(5,r=t))),c(t,Tn,(t=>n(6,i=t))),c(t,Fn,(t=>n(7,o=t))),c(t,Ft,(t=>n(4,l=t)));let{data:s=[]}=e,a=[],u=[],f=[];return t.$$set=t=>{"data"in t&&n(0,s=t.data)},t.$$.update=()=>{33&t.$$.dirty&&n(1,a=s.filter((t=>t.data.journal===r))),66&t.$$.dirty&&n(2,u=a.filter((t=>t.data.citedBy<i))),130&t.$$.dirty&&n(3,f=Hn.map((t=>{const e=gr(a.map((t=>t.data.citedBy)),t);return{q:t,value:e,radius:o(e)}})))},[s,a,u,f,l,r,i,o]}class us extends Tt{constructor(t){super(),At(this,t,cs,as,s,{data:0})}}function fs(t){let e,n;return e=new us({props:{data:t[0]}}),{c(){_t(e.$$.fragment)},m(t,r){Nt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Ct(e,t)}}}function ds(t,e,n){let r,i,o,l,s,a;c(t,Rt,(t=>n(2,i=t))),c(t,Gt,(t=>n(3,o=t))),c(t,Dt,(t=>n(4,l=t))),c(t,Fn,(t=>n(5,s=t))),c(t,Pn,(t=>n(6,a=t)));let{data:u=[]}=e;return t.$$set=t=>{"data"in t&&n(1,u=t.data)},t.$$.update=()=>{14&t.$$.dirty&&Fn.set(io().domain(tr(u,(t=>t.citedBy))).range([i,o])),18&t.$$.dirty&&Pn.set(function(){return co.apply(null,arguments).exponent(.5)}().domain(tr(u,(t=>t.citedBy))).range([l.min,l.max])),98&t.$$.dirty&&n(0,r=or(u,(t=>t.journal)).map((([,t])=>{const e=t.map((t=>t.doi));e.push("pseudo");const n=function(){return Ai(Ci.apply(null,arguments).paddingInner(1))}().domain(e).range([0,2*Math.PI]);return t.map((t=>{const e=n(t.doi),r=Bo(e,s(t.citedBy));return{angle:e,x:r[0],y:r[1],r:a(t.citedBy),data:t}}))})).flat())},[r,u,i,o,l,s,a]}class hs extends Tt{constructor(t){super(),At(this,t,ds,fs,s,{data:1})}}var ps={},gs={};function ms(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function $s(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ys(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function vs(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ys(-e,6):e>9999?"+"+ys(e,6):ys(e,4))+"-"+ys(t.getUTCMonth()+1,2)+"-"+ys(t.getUTCDate(),2)+(o?"T"+ys(n,2)+":"+ys(r,2)+":"+ys(i,2)+"."+ys(o,3)+"Z":i?"T"+ys(n,2)+":"+ys(r,2)+":"+ys(i,2)+"Z":r||n?"T"+ys(n,2)+":"+ys(r,2)+"Z":"")}var bs=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,l=0,s=0,a=o<=0,c=!1;function u(){if(a)return gs;if(c)return c=!1,ps;var e,r,i=l;if(34===t.charCodeAt(i)){for(;l++<o&&34!==t.charCodeAt(l)||34===t.charCodeAt(++l););return(e=l)>=o?a=!0:10===(r=t.charCodeAt(l++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(l)&&++l),t.slice(i+1,e-1).replace(/""/g,'"')}for(;l<o;){if(10===(r=t.charCodeAt(e=l++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(l)&&++l;else if(r!==n)continue;return t.slice(i,e)}return a=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==gs;){for(var f=[];r!==ps&&r!==gs;)f.push(r),r=u();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function o(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?vs(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ms(t);return function(r,i){return e(n(r),i,t)}}(t,e):ms(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=$s(e)),[n.map(l).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=$s(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:l}}(",").parse;function xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ws(t,e){return fetch(t,e).then(xs)}var Ms,ks=(Ms=bs,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),ws(t,e).then((function(t){return Ms(t,n)}))});function Ss(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Ns,then:_s,catch:Ls,value:6,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let l=e.ctx;void 0!==i&&(l=l.slice(),l[i]=o);const s=t&&(e.current=t)(l);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(yt(),xt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),vt())})):e.block.d(1),s.c(),bt(s,1),s.m(e.mount(),e.anchor),a=!0),e.block=s,e.blocks&&(e.blocks[r]=s),a&&ft()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=Z();if(t.then((t=>{J(n),r(e.then,1,e.value,t),J(null)}),(t=>{if(J(n),r(e.catch,2,e.error,t),J(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}((async()=>(await ks("data/sources.csv",(t=>{return{authors:t.Authors,title:t.Title,journal:(e=t["Source title"],e.replace(" ","-").toLowerCase()),year:+t.Year,volume:+t.Volume,issue:+t.Issue,page:{start:+t["Page start"],end:+t["Page end"]},citedBy:+t["Cited by"],doi:t.DOI};var e}))).sort(((t,e)=>Xn(t.journal,e.journal)||Xn(t.year,e.year)||Xn(t.volume,e.volume)||Xn(t.issue,e.issue)||Xn(t.page.start,e.page.start))))(),r),{c(){e=_(),r.block.c()},m(t,i){x(t,e,i),r.block.m(t,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(e,n){{const i=(t=e).slice();i[6]=r.resolved,r.block.p(i,n)}},i(t){n||(bt(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){xt(r.blocks[t])}n=!1},d(t){t&&w(e),r.block.d(t),r.token=null,r=null}}}function Is(e){let n,r;return n=new Ot({}),{c(){_t(n.$$.fragment)},m(t,e){Nt(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){Ct(n,t)}}}function Ls(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function _s(e){let n,r,i,o,l;return r=new Ii({props:{data:e[6]}}),o=new hs({props:{data:e[6]}}),{c(){n=k("main"),_t(r.$$.fragment),i=L(),_t(o.$$.fragment),C(n,"class","svelte-10vgcmt")},m(t,e){x(t,n,e),Nt(r,n,null),b(n,i),Nt(o,n,null),l=!0},p:t,i(t){l||(bt(r.$$.fragment,t),bt(o.$$.fragment,t),l=!0)},o(t){xt(r.$$.fragment,t),xt(o.$$.fragment,t),l=!1},d(t){t&&w(n),Ct(r),Ct(o)}}}function Ns(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Cs(t){let e,n,r,i,o;const l=[Is,Ss],s=[];function a(t,e){return t[0]<960?0:1}return n=a(t),r=s[n]=l[n](t),{c(){e=k("div"),r.c(),C(e,"class","app-wrapper svelte-10vgcmt"),j(e,"background",t[2]),at((()=>t[5].call(e)))},m(r,l){x(r,e,l),s[n].m(e,null),i=D(e,t[5].bind(e)),o=!0},p(t,[i]){let c=n;n=a(t),n===c?s[n].p(t,i):(yt(),xt(s[c],1,1,(()=>{s[c]=null})),vt(),r=s[n],r?r.p(t,i):(r=s[n]=l[n](t),r.c()),bt(r,1),r.m(e,null)),(!o||4&i)&&j(e,"background",t[2])},i(t){o||(bt(r),o=!0)},o(t){xt(r),o=!1},d(t){t&&w(e),s[n].d(),i()}}}function As(t,e,n){let r;c(t,Pt,(t=>n(4,r=t)));let{width:i}=e,{height:o}=e,l="center",s="var(--background-color-static)";return t.$$set=t=>{"width"in t&&n(0,i=t.width),"height"in t&&n(1,o=t.height)},t.$$.update=()=>{3&t.$$.dirty&&Ft.set(Math.min(i,o)||0),17&t.$$.dirty&&n(3,l=r?50+r/i*100/2+"%":"center"),9&t.$$.dirty&&n(2,s=i<960?"var(--background-color-static)":`radial-gradient(circle at ${l}, var(--background-color-center) 0%, var(--background-color) 80%)`)},[i,o,s,l,r,function(){i=this.clientWidth,o=this.clientHeight,n(0,i),n(1,o)}]}return new class extends Tt{constructor(t){super(),At(this,t,As,Cs,s,{width:0,height:1})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
