var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function h(t,e,n,r,i,o,l){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=f(e,n,r,l);t.p(i,s)}}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),g=d?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&g($)}function y(t){let e;return 0===m.size&&g($),{promise:new Promise((n=>{m.add(e={c:t,f:n})})),abort(){m.delete(e)}}}function v(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function I(){return S(" ")}function _(){return S("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:N(t,r,e[r])}function j(t,e,n){e in t?t[e]=n:N(t,e,n)}function A(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function H(t,e){t.value=null==e?"":e}function O(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let q;function E(){if(void 0===q){q=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){q=!0}}return q}function B(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=M("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=E();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=L(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=L(n.contentWindow,"resize",e)}),v(t,n),()=>{(r||i&&n.contentWindow)&&i(),x(n)}}function D(t,e,n){t.classList[n?"add":"remove"](e)}function F(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class P{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=M(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)b(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(x)}}const R=new Set;let V,z=0;function G(t,e,n,r,i,o,l,s=0){const a=16.666/r;let c="{\n";for(let t=0;t<=1;t+=a){const r=e+(n-e)*o(t);c+=100*t+`%{${l(r,1-r)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,h=t.ownerDocument;R.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(M("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,z+=1,f}function W(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),z-=i,z||g((()=>{z||(R.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),R.clear())})))}function U(t){V=t}function J(){if(!V)throw new Error("Function called outside component initialization");return V}function Z(t){J().$$.before_update.push(t)}function Y(t){J().$$.on_mount.push(t)}function X(t){J().$$.on_destroy.push(t)}function Q(){const t=J();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=F(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const K=[],tt=[],et=[],nt=[],rt=Promise.resolve();let it=!1;function ot(){it||(it=!0,rt.then(ut))}function lt(){return ot(),rt}function st(t){et.push(t)}let at=!1;const ct=new Set;function ut(){if(!at){at=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];U(e),ft(e.$$)}for(U(null),K.length=0;tt.length;)tt.pop()();for(let t=0;t<et.length;t+=1){const e=et[t];ct.has(e)||(ct.add(e),e())}et.length=0}while(K.length);for(;nt.length;)nt.pop()();it=!1,at=!1,ct.clear()}}function ft(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}let ht;function dt(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function pt(t,e,n){t.dispatchEvent(F(`${e?"intro":"outro"}${n}`))}const gt=new Set;let mt;function $t(){mt={r:0,c:[],p:mt}}function yt(){mt.r||o(mt.c),mt=mt.p}function vt(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function bt(t,e,n,r){if(t&&t.o){if(gt.has(t))return;gt.add(t),mt.c.push((()=>{gt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const xt={duration:0};function wt(n,r,i){let o,s,a=r(n,i),c=!1,u=0;function f(){o&&W(n,o)}function h(){const{delay:r=0,duration:i=300,easing:l=e,tick:h=t,css:d}=a||xt;d&&(o=G(n,0,1,i,r,l,d,u++)),h(0,1);const g=p()+r,m=g+i;s&&s.abort(),c=!0,st((()=>pt(n,!0,"start"))),s=y((t=>{if(c){if(t>=m)return h(1,0),pt(n,!0,"end"),f(),c=!1;if(t>=g){const e=l((t-g)/i);h(e,1-e)}}return c}))}let d=!1;return{start(){d||(W(n),l(a)?(a=a(),dt().then(h)):h())},invalidate(){d=!1},end(){c&&(f(),c=!1)}}}function Mt(n,r,i){let s,a=r(n,i),c=!0;const u=mt;function f(){const{delay:r=0,duration:i=300,easing:l=e,tick:f=t,css:h}=a||xt;h&&(s=G(n,1,0,i,r,l,h));const d=p()+r,g=d+i;st((()=>pt(n,!1,"start"))),y((t=>{if(c){if(t>=g)return f(0,1),pt(n,!1,"end"),--u.r||o(u.c),!1;if(t>=d){const e=l((t-d)/i);f(1-e,e)}}return c}))}return u.r+=1,l(a)?dt().then((()=>{a=a(),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),c&&(s&&W(n,s),c=!1)}}}function kt(t,e){bt(t,1,1,(()=>{e.delete(t.key)}))}function St(t,e,n,r,i,o,l,s,a,c,u,f){let h=t.length,d=o.length,p=h;const g={};for(;p--;)g[t[p].key]=p;const m=[],$=new Map,y=new Map;for(p=d;p--;){const t=f(i,o,p),s=n(t);let a=l.get(s);a?r&&a.p(t,e):(a=c(s,t),a.c()),$.set(s,m[p]=a),s in g&&y.set(s,Math.abs(p-g[s]))}const v=new Set,b=new Set;function x(t){vt(t,1),t.m(s,u),l.set(t.key,t),u=t.first,d--}for(;h&&d;){const e=m[d-1],n=t[h-1],r=e.key,i=n.key;e===n?(u=e.first,h--,d--):$.has(i)?!l.has(r)||v.has(r)?x(e):b.has(i)?h--:y.get(r)>y.get(i)?(b.add(r),x(e)):(v.add(i),h--):(a(n,l),h--)}for(;h--;){const e=t[h];$.has(e.key)||a(e,l)}for(;d;)x(m[d-1]);return m}function It(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const l=t[o],s=e[o];if(s){for(const t in l)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in l)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function _t(t){t&&t.c()}function Lt(t,e,n){const{fragment:i,on_mount:s,on_destroy:a,after_update:c}=t.$$;i&&i.m(e,n),st((()=>{const e=s.map(r).filter(l);a?a.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(st)}function Nt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(e,n,r,l,s,a,c=[-1]){const u=V;U(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let h=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&function(t,e){-1===t.$$.dirty[0]&&(K.push(t),ot(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&vt(e.$$.fragment),Lt(e,n.target,n.anchor),ut()}U(u)}class jt{$destroy(){Nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function At(e){let n;return{c(){n=M("div"),n.innerHTML='<div class="content svelte-rhi55g"><h1 class="bright svelte-rhi55g">Switching a star article&#39;s light off</h1> \n    <p>This visualization has been designed for larger devices.\n      If you want to explore an interactive version, please open on a desktop.</p></div>',N(n,"class","catch svelte-rhi55g")},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}class Tt extends jt{constructor(t){super(),Ct(this,t,null,At,s,{})}}const Ht=[];function Ot(t,e){return{subscribe:qt(t,e).subscribe}}function qt(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!Ht.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Ht.push(n,e)}if(t){for(let t=0;t<Ht.length;t+=2)Ht[t][0](Ht[t+1]);Ht.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,s=t){const a=[l,s];return i.push(a),1===i.length&&(r=n(o)||t),l(e),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Et(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return Ot(r,(e=>{let r=!1;const u=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=n(i?u[0]:u,e);c?e(r):h=l(r)?r:t},p=s.map(((t,e)=>a(t,(t=>{u[e]=t,f&=~(1<<e),r&&d()}),(()=>{f|=1<<e}))));return r=!0,d(),function(){o(p),h()}}))}const Bt=Ot({min:.5,max:6}),Dt=qt(),Ft=qt(),Pt=Et(Bt,(t=>t.max)),Rt=Et(Dt,(t=>t/2*.25)),Vt=Et([Dt,Pt],(([t,e])=>(t-2*e)/2));function zt(t){let e,n,r;const i=t[2].default,o=u(i,t,t[1],null);return{c(){e=k("svg"),o&&o.c(),N(e,"class","svg"),N(e,"width",t[0]),N(e,"height",t[0]),N(e,"viewBox",n=-t[0]/2+" "+-t[0]/2+" "+t[0]+" "+t[0])},m(t,n){b(t,e,n),o&&o.m(e,null),r=!0},p(t,[l]){o&&o.p&&2&l&&h(o,i,t,t[1],l,null,null),(!r||1&l)&&N(e,"width",t[0]),(!r||1&l)&&N(e,"height",t[0]),(!r||1&l&&n!==(n=-t[0]/2+" "+-t[0]/2+" "+t[0]+" "+t[0]))&&N(e,"viewBox",n)},i(t){r||(vt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&x(e),o&&o.d(t)}}}function Gt(t,e,n){let r;c(t,Dt,(t=>n(3,r=t)));let{$$slots:i={},$$scope:o}=e,{size:l=r}=e;return t.$$set=t=>{"size"in t&&n(0,l=t.size),"$$scope"in t&&n(1,o=t.$$scope)},[l,o,i]}class Wt extends jt{constructor(t){super(),Ct(this,t,Gt,zt,s,{size:0})}}function Ut(t,e,n){const r=t.slice();return r[1]=e[n].id,r[2]=e[n].stdDeviation,r}function Jt(e){let n,r,i,o,l;return{c(){n=k("filter"),r=k("feGaussianBlur"),i=k("feMerge"),o=k("feMergeNode"),l=k("feMergeNode"),N(r,"class","blur"),N(r,"stdDeviation",e[2]),N(r,"result","coloredBlur"),N(o,"in","coloredBlur"),N(l,"in","SourceGraphic"),N(n,"id",e[1]),N(n,"width","300%"),N(n,"x","-100%"),N(n,"height","300%"),N(n,"y","-100%")},m(t,e){b(t,n,e),v(n,r),v(n,i),v(i,o),v(i,l)},p:t,d(t){t&&x(n)}}}function Zt(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Jt(Ut(e,r,t));return{c(){n=k("defs");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,e){b(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(1&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=Ut(t,r,o);i[o]?i[o].p(l,e):(i[o]=Jt(l),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&x(n),w(i,t)}}}function Yt(t){return[[{id:"glow",stdDeviation:1.5},{id:"intense-glow",stdDeviation:3}]]}class Xt extends jt{constructor(t){super(),Ct(this,t,Yt,Zt,s,{})}}function Qt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function te(){}var ee=.7,ne=1/ee,re="\\s*([+-]?\\d+)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",le=/^#([0-9a-f]{3,8})$/,se=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),ae=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),ce=new RegExp("^rgba\\("+[re,re,re,ie]+"\\)$"),ue=new RegExp("^rgba\\("+[oe,oe,oe,ie]+"\\)$"),fe=new RegExp("^hsl\\("+[ie,oe,oe]+"\\)$"),he=new RegExp("^hsla\\("+[ie,oe,oe,ie]+"\\)$"),de={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pe(){return this.rgb().formatHex()}function ge(){return this.rgb().formatRgb()}function me(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=le.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?$e(e):3===n?new xe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ye(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ye(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=se.exec(t))?new xe(e[1],e[2],e[3],1):(e=ae.exec(t))?new xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ce.exec(t))?ye(e[1],e[2],e[3],e[4]):(e=ue.exec(t))?ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fe.exec(t))?Se(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?Se(e[1],e[2]/100,e[3]/100,e[4]):de.hasOwnProperty(t)?$e(de[t]):"transparent"===t?new xe(NaN,NaN,NaN,0):null}function $e(t){return new xe(t>>16&255,t>>8&255,255&t,1)}function ye(t,e,n,r){return r<=0&&(t=e=n=NaN),new xe(t,e,n,r)}function ve(t){return t instanceof te||(t=me(t)),t?new xe((t=t.rgb()).r,t.g,t.b,t.opacity):new xe}function be(t,e,n,r){return 1===arguments.length?ve(t):new xe(t,e,n,null==r?1:r)}function xe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function we(){return"#"+ke(this.r)+ke(this.g)+ke(this.b)}function Me(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ke(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Se(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _e(t,e,n,r)}function Ie(t){if(t instanceof _e)return new _e(t.h,t.s,t.l,t.opacity);if(t instanceof te||(t=me(t)),!t)return new _e;if(t instanceof _e)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(l=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new _e(l,s,a,t.opacity)}function _e(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Le(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Qt(te,me,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:pe,formatHex:pe,formatHsl:function(){return Ie(this).formatHsl()},formatRgb:ge,toString:ge}),Qt(xe,be,Kt(te,{brighter:function(t){return t=null==t?ne:Math.pow(ne,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ee:Math.pow(ee,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:we,formatHex:we,formatRgb:Me,toString:Me})),Qt(_e,(function(t,e,n,r){return 1===arguments.length?Ie(t):new _e(t,e,n,null==r?1:r)}),Kt(te,{brighter:function(t){return t=null==t?ne:Math.pow(ne,t),new _e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ee:Math.pow(ee,t),new _e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xe(Le(t>=240?t-240:t+120,i,r),Le(t,i,r),Le(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Ne=Math.PI/180,Ce=180/Math.PI,je=.96422,Ae=.82521,Te=4/29,He=6/29,Oe=3*He*He;function qe(t){if(t instanceof Be)return new Be(t.l,t.a,t.b,t.opacity);if(t instanceof ze)return Ge(t);t instanceof xe||(t=ve(t));var e,n,r=Re(t.r),i=Re(t.g),o=Re(t.b),l=De((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=l:(e=De((.4360747*r+.3850649*i+.1430804*o)/je),n=De((.0139322*r+.0971045*i+.7141733*o)/Ae)),new Be(116*l-16,500*(e-l),200*(l-n),t.opacity)}function Ee(t,e,n,r){return 1===arguments.length?qe(t):new Be(t,e,n,null==r?1:r)}function Be(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function De(t){return t>.008856451679035631?Math.pow(t,1/3):t/Oe+Te}function Fe(t){return t>He?t*t*t:Oe*(t-Te)}function Pe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Re(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ve(t){if(t instanceof ze)return new ze(t.h,t.c,t.l,t.opacity);if(t instanceof Be||(t=qe(t)),0===t.a&&0===t.b)return new ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ce;return new ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ze(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ge(t){if(isNaN(t.h))return new Be(t.l,0,0,t.opacity);var e=t.h*Ne;return new Be(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Qt(Be,Ee,Kt(te,{brighter:function(t){return new Be(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Be(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new xe(Pe(3.1338561*(e=je*Fe(e))-1.6168667*(t=1*Fe(t))-.4906146*(n=Ae*Fe(n))),Pe(-.9787684*e+1.9161415*t+.033454*n),Pe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Qt(ze,(function(t,e,n,r){return 1===arguments.length?Ve(t):new ze(t,e,n,null==r?1:r)}),Kt(te,{brighter:function(t){return new ze(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ze(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ge(this).rgb()}}));var We=t=>()=>t;function Ue(t){return 1==(t=+t)?Je:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):We(isNaN(e)?n:e)}}function Je(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):We(isNaN(t)?e:t)}var Ze=function t(e){var n=Ue(e);function r(t,e){var r=n((t=be(t)).r,(e=be(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),l=Je(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function Ye(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Xe(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),l=new Array(r);for(n=0;n<i;++n)o[n]=on(t[n],e[n]);for(;n<r;++n)l[n]=e[n];return function(t){for(n=0;n<i;++n)l[n]=o[n](t);return l}}function Qe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ke(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=on(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var en=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nn=new RegExp(en.source,"g");function rn(t,e){var n,r,i,o=en.lastIndex=nn.lastIndex=0,l=-1,s=[],a=[];for(t+="",e+="";(n=en.exec(t))&&(r=nn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[l]?s[l]+=i:s[++l]=i),(n=n[0])===(r=r[0])?s[l]?s[l]+=r:s[++l]=r:(s[++l]=null,a.push({i:l,x:Ke(n,r)})),o=nn.lastIndex;return o<e.length&&(i=e.slice(o),s[l]?s[l]+=i:s[++l]=i),s.length<2?a[0]?function(t){return function(e){return t(e)+""}}(a[0].x):function(t){return function(){return t}}(e):(e=a.length,function(t){for(var n,r=0;r<e;++r)s[(n=a[r]).i]=n.x(t);return s.join("")})}function on(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?We(e):("number"===i?Ke:"string"===i?(n=me(e))?(e=n,Ze):rn:e instanceof me?Ze:e instanceof Date?Qe:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Xe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?tn:Ke:Ye))(t,e)}function ln(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sn(t,e){var n=Je((t=Ee(t)).l,(e=Ee(e)).l),r=Je(t.a,e.a),i=Je(t.b,e.b),o=Je(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function an(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function cn(t){const e=t-1;return e*e*e+1}function un(t){return t*t}function fn(t){return-t*(t-2)}function hn(t){return"[object Date]"===Object.prototype.toString.call(t)}function dn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>dn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(hn(t)&&hn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=dn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function pn(t,r={}){const i=qt(t);let o,l=t;function s(s,a){if(null==t)return i.set(t=s),Promise.resolve();l=s;let c=o,u=!1,{delay:f=0,duration:h=400,easing:d=e,interpolate:g=dn}=n(n({},r),a);if(0===h)return c&&(c.abort(),c=null),i.set(t=l),Promise.resolve();const m=p()+f;let $;return o=y((e=>{if(e<m)return!0;u||($=g(t,s),"function"==typeof h&&(h=h(t,s)),u=!0),c&&(c.abort(),c=null);const n=e-m;return n>h?(i.set(t=s),!1):(i.set(t=$(d(n/h))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(l,t),n),subscribe:i.subscribe}}const gn=qt(),mn=qt(),$n=qt(1),yn=qt(1/0),vn=Ot(400),bn=Et(vn,(t=>t/2)),xn=Et(vn,(t=>2*t)),wn=[0,.9,.95,.99,.995,.999],Mn=[10,100,1e3],kn="#d4e9ed",Sn="#ddd";function In(e){let n,r,i;return{c(){n=k("circle"),N(n,"class","star svelte-1vzs4da"),N(n,"cx",e[1]),N(n,"cy",e[2]),N(n,"r",e[4]),N(n,"fill",e[5]),D(n,"bright",e[3]),D(n,"intense",e[0])},m(t,o){b(t,n,o),r||(i=[L(n,"mouseenter",e[8]),L(n,"mouseleave",e[12])],r=!0)},p(t,[e]){2&e&&N(n,"cx",t[1]),4&e&&N(n,"cy",t[2]),16&e&&N(n,"r",t[4]),32&e&&N(n,"fill",t[5]),8&e&&D(n,"bright",t[3]),1&e&&D(n,"intense",t[0])},i:t,o:t,d(t){t&&x(n),r=!1,o(i)}}}function _n(t,e,n){let r,i,o,l,s;c(t,yn,(t=>n(11,r=t))),c(t,xn,(t=>n(13,i=t))),c(t,vn,(t=>n(14,o=t)));let{x:a=0}=e,{y:u=0}=e,{r:f=0}=e,{data:h=null}=e,{intense:d=!1}=e,p=!0;const g=pn(0,{delay:2*Math.random()*i,duration:i,easing:fn});c(t,g,(t=>n(4,l=t)));const m=pn(kn,{duration:o,interpolate:sn,easing:un});c(t,m,(t=>n(5,s=t)));return t.$$set=t=>{"x"in t&&n(1,a=t.x),"y"in t&&n(2,u=t.y),"r"in t&&n(9,f=t.r),"data"in t&&n(10,h=t.data),"intense"in t&&n(0,d=t.intense)},t.$$.update=()=>{3072&t.$$.dirty&&h&&(n(3,p=h.citedBy<r),n(0,d=h.citedBy>=250)),512&t.$$.dirty&&g.set(f),8&t.$$.dirty&&m.set(p?kn:"#092534")},[d,a,u,p,l,s,g,m,function(){h&&p&&mn.set(h)},f,h,r,()=>mn.set(void 0)]}class Ln extends jt{constructor(t){super(),Ct(this,t,_n,In,s,{x:1,y:2,r:9,data:10,intense:0})}}const Nn=qt(),Cn=qt();function jn(t,e,n){const r=t.slice();return r[2]=e[n].citedBy,r}function An(t,e,n){const r=t.slice();return r[2]=e[n].citedBy,r[5]=e[n].radius,r}function Tn(t){let e,n,r,i;return e=new Xt({}),r=new Ln({props:{r:t[5],intense:t[2]>=250}}),{c(){_t(e.$$.fragment),n=I(),_t(r.$$.fragment)},m(t,o){Lt(e,t,o),b(t,n,o),Lt(r,t,o),i=!0},p(t,e){const n={};1&e&&(n.r=t[5]),1&e&&(n.intense=t[2]>=250),r.$set(n)},i(t){i||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){Nt(e,t),t&&x(n),Nt(r,t)}}}function Hn(t){let e,n,r;return n=new Wt({props:{size:En,$$slots:{default:[Tn]},$$scope:{ctx:t}}}),{c(){e=M("div"),_t(n.$$.fragment),N(e,"class","marker")},m(t,i){b(t,e,i),Lt(n,e,null),r=!0},p(t,e){const r={};257&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){t&&x(e),Nt(n)}}}function On(t){let e,n,r=t[2]+"";return{c(){e=M("div"),n=S(r),N(e,"class","label")},m(t,r){b(t,e,r),v(e,n)},p(t,e){1&e&&r!==(r=t[2]+"")&&T(n,r)},d(t){t&&x(e)}}}function qn(t){let e,n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=Hn(An(t,i,e));const l=t=>bt(o[t],1,1,(()=>{o[t]=null}));let s=t[0],a=[];for(let e=0;e<s.length;e+=1)a[e]=On(jn(t,s,e));return{c(){e=M("div");for(let t=0;t<o.length;t+=1)o[t].c();n=I();for(let t=0;t<a.length;t+=1)a[t].c();N(e,"class","legend svelte-1s18ahh")},m(t,i){b(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);v(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);r=!0},p(t,[r]){if(1&r){let s;for(i=t[0],s=0;s<i.length;s+=1){const l=An(t,i,s);o[s]?(o[s].p(l,r),vt(o[s],1)):(o[s]=Hn(l),o[s].c(),vt(o[s],1),o[s].m(e,n))}for($t(),s=i.length;s<o.length;s+=1)l(s);yt()}if(1&r){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=jn(t,s,n);a[n]?a[n].p(i,r):(a[n]=On(i),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i(t){if(!r){for(let t=0;t<i.length;t+=1)vt(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)bt(o[t]);r=!1},d(t){t&&x(e),w(o,t),w(a,t)}}}const En=40;function Bn(t,e,n){let r;c(t,Cn,(t=>n(1,r=t)));let i=[];return t.$$.update=()=>{2&t.$$.dirty&&n(0,i=Mn.map((t=>({citedBy:t,radius:r?r(t):0}))))},[i,r]}class Dn extends jt{constructor(t){super(),Ct(this,t,Bn,qn,s,{})}}function Fn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pn(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Fn(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const l=r(t,n,i,o-1);return l>i&&e(t[l-1],n)>-e(t[l],n)?l-1:l},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const Rn=Pn(Fn).right;function Vn(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}Pn((function(t){return null===t?NaN:+t})).center;class zn extends Map{constructor(t=[],e=Wn){super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}});for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Gn(this,t))}has(t){return super.has(Gn(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function Gn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wn(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Un(t){return t}function Jn(t,...e){return Zn(t,Array.from,Un,e)}function Zn(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const l=new zn,s=r[o++];let a=-1;for(const t of i){const e=s(t,++a,i),n=l.get(e);n?n.push(t):l.set(e,[t])}for(const[e,n]of l)l.set(e,t(n,o));return e(l)}(t,0)}var Yn=Math.sqrt(50),Xn=Math.sqrt(10),Qn=Math.sqrt(2);function Kn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Yn?10:o>=Xn?5:o>=Qn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Yn?10:o>=Xn?5:o>=Qn?2:1)}function tr(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function er(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function nr(t,e,n=0,r=t.length-1,i=Fn){for(;r>n;){if(r-n>600){const o=r-n+1,l=e-n+1,s=Math.log(o),a=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*a*(o-a)/o)*(l-o/2<0?-1:1);nr(t,e,Math.max(n,Math.floor(e-l*a/o+c)),Math.min(r,Math.floor(e+(o-l)*a/o+c)),i)}const o=t[e];let l=n,s=r;for(rr(t,n,e),i(t[r],o)>0&&rr(t,n,r);l<s;){for(rr(t,l,s),++l,--s;i(t[l],o)<0;)++l;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?rr(t,n,s):(++s,rr(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function rr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ir(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return er(t);if(e>=1)return tr(t);var r,i=(r-1)*e,o=Math.floor(i),l=tr(nr(t,o).subarray(0,o+1));return l+(er(t.subarray(o+1))-l)*(i-o)}}function or(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function lr(t,e){return[t,e]}function sr(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ar(e){let n,r,i=e[0](e[1],e[2])+"";return{c(){n=M("div"),N(n,"class",r="item "+e[3]+" svelte-bdnybl")},m(t,e){b(t,n,e),n.innerHTML=i},p(t,[e]){7&e&&i!==(i=t[0](t[1],t[2])+"")&&(n.innerHTML=i),8&e&&r!==(r="item "+t[3]+" svelte-bdnybl")&&N(n,"class",r)},i:t,o:t,d(t){t&&x(n)}}}function cr(t,e,n){let{isActive:r=!1}=e,{isFirst:i=!1}=e,{isHover:o=!1}=e,{getOptionLabel:l}=e,{item:s}=e,{filterText:a=""}=e,c="";return t.$$set=t=>{"isActive"in t&&n(4,r=t.isActive),"isFirst"in t&&n(5,i=t.isFirst),"isHover"in t&&n(6,o=t.isHover),"getOptionLabel"in t&&n(0,l=t.getOptionLabel),"item"in t&&n(1,s=t.item),"filterText"in t&&n(2,a=t.filterText)},t.$$.update=()=>{if(114&t.$$.dirty){const t=[];r&&t.push("active"),i&&t.push("first"),o&&t.push("hover"),s.isGroupHeader&&t.push("groupHeader"),s.isGroupItem&&t.push("groupItem"),n(3,c=t.join(" "))}},[l,s,a,c,r,i,o]}class ur extends jt{constructor(t){super(),Ct(this,t,cr,ar,s,{isActive:4,isFirst:5,isHover:6,getOptionLabel:0,item:1,filterText:2})}}function fr(t,e,n){const r=t.slice();return r[23]=e[n],r}const hr=t=>({item:32&t,i:32&t,hoverItemIndex:2&t}),dr=t=>({item:t[23].data,i:t[23].index,hoverItemIndex:t[1]});function pr(t,e){let n,r,i;const o=e[15].default,l=u(o,e,e[14],dr),s=l||function(t){let e;return{c(){e=S("Missing template")},m(t,n){b(t,e,n)},d(t){t&&x(e)}}}();return{key:t,first:null,c(){n=M("svelte-virtual-list-row"),s&&s.c(),r=I(),j(n,"class","svelte-p6ehlv"),this.first=n},m(t,e){b(t,n,e),s&&s.m(n,null),v(n,r),i=!0},p(t,n){e=t,l&&l.p&&16418&n&&h(l,o,e,e[14],n,hr,dr)},i(t){i||(vt(s,t),i=!0)},o(t){bt(s,t),i=!1},d(t){t&&x(n),s&&s.d(t)}}}function gr(t){let e,n,r,i,o,l,s=[],a=new Map,c=t[5];const u=t=>t[23].index;for(let e=0;e<c.length;e+=1){let n=fr(t,c,e),r=u(n);a.set(r,s[e]=pr(r,n))}return{c(){e=M("svelte-virtual-list-viewport"),n=M("svelte-virtual-list-contents");for(let t=0;t<s.length;t+=1)s[t].c();O(n,"padding-top",t[6]+"px"),O(n,"padding-bottom",t[7]+"px"),j(n,"class","svelte-p6ehlv"),O(e,"height",t[0]),j(e,"class","svelte-p6ehlv"),st((()=>t[18].call(e)))},m(a,c){b(a,e,c),v(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null);t[16](n),t[17](e),r=B(e,t[18].bind(e)),i=!0,o||(l=L(e,"scroll",t[8]),o=!0)},p(t,[r]){16418&r&&(c=t[5],$t(),s=St(s,r,u,1,t,c,a,n,kt,pr,null,fr),yt()),(!i||64&r)&&O(n,"padding-top",t[6]+"px"),(!i||128&r)&&O(n,"padding-bottom",t[7]+"px"),(!i||1&r)&&O(e,"height",t[0])},i(t){if(!i){for(let t=0;t<c.length;t+=1)vt(s[t]);i=!0}},o(t){for(let t=0;t<s.length;t+=1)bt(s[t]);i=!1},d(n){n&&x(e);for(let t=0;t<s.length;t+=1)s[t].d();t[16](null),t[17](null),r(),o=!1,l()}}}function mr(t,e,n){let r,i,o,l,s,a,{$$slots:c={},$$scope:u}=e,{items:f}=e,{height:h="100%"}=e,{itemHeight:d=40}=e,{hoverItemIndex:p=0}=e,{start:g=0}=e,{end:m=0}=e,$=[],y=0,v=0,b=0;return Y((()=>{r=o.getElementsByTagName("svelte-virtual-list-row"),n(13,s=!0)})),t.$$set=t=>{"items"in t&&n(11,f=t.items),"height"in t&&n(0,h=t.height),"itemHeight"in t&&n(12,d=t.itemHeight),"hoverItemIndex"in t&&n(1,p=t.hoverItemIndex),"start"in t&&n(9,g=t.start),"end"in t&&n(10,m=t.end),"$$scope"in t&&n(14,u=t.$$scope)},t.$$.update=()=>{3584&t.$$.dirty&&n(5,l=f.slice(g,m).map(((t,e)=>({index:e+g,data:t})))),14340&t.$$.dirty&&s&&async function(t,e,o){const{scrollTop:l}=i;await lt();let s=v-l,c=g;for(;s<e&&c<t.length;){let t=r[c-g];t||(n(10,m=c+1),await lt(),t=r[c-g]),s+=$[c]=o||t.offsetHeight,c+=1}n(10,m=c);const u=t.length-m;a=(v+s)/m,n(7,b=u*a),$.length=t.length,n(3,i.scrollTop=0,i)}(f,y,d)},[h,p,y,i,o,l,v,b,async function(){const{scrollTop:t}=i,e=g;for(let t=0;t<r.length;t+=1)$[g+t]=d||r[t].offsetHeight;let o=0,l=0;for(;o<f.length;){const e=$[o]||a;if(l+e>t){n(9,g=o),n(6,v=l);break}l+=e,o+=1}for(;o<f.length&&(l+=$[o]||a,o+=1,!(l>t+y)););n(10,m=o);const s=f.length-m;for(a=l/m;o<f.length;)$[o++]=a;if(n(7,b=s*a),g<e){await lt();let n=0,o=0;for(let t=g;t<e;t+=1)r[t-g]&&(n+=$[t],o+=d||r[t-g].offsetHeight);const l=o-n;i.scrollTo(0,t+l)}},g,m,f,d,s,u,c,function(t){tt[t?"unshift":"push"]((()=>{o=t,n(4,o)}))},function(t){tt[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(){y=this.offsetHeight,n(2,y)}]}class $r extends jt{constructor(t){super(),Ct(this,t,mr,gr,s,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function yr(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function vr(t){let e,n,r;return n=new $r({props:{items:t[4],itemHeight:t[7],$$slots:{default:[br,({item:t,i:e})=>({34:t,36:e}),({item:t,i:e})=>[0,(t?8:0)|(e?32:0)]]},$$scope:{ctx:t}}}),{c(){e=M("div"),_t(n.$$.fragment),N(e,"class","listContainer virtualList svelte-ux0sbr")},m(i,o){b(i,e,o),Lt(n,e,null),t[20](e),r=!0},p(t,e){const r={};16&e[0]&&(r.items=t[4]),128&e[0]&&(r.itemHeight=t[7]),4918&e[0]|104&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(r){r&&x(e),Nt(n),t[20](null)}}}function br(t){let e,n,r,i,l;var s=t[2];function a(t){return{props:{item:t[34],filterText:t[12],getOptionLabel:t[5],isFirst:Nr(t[36]),isActive:Lr(t[34],t[8],t[9]),isHover:Cr(t[1],t[34],t[36],t[4])}}}function c(){return t[18](t[36])}function u(...e){return t[19](t[34],t[36],...e)}return s&&(n=new s(a(t))),{c(){e=M("div"),n&&_t(n.$$.fragment),N(e,"class","listItem")},m(t,o){b(t,e,o),n&&Lt(n,e,null),r=!0,i||(l=[L(e,"mouseover",c),L(e,"click",u)],i=!0)},p(r,i){t=r;const o={};if(8&i[1]&&(o.item=t[34]),4096&i[0]&&(o.filterText=t[12]),32&i[0]&&(o.getOptionLabel=t[5]),32&i[1]&&(o.isFirst=Nr(t[36])),768&i[0]|8&i[1]&&(o.isActive=Lr(t[34],t[8],t[9])),18&i[0]|40&i[1]&&(o.isHover=Cr(t[1],t[34],t[36],t[4])),s!==(s=t[2])){if(n){$t();const t=n;bt(t.$$.fragment,1,0,(()=>{Nt(t,1)})),yt()}s?(n=new s(a(t)),_t(n.$$.fragment),vt(n.$$.fragment,1),Lt(n,e,null)):n=null}else s&&n.$set(o)},i(t){r||(n&&vt(n.$$.fragment,t),r=!0)},o(t){n&&bt(n.$$.fragment,t),r=!1},d(t){t&&x(e),n&&Nt(n),i=!1,o(l)}}}function xr(t){let e,n,r=t[4],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ir(yr(t,r,e));const o=t=>bt(i[t],1,1,(()=>{i[t]=null}));let l=null;return r.length||(l=wr(t)),{c(){e=M("div");for(let t=0;t<i.length;t+=1)i[t].c();l&&l.c(),N(e,"class","listContainer svelte-ux0sbr")},m(r,o){b(r,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);l&&l.m(e,null),t[23](e),n=!0},p(t,n){if(32630&n[0]){let s;for(r=t[4],s=0;s<r.length;s+=1){const o=yr(t,r,s);i[s]?(i[s].p(o,n),vt(i[s],1)):(i[s]=Ir(o),i[s].c(),vt(i[s],1),i[s].m(e,null))}for($t(),s=r.length;s<i.length;s+=1)o(s);yt(),!r.length&&l?l.p(t,n):r.length?l&&(l.d(1),l=null):(l=wr(t),l.c(),l.m(e,null))}},i(t){if(!n){for(let t=0;t<r.length;t+=1)vt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)bt(i[t]);n=!1},d(n){n&&x(e),w(i,n),l&&l.d(),t[23](null)}}}function wr(t){let e,n=!t[10]&&Mr(t);return{c(){n&&n.c(),e=_()},m(t,r){n&&n.m(t,r),b(t,e,r)},p(t,r){t[10]?n&&(n.d(1),n=null):n?n.p(t,r):(n=Mr(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&x(e)}}}function Mr(t){let e,n;return{c(){e=M("div"),n=S(t[11]),N(e,"class","empty svelte-ux0sbr")},m(t,r){b(t,e,r),v(e,n)},p(t,e){2048&e[0]&&T(n,t[11])},d(t){t&&x(e)}}}function kr(t){let e,n,r,i,l,s;var a=t[2];function c(t){return{props:{item:t[34],filterText:t[12],getOptionLabel:t[5],isFirst:Nr(t[36]),isActive:Lr(t[34],t[8],t[9]),isHover:Cr(t[1],t[34],t[36],t[4])}}}function u(){return t[21](t[36])}function f(...e){return t[22](t[34],t[36],...e)}return a&&(n=new a(c(t))),{c(){e=M("div"),n&&_t(n.$$.fragment),r=I(),N(e,"class","listItem")},m(t,o){b(t,e,o),n&&Lt(n,e,null),v(e,r),i=!0,l||(s=[L(e,"mouseover",u),L(e,"click",f)],l=!0)},p(i,o){t=i;const l={};if(16&o[0]&&(l.item=t[34]),4096&o[0]&&(l.filterText=t[12]),32&o[0]&&(l.getOptionLabel=t[5]),784&o[0]&&(l.isActive=Lr(t[34],t[8],t[9])),18&o[0]&&(l.isHover=Cr(t[1],t[34],t[36],t[4])),a!==(a=t[2])){if(n){$t();const t=n;bt(t.$$.fragment,1,0,(()=>{Nt(t,1)})),yt()}a?(n=new a(c(t)),_t(n.$$.fragment),vt(n.$$.fragment,1),Lt(n,e,r)):n=null}else a&&n.$set(l)},i(t){i||(n&&vt(n.$$.fragment,t),i=!0)},o(t){n&&bt(n.$$.fragment,t),i=!1},d(t){t&&x(e),n&&Nt(n),l=!1,o(s)}}}function Sr(e){let n,r,i=e[6](e[34])+"";return{c(){n=M("div"),r=S(i),N(n,"class","listGroupTitle svelte-ux0sbr")},m(t,e){b(t,n,e),v(n,r)},p(t,e){80&e[0]&&i!==(i=t[6](t[34])+"")&&T(r,i)},i:t,o:t,d(t){t&&x(n)}}}function Ir(t){let e,n,r,i;const o=[Sr,kr],l=[];function s(t,e){return t[34].isGroupHeader&&!t[34].isSelectable?0:1}return e=s(t),n=l[e]=o[e](t),{c(){n.c(),r=_()},m(t,n){l[e].m(t,n),b(t,r,n),i=!0},p(t,i){let a=e;e=s(t),e===a?l[e].p(t,i):($t(),bt(l[a],1,1,(()=>{l[a]=null})),yt(),n=l[e],n?n.p(t,i):(n=l[e]=o[e](t),n.c()),vt(n,1),n.m(r.parentNode,r))},i(t){i||(vt(n),i=!0)},o(t){bt(n),i=!1},d(t){l[e].d(t),t&&x(r)}}}function _r(t){let e,n,r,i,o,l=t[3]&&vr(t),s=!t[3]&&xr(t);return{c(){l&&l.c(),e=I(),s&&s.c(),n=_()},m(a,c){l&&l.m(a,c),b(a,e,c),s&&s.m(a,c),b(a,n,c),r=!0,i||(o=L(window,"keydown",t[15]),i=!0)},p(t,r){t[3]?l?(l.p(t,r),8&r[0]&&vt(l,1)):(l=vr(t),l.c(),vt(l,1),l.m(e.parentNode,e)):l&&($t(),bt(l,1,1,(()=>{l=null})),yt()),t[3]?s&&($t(),bt(s,1,1,(()=>{s=null})),yt()):s?(s.p(t,r),8&r[0]&&vt(s,1)):(s=xr(t),s.c(),vt(s,1),s.m(n.parentNode,n))},i(t){r||(vt(l),vt(s),r=!0)},o(t){bt(l),bt(s),r=!1},d(t){l&&l.d(t),t&&x(e),s&&s.d(t),t&&x(n),i=!1,o()}}}function Lr(t,e,n){return e&&e[n]===t[n]}function Nr(t){return 0===t}function Cr(t,e,n,r){return t===n||1===r.length}function jr(t,e,n){const r=Q();let i,{container:o}=e,{Item:l=ur}=e,{isVirtualList:s=!1}=e,{items:a=[]}=e,{getOptionLabel:c=((t,e)=>{if(t)return t.isCreator?`Create "${e}"`:t.label})}=e,{getGroupHeaderLabel:u=(t=>t.label)}=e,{itemHeight:f=40}=e,{hoverItemIndex:h=0}=e,{selectedValue:d}=e,{optionIdentifier:p="value"}=e,{hideEmptyState:g=!1}=e,{noOptionsMessage:m="No options"}=e,{isMulti:$=!1}=e,{activeItemIndex:y=0}=e,{filterText:v=""}=e,b=0,x=!1;function w(t){t.isCreator||r("itemSelected",t)}function M(t){x||n(1,h=t)}function k(t){const{item:e,i:i,event:o}=t;if(o.stopPropagation(),d&&!$&&d[p]===e[p])return S();e.isCreator?r("itemCreated",v):(n(16,y=i),n(1,h=i),w(e))}function S(){r("closeList")}async function I(t){if(s)return;let e=!0;for(;e;)t>0&&h===a.length-1?n(1,h=0):n(1,t<0&&0===h?h=a.length-1:h+=t),e=a[h].isGroupHeader&&!a[h].isSelectable;await lt(),_("hover")}function _(t){if(s||!o)return;let e;const r=o.querySelector(`.listItem .${t}`);r&&(e=o.getBoundingClientRect().bottom-r.getBoundingClientRect().bottom),n(0,o.scrollTop-=e,o)}Y((()=>{if(a.length>0&&!$&&d){const t=a.findIndex((t=>t[p]===d[p]));t&&n(1,h=t)}_("active"),o.addEventListener("scroll",(()=>{clearTimeout(b),b=setTimeout((()=>{x=!1}),100)}),!1)})),X((()=>{})),Z((()=>{a!==i&&a.length>0&&n(1,h=0),i=a}));return t.$$set=t=>{"container"in t&&n(0,o=t.container),"Item"in t&&n(2,l=t.Item),"isVirtualList"in t&&n(3,s=t.isVirtualList),"items"in t&&n(4,a=t.items),"getOptionLabel"in t&&n(5,c=t.getOptionLabel),"getGroupHeaderLabel"in t&&n(6,u=t.getGroupHeaderLabel),"itemHeight"in t&&n(7,f=t.itemHeight),"hoverItemIndex"in t&&n(1,h=t.hoverItemIndex),"selectedValue"in t&&n(8,d=t.selectedValue),"optionIdentifier"in t&&n(9,p=t.optionIdentifier),"hideEmptyState"in t&&n(10,g=t.hideEmptyState),"noOptionsMessage"in t&&n(11,m=t.noOptionsMessage),"isMulti"in t&&n(17,$=t.isMulti),"activeItemIndex"in t&&n(16,y=t.activeItemIndex),"filterText"in t&&n(12,v=t.filterText)},[o,h,l,s,a,c,u,f,d,p,g,m,v,M,k,function(t){switch(t.key){case"ArrowDown":t.preventDefault(),a.length&&I(1);break;case"ArrowUp":t.preventDefault(),a.length&&I(-1);break;case"Enter":if(t.preventDefault(),0===a.length)break;const e=a[h];if(d&&!$&&d[p]===e[p]){S();break}e.isCreator?r("itemCreated",v):(n(16,y=h),w(a[h]));break;case"Tab":if(t.preventDefault(),0===a.length)break;if(d&&d[p]===a[h][p])return S();n(16,y=h),w(a[h])}},y,$,t=>M(t),(t,e,n)=>k({item:t,i:e,event:n}),function(t){tt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},t=>M(t),(t,e,n)=>k({item:t,i:e,event:n}),function(t){tt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Ar extends jt{constructor(t){super(),Ct(this,t,jr,_r,s,{container:0,Item:2,isVirtualList:3,items:4,getOptionLabel:5,getGroupHeaderLabel:6,itemHeight:7,hoverItemIndex:1,selectedValue:8,optionIdentifier:9,hideEmptyState:10,noOptionsMessage:11,isMulti:17,activeItemIndex:16,filterText:12},[-1,-1])}}function Tr(e){let n,r=e[0](e[1])+"";return{c(){n=M("div"),N(n,"class","selection svelte-ch6bh7")},m(t,e){b(t,n,e),n.innerHTML=r},p(t,[e]){3&e&&r!==(r=t[0](t[1])+"")&&(n.innerHTML=r)},i:t,o:t,d(t){t&&x(n)}}}function Hr(t,e,n){let{getSelectionLabel:r}=e,{item:i}=e;return t.$$set=t=>{"getSelectionLabel"in t&&n(0,r=t.getSelectionLabel),"item"in t&&n(1,i=t.item)},[r,i]}class Or extends jt{constructor(t){super(),Ct(this,t,Hr,Tr,s,{getSelectionLabel:0,item:1})}}function qr(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Er(t){let e,n,r;function i(...e){return t[6](t[11],...e)}return{c(){e=M("div"),e.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-14r1jr2"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',N(e,"class","multiSelectItem_clear svelte-14r1jr2")},m(t,o){b(t,e,o),n||(r=L(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&x(e),n=!1,r()}}}function Br(t){let e,n,r,i,o,l,s,a=t[4](t[9])+"",c=!t[2]&&!t[3]&&Er(t);function u(...e){return t[7](t[11],...e)}return{c(){e=M("div"),n=M("div"),r=I(),c&&c.c(),i=I(),N(n,"class","multiSelectItem_label svelte-14r1jr2"),N(e,"class",o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-14r1jr2")},m(t,o){b(t,e,o),v(e,n),n.innerHTML=a,v(e,r),c&&c.m(e,null),v(e,i),l||(s=L(e,"click",u),l=!0)},p(r,l){t=r,17&l&&a!==(a=t[4](t[9])+"")&&(n.innerHTML=a),t[2]||t[3]?c&&(c.d(1),c=null):c?c.p(t,l):(c=Er(t),c.c(),c.m(e,i)),6&l&&o!==(o="multiSelectItem "+(t[1]===t[11]?"active":"")+" "+(t[2]?"disabled":"")+" svelte-14r1jr2")&&N(e,"class",o)},d(t){t&&x(e),c&&c.d(),l=!1,s()}}}function Dr(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Br(qr(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=_()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);b(t,n,e)},p(t,[e]){if(63&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=qr(t,r,o);i[o]?i[o].p(l,e):(i[o]=Br(l),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){w(i,t),t&&x(n)}}}function Fr(t,e,n){const r=Q();let{selectedValue:i=[]}=e,{activeSelectedValue:o}=e,{isDisabled:l=!1}=e,{multiFullItemClearable:s=!1}=e,{getSelectionLabel:a}=e;function c(t,e){e.stopPropagation(),r("multiItemClear",{i:t})}return t.$$set=t=>{"selectedValue"in t&&n(0,i=t.selectedValue),"activeSelectedValue"in t&&n(1,o=t.activeSelectedValue),"isDisabled"in t&&n(2,l=t.isDisabled),"multiFullItemClearable"in t&&n(3,s=t.multiFullItemClearable),"getSelectionLabel"in t&&n(4,a=t.getSelectionLabel)},[i,o,l,s,a,c,(t,e)=>c(t,e),(t,e)=>s?c(t,e):{}]}class Pr extends jt{constructor(t){super(),Ct(this,t,Fr,Dr,s,{selectedValue:0,activeSelectedValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Rr(t){let e,r,i;const o=[t[18]];var l=t[17];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return l&&(e=new l(s())),{c(){e&&_t(e.$$.fragment),r=_()},m(t,n){e&&Lt(e,t,n),b(t,r,n),i=!0},p(t,n){const i=262144&n[0]?It(o,[(a=t[18],"object"==typeof a&&null!==a?a:{})]):{};var a;if(l!==(l=t[17])){if(e){$t();const t=e;bt(t.$$.fragment,1,0,(()=>{Nt(t,1)})),yt()}l?(e=new l(s()),_t(e.$$.fragment),vt(e.$$.fragment,1),Lt(e,r.parentNode,r)):e=null}else l&&e.$set(i)},i(t){i||(e&&vt(e.$$.fragment,t),i=!0)},o(t){e&&bt(e.$$.fragment,t),i=!1},d(t){t&&x(r),e&&Nt(e,t)}}}function Vr(t){let e,n,r;var i=t[7];function o(t){return{props:{selectedValue:t[0],getSelectionLabel:t[13],activeSelectedValue:t[24],isDisabled:t[10],multiFullItemClearable:t[9]}}}return i&&(e=new i(o(t)),e.$on("multiItemClear",t[28]),e.$on("focus",t[31])),{c(){e&&_t(e.$$.fragment),n=_()},m(t,i){e&&Lt(e,t,i),b(t,n,i),r=!0},p(t,r){const l={};if(1&r[0]&&(l.selectedValue=t[0]),8192&r[0]&&(l.getSelectionLabel=t[13]),16777216&r[0]&&(l.activeSelectedValue=t[24]),1024&r[0]&&(l.isDisabled=t[10]),512&r[0]&&(l.multiFullItemClearable=t[9]),i!==(i=t[7])){if(e){$t();const t=e;bt(t.$$.fragment,1,0,(()=>{Nt(t,1)})),yt()}i?(e=new i(o(t)),e.$on("multiItemClear",t[28]),e.$on("focus",t[31]),_t(e.$$.fragment),vt(e.$$.fragment,1),Lt(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i(t){r||(e&&vt(e.$$.fragment,t),r=!0)},o(t){e&&bt(e.$$.fragment,t),r=!1},d(t){t&&x(n),e&&Nt(e,t)}}}function zr(t){let e,r,i,l=[t[25],{placeholder:t[27]},{style:t[15]}],s={};for(let t=0;t<l.length;t+=1)s=n(s,l[t]);return{c(){e=M("input"),C(e,s),D(e,"svelte-17qb5ew",!0)},m(n,o){b(n,e,o),t[62](e),H(e,t[1]),r||(i=[L(e,"focus",t[31]),L(e,"input",t[63])],r=!0)},p(t,n){C(e,s=It(l,[33554432&n[0]&&t[25],134217728&n[0]&&{placeholder:t[27]},32768&n[0]&&{style:t[15]}])),2&n[0]&&e.value!==t[1]&&H(e,t[1]),D(e,"svelte-17qb5ew",!0)},d(n){n&&x(e),t[62](null),r=!1,o(i)}}}function Gr(t){let e,r,i,l=[t[25],{placeholder:t[27]},{style:t[15]},{disabled:!0}],s={};for(let t=0;t<l.length;t+=1)s=n(s,l[t]);return{c(){e=M("input"),C(e,s),D(e,"svelte-17qb5ew",!0)},m(n,o){b(n,e,o),t[60](e),H(e,t[1]),r||(i=[L(e,"focus",t[31]),L(e,"input",t[61])],r=!0)},p(t,n){C(e,s=It(l,[33554432&n[0]&&t[25],134217728&n[0]&&{placeholder:t[27]},32768&n[0]&&{style:t[15]},{disabled:!0}])),2&n[0]&&e.value!==t[1]&&H(e,t[1]),D(e,"svelte-17qb5ew",!0)},d(n){n&&x(e),t[60](null),r=!1,o(i)}}}function Wr(t){let e,n,r,i,o;var l=t[6];function s(t){return{props:{item:t[0],getSelectionLabel:t[13]}}}return l&&(n=new l(s(t))),{c(){e=M("div"),n&&_t(n.$$.fragment),N(e,"class","selectedItem svelte-17qb5ew")},m(l,s){b(l,e,s),n&&Lt(n,e,null),r=!0,i||(o=L(e,"focus",t[31]),i=!0)},p(t,r){const i={};if(1&r[0]&&(i.item=t[0]),8192&r[0]&&(i.getSelectionLabel=t[13]),l!==(l=t[6])){if(n){$t();const t=n;bt(t.$$.fragment,1,0,(()=>{Nt(t,1)})),yt()}l?(n=new l(s(t)),_t(n.$$.fragment),vt(n.$$.fragment,1),Lt(n,e,null)):n=null}else l&&n.$set(i)},i(t){r||(n&&vt(n.$$.fragment,t),r=!0)},o(t){n&&bt(n.$$.fragment,t),r=!1},d(t){t&&x(e),n&&Nt(n),i=!1,o()}}}function Ur(e){let n,r,i;return{c(){n=M("div"),n.innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" role="presentation" class="svelte-17qb5ew"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n          l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',N(n,"class","clearSelect svelte-17qb5ew")},m(t,o){var l;b(t,n,o),r||(i=L(n,"click",(l=e[23],function(t){return t.preventDefault(),l.call(this,t)})),r=!0)},p:t,d(t){t&&x(n),r=!1,i()}}}function Jr(t){let e;function n(t,e){return t[22]?Yr:Zr}let r=n(t),i=r(t);return{c(){e=M("div"),i.c(),N(e,"class","indicator svelte-17qb5ew")},m(t,n){b(t,e,n),i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&x(e),i.d()}}}function Zr(e){let n,r;return{c(){n=k("svg"),r=k("path"),N(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n            3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n            1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n            0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n            0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),N(n,"width","100%"),N(n,"height","100%"),N(n,"viewBox","0 0 20 20"),N(n,"focusable","false"),N(n,"class","svelte-17qb5ew")},m(t,e){b(t,n,e),v(n,r)},p:t,d(t){t&&x(n)}}}function Yr(t){let e,n;return{c(){n=_(),e=new P(n)},m(r,i){e.m(t[22],r,i),b(r,n,i)},p(t,n){4194304&n[0]&&e.p(t[22])},d(t){t&&x(n),t&&e.d()}}}function Xr(t){let e;return{c(){e=M("div"),e.innerHTML='<svg class="spinner_icon svelte-17qb5ew" viewBox="25 25 50 50"><circle class="spinner_path svelte-17qb5ew" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',N(e,"class","spinner svelte-17qb5ew")},m(t,n){b(t,e,n)},d(t){t&&x(e)}}}function Qr(t){let e,n,r,i,l,s,a,c,u,f,h,d=t[17]&&Rr(t),p=t[8]&&t[0]&&t[0].length>0&&Vr(t);function g(t,e){return t[10]?Gr:zr}let m=g(t),$=m(t),y=!t[8]&&t[26]&&Wr(t),w=t[26]&&t[16]&&!t[10]&&!t[5]&&Ur(t),k=(t[20]||t[19]&&!t[0]||!t[14]&&!t[10]&&!t[5]&&(t[26]&&!t[16]||!t[26]))&&Jr(t),S=t[5]&&Xr();return{c(){e=M("div"),d&&d.c(),n=I(),p&&p.c(),r=I(),$.c(),i=I(),y&&y.c(),l=I(),w&&w.c(),s=I(),k&&k.c(),a=I(),S&&S.c(),N(e,"class",c="selectContainer "+t[21]+" svelte-17qb5ew"),N(e,"style",t[12]),D(e,"hasError",t[11]),D(e,"multiSelect",t[8]),D(e,"disabled",t[10]),D(e,"focused",t[4])},m(o,c){b(o,e,c),d&&d.m(e,null),v(e,n),p&&p.m(e,null),v(e,r),$.m(e,null),v(e,i),y&&y.m(e,null),v(e,l),w&&w.m(e,null),v(e,s),k&&k.m(e,null),v(e,a),S&&S.m(e,null),t[64](e),u=!0,f||(h=[L(window,"click",t[32]),L(window,"keydown",t[30]),L(window,"resize",t[29]),L(e,"click",t[33])],f=!0)},p(t,o){t[17]?d?(d.p(t,o),131072&o[0]&&vt(d,1)):(d=Rr(t),d.c(),vt(d,1),d.m(e,n)):d&&($t(),bt(d,1,1,(()=>{d=null})),yt()),t[8]&&t[0]&&t[0].length>0?p?(p.p(t,o),257&o[0]&&vt(p,1)):(p=Vr(t),p.c(),vt(p,1),p.m(e,r)):p&&($t(),bt(p,1,1,(()=>{p=null})),yt()),m===(m=g(t))&&$?$.p(t,o):($.d(1),$=m(t),$&&($.c(),$.m(e,i))),!t[8]&&t[26]?y?(y.p(t,o),67109120&o[0]&&vt(y,1)):(y=Wr(t),y.c(),vt(y,1),y.m(e,l)):y&&($t(),bt(y,1,1,(()=>{y=null})),yt()),t[26]&&t[16]&&!t[10]&&!t[5]?w?w.p(t,o):(w=Ur(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),t[20]||t[19]&&!t[0]||!t[14]&&!t[10]&&!t[5]&&(t[26]&&!t[16]||!t[26])?k?k.p(t,o):(k=Jr(t),k.c(),k.m(e,a)):k&&(k.d(1),k=null),t[5]?S||(S=Xr(),S.c(),S.m(e,null)):S&&(S.d(1),S=null),(!u||2097152&o[0]&&c!==(c="selectContainer "+t[21]+" svelte-17qb5ew"))&&N(e,"class",c),(!u||4096&o[0])&&N(e,"style",t[12]),2099200&o[0]&&D(e,"hasError",t[11]),2097408&o[0]&&D(e,"multiSelect",t[8]),2098176&o[0]&&D(e,"disabled",t[10]),2097168&o[0]&&D(e,"focused",t[4])},i(t){u||(vt(d),vt(p),vt(y),u=!0)},o(t){bt(d),bt(p),bt(y),u=!1},d(n){n&&x(e),d&&d.d(),p&&p.d(),$.d(),y&&y.d(),w&&w.d(),k&&k.d(),S&&S.d(),t[64](null),f=!1,o(h)}}}function Kr(t,e,n){let r,i;const o=Q();let l,s,a,c,u,f,h,d,{container:p}=e,{input:g}=e,{Item:m=ur}=e,{Selection:$=Or}=e,{MultiSelection:y=Pr}=e,{isMulti:v=!1}=e,{multiFullItemClearable:b=!1}=e,{isDisabled:x=!1}=e,{isCreatable:w=!1}=e,{isFocused:M=!1}=e,{selectedValue:k}=e,{filterText:S=""}=e,{placeholder:I="Select..."}=e,{items:_=[]}=e,{itemFilter:L=((t,e,n)=>t.toLowerCase().includes(e.toLowerCase()))}=e,{groupBy:N}=e,{groupFilter:C=(t=>t)}=e,{isGroupHeaderSelectable:j=!1}=e,{getGroupHeaderLabel:A=(t=>t.label)}=e,{getOptionLabel:T=((t,e)=>t.isCreator?`Create "${e}"`:t.label)}=e,{optionIdentifier:H="value"}=e,{loadOptions:O}=e,{hasError:q=!1}=e,{containerStyles:E=""}=e,{getSelectionLabel:B=(t=>{if(t)return t.label})}=e,{createGroupHeaderItem:D=(t=>({value:t,label:t}))}=e,{createItem:F=(t=>({value:t,label:t}))}=e,{isSearchable:P=!0}=e,{inputStyles:R=""}=e,{isClearable:V=!0}=e,{isWaiting:z=!1}=e,{listPlacement:G="auto"}=e,{listOpen:W=!1}=e,{list:U}=e,{isVirtualList:J=!1}=e,{loadOptionsInterval:K=300}=e,{noOptionsMessage:et="No options"}=e,{hideEmptyState:nt=!1}=e,{filteredItems:rt=[]}=e,{inputAttributes:it={}}=e,{listAutoWidth:ot=!0}=e,{itemHeight:st=40}=e,{Icon:at}=e,{iconProps:ct={}}=e,{showChevron:ut=!1}=e,{showIndicator:ft=!1}=e,{containerClasses:ht=""}=e,{indicatorSvg:dt}=e;async function pt(){await lt(),n(1,S="")}let gt=!1;const mt=function(t,e,n){let r;return function(){let i=this,o=arguments,l=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(l,e),s&&t.apply(i,o)}}((async()=>{gt=!0,n(5,z=!0);let t=await O(S).catch((t=>{console.warn("svelte-select loadOptions error :>> ",t),o("error",{type:"loadOptions",details:t})}));t?(n(34,_=[...t]),o("loaded",{items:_})):n(34,_=[]),n(5,z=!1),n(4,M=!0),n(36,W=!0)}),K);let $t={};function yt(){let t=!0;if(k){const e=[],r=[];k.forEach((n=>{e.includes(n[H])?t=!1:(e.push(n[H]),r.push(n))})),t||n(0,k=r)}return t}function vt(t){let e=t?t[H]:k[H];return _.find((t=>t[H]===e))}async function bt(t){if(await lt(),W)return U?U.$set({items:t}):void(O&&gt&&t.length>0&&St())}function xt(t){const{detail:e}=t,r=k[e?e.i:k.length-1];1===k.length?n(0,k=void 0):n(0,k=k.filter((t=>t!==r))),o("clear",r),wt()}async function wt(){if(await lt(),!l||!p)return;const{top:t,height:e,width:n}=p.getBoundingClientRect();l.style["min-width"]=`${n}px`,l.style.width=""+(ot?"auto":"100%"),l.style.left="0","top"===G?l.style.bottom=`${e+5}px`:l.style.top=`${e+5}px`,l=l,"auto"===G&&function(t){const e=t.getBoundingClientRect(),n={};return n.top=e.top<0,n.left=e.left<0,n.bottom=e.bottom>(window.innerHeight||document.documentElement.clientHeight),n.right=e.right>(window.innerWidth||document.documentElement.clientWidth),n.any=n.top||n.left||n.bottom||n.right,n}(l).bottom&&(l.style.top="",l.style.bottom=`${e+5}px`),l.style.visibility=""}function Mt(){n(4,M=!0),g&&g.focus()}function kt(){pt(),n(24,s=void 0),U&&(U.$destroy(),n(35,U=void 0),l&&(l.parentNode&&l.parentNode.removeChild(l),l=void 0,n(35,U),l=l))}async function St(){if(await lt(),l&&U)return;const t={Item:m,filterText:S,optionIdentifier:H,noOptionsMessage:et,hideEmptyState:nt,isVirtualList:J,selectedValue:k,isMulti:v,getGroupHeaderLabel:A,items:rt,itemHeight:st};T&&(t.getOptionLabel=T),l=document.createElement("div"),Object.assign(l.style,{position:"absolute","z-index":2,visibility:"hidden"}),n(35,U),l=l,p&&p.appendChild(l),n(35,U=new Ar({target:l,props:t})),U.$on("itemSelected",(t=>{const{detail:e}=t;if(e){const t=Object.assign({},e);t.isGroupHeader&&!t.isSelectable||(n(0,k=v?k?k.concat([t]):[t]:t),pt(),n(0,k),n(47,H),n(8,v),setTimeout((()=>{n(36,W=!1),n(24,s=void 0)})))}})),U.$on("itemCreated",(t=>{const{detail:e}=t;v?(n(0,k=k||[]),n(0,k=[...k,F(e)])):n(0,k=F(e)),n(1,S=""),n(36,W=!1),n(24,s=void 0),pt()})),U.$on("closeList",(()=>{n(36,W=!1)})),n(35,U),l=l,wt()}return Z((()=>{if(v&&k&&k.length>1&&yt(),!v&&k&&c!==k&&(c&&JSON.stringify(k[H])===JSON.stringify(c[H])||o("select",k)),v&&JSON.stringify(k)!==JSON.stringify(c)&&yt()&&o("select",k),p&&W!==u&&(W?St():kt()),S!==f&&(S.length>0?(n(4,M=!0),n(36,W=!0),O?mt():(St(),n(36,W=!0),v&&n(24,s=void 0))):bt([]),U&&U.$set({filterText:S})),M!==h&&(M||W?Mt():(pt(),g&&g.blur())),d!==rt){let t=[...rt];if(w&&S){const e=F(S);e.isCreator=!0;const n=t.find((t=>t[H]===e[H]));let r;k&&(v?r=k.find((t=>t[H]===e[H])):k[H]===e[H]&&(r=k)),n||r||(t=[...t,e])}bt(t)}c=k,u=W,f=S,h=M,d=rt})),Y((()=>{M&&g.focus(),W&&St(),_&&_.length>0&&n(59,a=JSON.stringify(_))})),X((()=>{kt()})),t.$$set=t=>{"container"in t&&n(2,p=t.container),"input"in t&&n(3,g=t.input),"Item"in t&&n(38,m=t.Item),"Selection"in t&&n(6,$=t.Selection),"MultiSelection"in t&&n(7,y=t.MultiSelection),"isMulti"in t&&n(8,v=t.isMulti),"multiFullItemClearable"in t&&n(9,b=t.multiFullItemClearable),"isDisabled"in t&&n(10,x=t.isDisabled),"isCreatable"in t&&n(39,w=t.isCreatable),"isFocused"in t&&n(4,M=t.isFocused),"selectedValue"in t&&n(0,k=t.selectedValue),"filterText"in t&&n(1,S=t.filterText),"placeholder"in t&&n(40,I=t.placeholder),"items"in t&&n(34,_=t.items),"itemFilter"in t&&n(41,L=t.itemFilter),"groupBy"in t&&n(42,N=t.groupBy),"groupFilter"in t&&n(43,C=t.groupFilter),"isGroupHeaderSelectable"in t&&n(44,j=t.isGroupHeaderSelectable),"getGroupHeaderLabel"in t&&n(45,A=t.getGroupHeaderLabel),"getOptionLabel"in t&&n(46,T=t.getOptionLabel),"optionIdentifier"in t&&n(47,H=t.optionIdentifier),"loadOptions"in t&&n(48,O=t.loadOptions),"hasError"in t&&n(11,q=t.hasError),"containerStyles"in t&&n(12,E=t.containerStyles),"getSelectionLabel"in t&&n(13,B=t.getSelectionLabel),"createGroupHeaderItem"in t&&n(49,D=t.createGroupHeaderItem),"createItem"in t&&n(50,F=t.createItem),"isSearchable"in t&&n(14,P=t.isSearchable),"inputStyles"in t&&n(15,R=t.inputStyles),"isClearable"in t&&n(16,V=t.isClearable),"isWaiting"in t&&n(5,z=t.isWaiting),"listPlacement"in t&&n(51,G=t.listPlacement),"listOpen"in t&&n(36,W=t.listOpen),"list"in t&&n(35,U=t.list),"isVirtualList"in t&&n(52,J=t.isVirtualList),"loadOptionsInterval"in t&&n(53,K=t.loadOptionsInterval),"noOptionsMessage"in t&&n(54,et=t.noOptionsMessage),"hideEmptyState"in t&&n(55,nt=t.hideEmptyState),"filteredItems"in t&&n(37,rt=t.filteredItems),"inputAttributes"in t&&n(56,it=t.inputAttributes),"listAutoWidth"in t&&n(57,ot=t.listAutoWidth),"itemHeight"in t&&n(58,st=t.itemHeight),"Icon"in t&&n(17,at=t.Icon),"iconProps"in t&&n(18,ct=t.iconProps),"showChevron"in t&&n(19,ut=t.showChevron),"showIndicator"in t&&n(20,ft=t.showIndicator),"containerClasses"in t&&n(21,ht=t.containerClasses),"indicatorSvg"in t&&n(22,dt=t.indicatorSvg)},t.$$.update=()=>{if(t.$$.dirty[0],8&t.$$.dirty[1]&&function(t){t&&0!==t.length&&!t.some((t=>"object"!=typeof t))&&k&&(v?!k.some((t=>!t||!t[H])):k[H])&&(Array.isArray(k)?n(0,k=k.map((t=>vt(t)||t))):n(0,k=vt()||k))}(_),257&t.$$.dirty[0]|65536&t.$$.dirty[1]&&("string"==typeof k?n(0,k={[H]:k,label:k}):v&&Array.isArray(k)&&k.length>0&&n(0,k=k.map((t=>"string"==typeof t?{value:t,label:t}:t)))),8388624&t.$$.dirty[1]&&et&&U&&U.$set({noOptionsMessage:et}),3&t.$$.dirty[0]&&n(26,r=k&&0===S.length),1&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(27,i=k?"":I),16384&t.$$.dirty[0]|33554432&t.$$.dirty[1]&&(n(25,$t=Object.assign({autocomplete:"off",autocorrect:"off",spellcheck:!1},it)),P||n(25,$t.readonly=!0,$t)),259&t.$$.dirty[0]|268942344&t.$$.dirty[1]){let t,e=_;if(_&&_.length>0&&"object"!=typeof _[0]&&(e=_.map(((t,e)=>({index:e,value:t,label:t})))),O&&0===S.length&&a?(t=JSON.parse(a),e=JSON.parse(a)):t=O?0===S.length?[]:e:e.filter((t=>{let e=!0;return v&&k&&(e=!k.some((e=>e[H]===t[H]))),!!e&&(S.length<1||L(T(t,S),S,t))})),N){const e=[],r={};t.forEach((t=>{const n=N(t);e.includes(n)||(e.push(n),r[n]=[],n&&r[n].push(Object.assign(D(n,t),{id:n,isGroupHeader:!0,isSelectable:j}))),r[n].push(Object.assign({isGroupItem:!!n},t))}));const i=[];C(e).forEach((t=>{i.push(...r[t])})),n(37,rt=i)}else n(37,rt=t)}},[k,S,p,g,M,z,$,y,v,b,x,q,E,B,P,R,V,at,ct,ut,ft,ht,dt,function(){n(0,k=void 0),n(36,W=!1),o("clear",k),Mt()},s,$t,r,i,xt,wt,function(t){if(M)switch(t.key){case"ArrowDown":case"ArrowUp":t.preventDefault(),n(36,W=!0),n(24,s=void 0);break;case"Tab":W||n(4,M=!1);break;case"Backspace":if(!v||S.length>0)return;if(v&&k&&k.length>0){if(xt(void 0!==s?s:k.length-1),0===s||void 0===s)break;n(24,s=k.length>s?s-1:void 0)}break;case"ArrowLeft":if(U&&U.$set({hoverItemIndex:-1}),!v||S.length>0)return;void 0===s?n(24,s=k.length-1):k.length>s&&0!==s&&n(24,s-=1);break;case"ArrowRight":if(U&&U.$set({hoverItemIndex:-1}),!v||S.length>0||void 0===s)return;s===k.length-1?n(24,s=void 0):s<k.length-1&&n(24,s+=1)}},Mt,function(t){if(!p)return;const e=t.path&&t.path.length>0?t.path[0]:t.target;p.contains(e)||(n(4,M=!1),n(36,W=!1),n(24,s=void 0),g&&g.blur())},function(){x||(n(4,M=!0),n(36,W=!W))},_,U,W,rt,m,w,I,L,N,C,j,A,T,H,O,D,F,G,J,K,et,nt,it,ot,st,a,function(t){tt[t?"unshift":"push"]((()=>{g=t,n(3,g)}))},function(){S=this.value,n(1,S)},function(t){tt[t?"unshift":"push"]((()=>{g=t,n(3,g)}))},function(){S=this.value,n(1,S)},function(t){tt[t?"unshift":"push"]((()=>{p=t,n(2,p)}))}]}class ti extends jt{constructor(t){super(),Ct(this,t,Kr,Qr,s,{container:2,input:3,Item:38,Selection:6,MultiSelection:7,isMulti:8,multiFullItemClearable:9,isDisabled:10,isCreatable:39,isFocused:4,selectedValue:0,filterText:1,placeholder:40,items:34,itemFilter:41,groupBy:42,groupFilter:43,isGroupHeaderSelectable:44,getGroupHeaderLabel:45,getOptionLabel:46,optionIdentifier:47,loadOptions:48,hasError:11,containerStyles:12,getSelectionLabel:13,createGroupHeaderItem:49,createItem:50,isSearchable:14,inputStyles:15,isClearable:16,isWaiting:5,listPlacement:51,listOpen:36,list:35,isVirtualList:52,loadOptionsInterval:53,noOptionsMessage:54,hideEmptyState:55,filteredItems:37,inputAttributes:56,listAutoWidth:57,itemHeight:58,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,handleClear:23},[-1,-1,-1])}get handleClear(){return this.$$.ctx[23]}}function ei(e){let n,r,i,o;return{c(){n=k("svg"),r=k("title"),i=S("Checkmark"),o=k("path"),N(o,"fill","none"),N(o,"stroke","currentColor"),N(o,"stroke-linecap","round"),N(o,"stroke-linejoin","round"),N(o,"stroke-width","52"),N(o,"d","M416 128L192 384l-96-96"),N(n,"width","18"),N(n,"height","18"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"class","ionicon"),N(n,"viewBox","0 0 512 512")},m(t,e){b(t,n,e),v(n,r),v(r,i),v(n,o)},p:t,i:t,o:t,d(t){t&&x(n)}}}class ni extends jt{constructor(t){super(),Ct(this,t,null,ei,s,{})}}function ri(t){let e,n;return e=new ni({}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function ii(t){let e,n,r,i,o,l=t[1](t[2],t[3])+"",s=t[0]&&ri();return{c(){e=M("div"),r=I(),s&&s.c(),n=new P(r),N(e,"class",i="item "+t[4]+" svelte-1kv7uw0")},m(t,i){b(t,e,i),n.m(l,e),v(e,r),s&&s.m(e,null),o=!0},p(t,[r]){(!o||14&r)&&l!==(l=t[1](t[2],t[3])+"")&&n.p(l),t[0]?s?1&r&&vt(s,1):(s=ri(),s.c(),vt(s,1),s.m(e,null)):s&&($t(),bt(s,1,1,(()=>{s=null})),yt()),(!o||16&r&&i!==(i="item "+t[4]+" svelte-1kv7uw0"))&&N(e,"class",i)},i(t){o||(vt(s),o=!0)},o(t){bt(s),o=!1},d(t){t&&x(e),s&&s.d()}}}function oi(t,e,n){let{isActive:r=!1}=e,{isFirst:i=!1}=e,{isHover:o=!1}=e,{getOptionLabel:l}=e,{item:s}=e,{filterText:a=""}=e,c="";return t.$$set=t=>{"isActive"in t&&n(0,r=t.isActive),"isFirst"in t&&n(5,i=t.isFirst),"isHover"in t&&n(6,o=t.isHover),"getOptionLabel"in t&&n(1,l=t.getOptionLabel),"item"in t&&n(2,s=t.item),"filterText"in t&&n(3,a=t.filterText)},t.$$.update=()=>{if(101&t.$$.dirty){const t=[];r&&t.push("active"),i&&t.push("first"),o&&t.push("hover"),s.isGroupHeader&&t.push("groupHeader"),s.isGroupItem&&t.push("groupItem"),n(4,c=t.join(" "))}},[r,l,s,a,c,i,o]}class li extends jt{constructor(t){super(),Ct(this,t,oi,ii,s,{isActive:0,isFirst:5,isHover:6,getOptionLabel:1,item:2,filterText:3})}}function si(e){let n,r=e[0](e[1])+"";return{c(){n=M("div"),N(n,"class","selection svelte-1h015nr")},m(t,e){b(t,n,e),n.innerHTML=r},p(t,[e]){3&e&&r!==(r=t[0](t[1])+"")&&(n.innerHTML=r)},i:t,o:t,d(t){t&&x(n)}}}function ai(t,e,n){let{getSelectionLabel:r}=e,{item:i}=e;return t.$$set=t=>{"getSelectionLabel"in t&&n(0,r=t.getSelectionLabel),"item"in t&&n(1,i=t.item)},[r,i]}class ci extends jt{constructor(t){super(),Ct(this,t,ai,si,s,{getSelectionLabel:0,item:1})}}const ui=t=>t.charAt(0).toUpperCase()+t.slice(1),fi=t=>t.split("-").map(ui).join(" ");function hi(e){let n,r,i,o,l;return o=new ti({props:{items:e[0],Item:li,Selection:ci,selectedValue:e[0][0],isClearable:!1,showIndicator:!0}}),o.$on("select",e[1]),{c(){n=M("div"),r=M("div"),r.textContent="Select a journal:",i=I(),_t(o.$$.fragment),N(r,"class","label svelte-4pzahq"),N(n,"class","select svelte-4pzahq")},m(t,e){b(t,n,e),v(n,r),v(n,i),Lt(o,n,null),l=!0},p:t,i(t){l||(vt(o.$$.fragment,t),l=!0)},o(t){bt(o.$$.fragment,t),l=!1},d(t){t&&x(n),Nt(o)}}}function di(t,e,n){let{data:r=[]}=e;const i=Jn(r,(t=>t.journal)).map((([,t])=>{const e=t[0].journal,n=or(t,(t=>t.citedBy));return{value:e,label:`${fi(e)} (${Math.round(n)})`,impactFactor:n}})).sort(((t,e)=>function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}(t.impactFactor,e.impactFactor)));return gn.set(i[0].value),t.$$set=t=>{"data"in t&&n(2,r=t.data)},[i,function(t){gn.set(t.detail.value)},r]}class pi extends jt{constructor(t){super(),Ct(this,t,di,hi,s,{data:2})}}function gi(t){let e,n,r,i,o,l,s,a,c,u,f,h,d,p,g,m,$;return a=new pi({props:{data:t[0]}}),d=new Dn({}),{c(){e=M("div"),n=M("class"),r=M("div"),r.innerHTML='<h1 class="svelte-1h6j9rj">Switching the light off</h1> \n      <div class="sub-title svelte-1h6j9rj"><i>Academic journals&#39; impact factors without their star articles</i></div>',i=I(),o=M("p"),o.innerHTML='The relevance of an academic journal is sometimes described\n      by the <span class="bright"><b>average number of citations</b></span>\n      of articles published in previous years. This is referred to as the\n      <span class="bright"><i>impact factor</i></span>.<sup>1</sup> \n      Commonly, though, only a small number of articles receive much\n      attention, while the vast majority contribute little to\n      the impact factor. This visualisation allows exploration of what a\n      journal&#39;s impact factor <span class="bright"><i>would have been</i></span>\n      if certain high-impact articles hadn&#39;t been published.\n    ',l=M("p"),s=M("div"),_t(a.$$.fragment),c=I(),u=M("div"),f=M("p"),f.textContent="Each star represents an article and encodes the number\n        of received citations:",h=I(),_t(d.$$.fragment),p=I(),g=M("div"),g.innerHTML='<p class="svelte-1h6j9rj"><sup>1</sup> Here, the impact factor reflects the average number\n      of citations that articles published in 2018/19\n      received up until now (Feb 2021).</p> \n\n    <p class="svelte-1h6j9rj">Code availbale on\n      <a href="https://github.com/sophiamersmann/impact-factors" target="_blank" class="svelte-1h6j9rj">GitHub</a></p>',N(r,"class","header bright svelte-1h6j9rj"),N(o,"class","svelte-1h6j9rj"),N(l,"class","svelte-1h6j9rj"),N(s,"class","select svelte-1h6j9rj"),N(f,"class","svelte-1h6j9rj"),N(u,"class","small svelte-1h6j9rj"),N(n,"class","top"),N(g,"class","bottom small svelte-1h6j9rj"),N(e,"class","side-panel svelte-1h6j9rj"),st((()=>t[2].call(e)))},m(y,x){b(y,e,x),v(e,n),v(n,r),v(n,i),v(n,o),v(n,l),v(n,s),Lt(a,s,null),v(n,c),v(n,u),v(u,f),v(u,h),Lt(d,u,null),v(e,p),v(e,g),m=B(e,t[2].bind(e)),$=!0},p(t,[e]){const n={};1&e&&(n.data=t[0]),a.$set(n)},i(t){$||(vt(a.$$.fragment,t),vt(d.$$.fragment,t),$=!0)},o(t){bt(a.$$.fragment,t),bt(d.$$.fragment,t),$=!1},d(t){t&&x(e),Nt(a),Nt(d),m()}}}function mi(t,e,n){let r;c(t,Ft,(t=>n(1,r=t)));let{data:i=[]}=e;return t.$$set=t=>{"data"in t&&n(0,i=t.data)},[i,r,function(){r=this.clientWidth,Ft.set(r)}]}class $i extends jt{constructor(t){super(),Ct(this,t,mi,gi,s,{data:0})}}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const vi=Symbol("implicit");function bi(){var t=new Map,e=[],n=[],r=vi;function i(i){var o=i+"",l=t.get(o);if(!l){if(r!==vi)return r;t.set(o,l=e.push(i))}return n[(l-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return bi(e,n).unknown(r)},yi.apply(i,arguments),i}function xi(){var t,e,n=bi().unknown(void 0),r=n.domain,i=n.range,o=0,l=1,s=!1,a=0,c=0,u=.5;function f(){var n=r().length,f=l<o,h=f?l:o,d=f?o:l;t=(d-h)/Math.max(1,n-a+2*c),s&&(t=Math.floor(t)),h+=(d-h-t*(n-a))*u,e=t*(1-a),s&&(h=Math.round(h),e=Math.round(e));var p=sr(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,l]=t,o=+o,l=+l,f()):[o,l]},n.rangeRound=function(t){return[o,l]=t,o=+o,l=+l,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(a=Math.min(1,c=+t),f()):a},n.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),f()):a},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return xi(r(),[o,l]).round(s).paddingInner(a).paddingOuter(c).align(u)},yi.apply(f(),arguments)}function wi(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wi(e())},t}function Mi(t){return+t}var ki=[0,1];function Si(t){return t}function Ii(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function _i(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=Ii(i,r),o=n(l,o)):(r=Ii(r,i),o=n(o,l)),function(t){return o(r(t))}}function Li(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Ii(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=Rn(t,e,1,r)-1;return o[n](i[n](e))}}function Ni(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ci(){var t,e,n,r,i,o,l=ki,s=ki,a=on,c=Si;function u(){var t,e,n,a=Math.min(l.length,s.length);return c!==Si&&(t=l[0],e=l[a-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=a>2?Li:_i,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(l.map(t),s,a)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,l.map(t),Ke)))(n)))},f.domain=function(t){return arguments.length?(l=Array.from(t,Mi),u()):l.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),a=ln,u()},f.clamp=function(t){return arguments.length?(c=!!t||Si,u()):c!==Si},f.interpolate=function(t){return arguments.length?(a=t,u()):a},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function ji(){return Ci()(Si,Si)}function Ai(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ti(t){return(t=Ai(Math.abs(t)))?t[1]:NaN}var Hi,Oi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(t){if(!(e=Oi.exec(t)))throw new Error("invalid format: "+t);var e;return new Ei({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ei(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Bi(t,e){var n=Ai(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qi.prototype=Ei.prototype,Ei.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Di={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bi(100*t,e),r:Bi,s:function(t,e){var n=Ai(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Hi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ai(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fi(t){return t}var Pi,Ri,Vi,zi=Array.prototype.map,Gi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wi(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Fi:(e=zi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],l=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(t.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[l=(l+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Fi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zi.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=qi(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,$=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Di[y]||(void 0===m&&(m=12),$=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?a:"",x=Di[y],w=/[defgprs%]/.test(y);function M(t){var i,o,a,h=v,M=b;if("c"===y)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),$&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===y?Gi[8+Hi/3]:"")+M+(k&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(a=t.charCodeAt(i))||a>57){M=(46===a?l+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+M.length,I=S<p?new Array(p-S+1).join(e):"";switch(g&&d&&(t=r(I+t,I.length?p-M.length:1/0),I=""),n){case"<":t=h+t+M+I;break;case"=":t=h+I+t+M;break;case"^":t=I.slice(0,S=I.length>>1)+h+t+M+I.slice(S);break;default:t=I+h+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=qi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ti(e)/3))),i=Math.pow(10,-r),o=Gi[8+r/3];return function(t){return n(i*t)+o}}}}function Ui(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Yn?i*=10:o>=Xn?i*=5:o>=Qn&&(i*=2),e<t?-i:i}(t,e,n);switch((r=qi(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ti(e)/3)))-Ti(Math.abs(t)))}(o,l))||(r.precision=i),Vi(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ti(e)-Ti(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ti(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ri(r)}function Ji(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,l,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(l=Kn(t,e,n))||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*l;else for(l=-l,t=Math.ceil(t*l),e=Math.floor(e*l),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/l;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ui(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),l=0,s=o.length-1,a=o[l],c=o[s],u=10;for(c<a&&(i=a,a=c,c=i,i=l,l=s,s=i);u-- >0;){if((i=Kn(a,c,n))===r)return o[l]=a,o[s]=c,e(o);if(i>0)a=Math.floor(a/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Zi(){var t=ji();return t.copy=function(){return Ni(t,Zi())},yi.apply(t,arguments),Ji(t)}function Yi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qi(t){return t<0?-t*t:t*t}function Ki(t){var e=t(Si,Si),n=1;function r(){return 1===n?t(Si,Si):.5===n?t(Xi,Qi):t(Yi(n),Yi(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Ji(e)}function to(){var t=Ki(Ci());return t.copy=function(){return Ni(t,to()).exponent(t.exponent())},yi.apply(t,arguments),t}Pi=Wi({thousands:",",grouping:[3],currency:["$",""]}),Ri=Pi.format,Vi=Pi.formatPrefix;const eo=Math.PI,no=2*eo,ro=1e-6,io=no-ro;function oo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function lo(){return new oo}function so(t){return function(){return t}}oo.prototype=lo.prototype={constructor:oo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,l=this._y1,s=n-t,a=r-e,c=o-t,u=l-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>ro)if(Math.abs(u*s-a*c)>ro&&i){var h=n-o,d=r-l,p=s*s+a*a,g=h*h+d*d,m=Math.sqrt(p),$=Math.sqrt(f),y=i*Math.tan((eo-Math.acos((p+f-g)/(2*m*$)))/2),v=y/$,b=y/m;Math.abs(v-1)>ro&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*a)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var l=(n=+n)*Math.cos(r),s=n*Math.sin(r),a=t+l,c=e+s,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+a+","+c:(Math.abs(this._x1-a)>ro||Math.abs(this._y1-c)>ro)&&(this._+="L"+a+","+c),n&&(f<0&&(f=f%no+no),f>io?this._+="A"+n+","+n+",0,1,"+u+","+(t-l)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=a)+","+(this._y1=c):f>ro&&(this._+="A"+n+","+n+",0,"+ +(f>=eo)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ao=Math.abs,co=Math.atan2,uo=Math.cos,fo=Math.max,ho=Math.min,po=Math.sin,go=Math.sqrt,mo=1e-12,$o=Math.PI,yo=$o/2,vo=2*$o;function bo(t){return t>1?0:t<-1?$o:Math.acos(t)}function xo(t){return t>=1?yo:t<=-1?-yo:Math.asin(t)}function wo(t){return t.innerRadius}function Mo(t){return t.outerRadius}function ko(t){return t.startAngle}function So(t){return t.endAngle}function Io(t){return t&&t.padAngle}function _o(t,e,n,r,i,o,l,s){var a=n-t,c=r-e,u=l-i,f=s-o,h=f*a-u*c;if(!(h*h<mo))return[t+(h=(u*(e-o)-f*(t-i))/h)*a,e+h*c]}function Lo(t,e,n,r,i,o,l){var s=t-n,a=e-r,c=(l?o:-o)/go(s*s+a*a),u=c*a,f=-c*s,h=t+u,d=e+f,p=n+u,g=r+f,m=(h+p)/2,$=(d+g)/2,y=p-h,v=g-d,b=y*y+v*v,x=i-o,w=h*g-p*d,M=(v<0?-1:1)*go(fo(0,x*x*b-w*w)),k=(w*v-y*M)/b,S=(-w*y-v*M)/b,I=(w*v+y*M)/b,_=(-w*y+v*M)/b,L=k-m,N=S-$,C=I-m,j=_-$;return L*L+N*N>C*C+j*j&&(k=I,S=_),{cx:k,cy:S,x01:-u,y01:-f,x11:k*(i/x-1),y11:S*(i/x-1)}}function No(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function Co(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function jo(t,{delay:e=0,duration:n=400,easing:r=cn,x:i=0,y:o=0,opacity:l=0}={}){const s=getComputedStyle(t),a=+s.opacity,c="none"===s.transform?"":s.transform,u=a*(1-l);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${a-u*e}`}}function Ao(t,{delay:e=0,speed:n,duration:r,easing:i=an}={}){const o=t.getTotalLength();return void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`stroke-dasharray: ${t*o} ${e*o}`}}function To(e){let n,r,i,o,l,s,a,c,u,f;return{c(){n=k("g"),r=k("line"),o=k("line"),a=k("line"),N(r,"x1","0"),N(r,"y1","0"),N(r,"x2","0"),N(r,"y2",e[2]),N(r,"class","svelte-42vjo2"),N(o,"class","arrow-marker svelte-42vjo2"),N(o,"x1",-Oo),N(o,"y1",l=e[2]-Ho),N(o,"x2","0"),N(o,"y2",e[2]),N(a,"class","arrow-marker svelte-42vjo2"),N(a,"x1",Oo),N(a,"y1",c=e[2]-Ho),N(a,"x2","0"),N(a,"y2",e[2]),N(n,"class","arrow"),N(n,"transform",f="translate("+e[0]+", "+e[1]+") rotate("+e[6]+")"),N(n,"stroke",e[3])},m(t,e){b(t,n,e),v(n,r),v(n,o),v(n,a)},p(t,[i]){e=t,4&i&&N(r,"y2",e[2]),4&i&&l!==(l=e[2]-Ho)&&N(o,"y1",l),4&i&&N(o,"y2",e[2]),4&i&&c!==(c=e[2]-Ho)&&N(a,"y1",c),4&i&&N(a,"y2",e[2]),3&i&&f!==(f="translate("+e[0]+", "+e[1]+") rotate("+e[6]+")")&&N(n,"transform",f),8&i&&N(n,"stroke",e[3])},i(t){i||st((()=>{i=wt(r,Ao,{duration:e[4]?e[5]:0,easing:fn}),i.start()})),s||st((()=>{s=wt(o,Co,e[7]),s.start()})),u||st((()=>{u=wt(a,Co,e[7]),u.start()}))},o:t,d(t){t&&x(n)}}}const Ho=5,Oo=3;function qo(t,e,n){let r;c(t,bn,(t=>n(5,r=t)));let{x:i=0}=e,{y:o=0}=e,{orient:l="right"}=e,{length:s=20}=e,{color:a="currentColor"}=e,{animate:u=!1}=e;const f={down:0,left:90,up:180,right:270}[l],h={duration:u?10:0,delay:r};return t.$$set=t=>{"x"in t&&n(0,i=t.x),"y"in t&&n(1,o=t.y),"orient"in t&&n(8,l=t.orient),"length"in t&&n(2,s=t.length),"color"in t&&n(3,a=t.color),"animate"in t&&n(4,u=t.animate)},[i,o,s,a,u,r,f,h,l]}class Eo extends jt{constructor(t){super(),Ct(this,t,qo,To,s,{x:0,y:1,orient:8,length:2,color:3,animate:4})}}function Bo(t){let e,n,r,i,o,l,s,a,c,u,f,h,d,p,g,m=Math.round(t[5])+"",$=Math.round(t[4])+"",y=t[6](100*t[1])+"",w=t[1]>0&&Do();return{c(){e=k("g"),n=k("line"),r=k("text"),i=S(m),o=k("text"),l=S($),s=k("g"),w&&w.c(),a=k("text"),c=S(y),u=S("%"),N(n,"x1",-Po+Ro),N(n,"y1","0"),N(n,"x2",Po-Ro),N(n,"y2","0"),N(n,"class","svelte-1o6yuxt"),N(r,"class","difference svelte-1o6yuxt"),N(r,"dy","-5"),N(o,"class","reactive-number svelte-1o6yuxt"),N(o,"x",Po),N(a,"class",f="change "+(t[1]?"":"zero")+" svelte-1o6yuxt"),N(a,"dx","5"),N(s,"transform",h="translate("+(Po+t[7]+10)+", 0)"),N(s,"class","svelte-1o6yuxt"),N(e,"class","svelte-1o6yuxt")},m(f,h){b(f,e,h),v(e,n),v(e,r),v(r,i),v(e,o),v(o,l),t[15](o),v(e,s),w&&w.m(s,null),v(s,a),v(a,c),v(a,u),g=!0},p(e,n){t=e,(!g||32&n)&&m!==(m=Math.round(t[5])+"")&&T(i,m),(!g||16&n)&&$!==($=Math.round(t[4])+"")&&T(l,$),t[1]>0?w?(w.p(t,n),2&n&&vt(w,1)):(w=Do(),w.c(),vt(w,1),w.m(s,a)):w&&($t(),bt(w,1,1,(()=>{w=null})),yt()),(!g||66&n)&&y!==(y=t[6](100*t[1])+"")&&T(c,y),(!g||2&n&&f!==(f="change "+(t[1]?"":"zero")+" svelte-1o6yuxt"))&&N(a,"class",f),(!g||128&n&&h!==(h="translate("+(Po+t[7]+10)+", 0)"))&&N(s,"transform",h)},i(n){g||(vt(w),st((()=>{p&&p.end(1),d||(d=wt(e,jo,{duration:t[8],delay:t[8]-100,x:Vo})),d.start()})),g=!0)},o(n){bt(w),d&&d.invalidate(),p=Mt(e,jo,{duration:t[8],x:Vo}),g=!1},d(n){n&&x(e),t[15](null),w&&w.d(),n&&p&&p.end()}}}function Do(e){let n,r;return n=new Eo({props:{orient:"down",length:zo,y:-zo/2,color:"var(--danger)"}}),{c(){_t(n.$$.fragment)},m(t,e){Lt(n,t,e),r=!0},p:t,i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){Nt(n,t)}}}function Fo(t){let e,n,r,i,o,l=t[3]&&Bo(t);return{c(){e=k("g"),n=k("text"),r=S(t[0]),l&&l.c(),N(n,"class","static-number svelte-1o6yuxt"),N(n,"x",i=-t[9]),O(n,"text-anchor",t[3]?"end":"middle"),N(e,"class","number-pair svelte-1o6yuxt")},m(t,i){b(t,e,i),v(e,n),v(n,r),l&&l.m(e,null),o=!0},p(t,[s]){(!o||1&s)&&T(r,t[0]),(!o||512&s&&i!==(i=-t[9]))&&N(n,"x",i),(!o||8&s)&&O(n,"text-anchor",t[3]?"end":"middle"),t[3]?l?(l.p(t,s),8&s&&vt(l,1)):(l=Bo(t),l.c(),vt(l,1),l.m(e,null)):l&&($t(),bt(l,1,1,(()=>{l=null})),yt())},i(t){o||(vt(l),o=!0)},o(t){bt(l),o=!1},d(t){t&&x(e),l&&l.d()}}}const Po=27,Ro=15,Vo=10,zo=14;function Go(t,e,n){let r,i,o,l,s,a;c(t,xn,(t=>n(8,i=t))),c(t,vn,(t=>n(16,o=t))),c(t,yn,(t=>n(14,l=t)));let u,f,{staticNumber:h=0}=e,{data:d=[]}=e,{func:p}=e,g=0,m=0,$=0;const y=pn(0,{duration:i,easing:fn});c(t,y,(t=>n(9,a=t)));const v=pn(void 0,{duration:o,easing:fn});c(t,v,(t=>n(4,s=t)));const b=t=>Math.round(t),x=t=>Math.round(10*t)/10;return t.$$set=t=>{"staticNumber"in t&&n(0,h=t.staticNumber),"data"in t&&n(12,d=t.data),"func"in t&&n(13,p=t.func)},t.$$.update=()=>{16384&t.$$.dirty&&n(3,r=l<1/0),8&t.$$.dirty&&y.set(r?Po:0),12288&t.$$.dirty&&v.set(Math.round(p(d))),17&t.$$.dirty&&n(5,m=s-h),17&t.$$.dirty&&n(1,g=1-s/h),2&t.$$.dirty&&n(6,u=100*g<10?x:b),4&t.$$.dirty&&n(7,$=f?f.getBBox().width:0)},[h,g,f,r,s,m,u,$,i,a,y,v,d,p,l,function(t){tt[t?"unshift":"push"]((()=>{f=t,n(2,f)}))}]}class Wo extends jt{constructor(t){super(),Ct(this,t,Go,Fo,s,{staticNumber:0,data:12,func:13})}}function Uo(t){let e,n,r,i,o,l,s,a,c,u,f,h;return o=new Wo({props:{staticNumber:Math.round(t[2]),data:t[0],func:t[5]}}),c=new Wo({props:{staticNumber:Math.round(t[1]),data:t[0],func:t[4]}}),{c(){e=k("g"),n=k("g"),r=k("text"),i=S("Impact Factor"),_t(o.$$.fragment),l=k("g"),s=k("text"),a=S("based on "),_t(c.$$.fragment),u=k("text"),f=S("articles"),N(r,"dy",-Jo),N(r,"class","svelte-12ahkhy"),N(n,"class","g-impact"),O(n,"transform","translate(0, "+-t[3]+"px)"),N(s,"dy",-Jo),N(s,"class","svelte-12ahkhy"),N(u,"dy",Jo),N(u,"class","svelte-12ahkhy"),N(l,"class","g-count"),O(l,"transform","translate(0, "+t[3]+"px)"),N(e,"class","center")},m(t,d){b(t,e,d),v(e,n),v(n,r),v(r,i),Lt(o,n,null),v(e,l),v(l,s),v(s,a),Lt(c,l,null),v(l,u),v(u,f),h=!0},p(t,[e]){const n={};4&e&&(n.staticNumber=Math.round(t[2])),1&e&&(n.data=t[0]),o.$set(n);const r={};2&e&&(r.staticNumber=Math.round(t[1])),1&e&&(r.data=t[0]),c.$set(r)},i(t){h||(vt(o.$$.fragment,t),vt(c.$$.fragment,t),h=!0)},o(t){bt(o.$$.fragment,t),bt(c.$$.fragment,t),h=!1},d(t){t&&x(e),Nt(o),Nt(c)}}}const Jo=20;function Zo(t,e,n){let r;c(t,Rt,(t=>n(7,r=t)));let{selectedData:i=[]}=e,{brightData:o=[]}=e;const l=r/4,s=t=>t.length,a=t=>or(t,(t=>t.data.citedBy));let u=0,f=0;return t.$$set=t=>{"selectedData"in t&&n(6,i=t.selectedData),"brightData"in t&&n(0,o=t.brightData)},t.$$.update=()=>{64&t.$$.dirty&&n(1,u=s(i)),64&t.$$.dirty&&n(2,f=a(i))},[o,u,f,l,s,a,i]}class Yo extends jt{constructor(t){super(),Ct(this,t,Zo,Uo,s,{selectedData:6,brightData:0})}}function Xo(t){let e,n,r,i,o;return{c(){e=k("line"),N(e,"class","axis-line svelte-1nlzmba"),N(e,"x1",n=t[0][0]),N(e,"y1",r=t[0][1]),N(e,"x2",i=t[1][0]),N(e,"y2",o=t[1][1])},m(t,n){b(t,e,n)},p(t,l){1&l&&n!==(n=t[0][0])&&N(e,"x1",n),1&l&&r!==(r=t[0][1])&&N(e,"y1",r),2&l&&i!==(i=t[1][0])&&N(e,"x2",i),2&l&&o!==(o=t[1][1])&&N(e,"y2",o)},d(t){t&&x(e)}}}function Qo(e){let n,r=e[0][0]&&Xo(e);return{c(){r&&r.c(),n=_()},m(t,e){r&&r.m(t,e),b(t,n,e)},p(t,[e]){t[0][0]?r?r.p(t,e):(r=Xo(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&x(n)}}}function Ko(t,e,n){let r,i;c(t,Rt,(t=>n(3,r=t))),c(t,Vt,(t=>n(4,i=t)));let{angle:o=0}=e,l=[],s=[];return t.$$set=t=>{"angle"in t&&n(2,o=t.angle)},t.$$.update=()=>{12&t.$$.dirty&&n(0,l=No(o,r-10)),20&t.$$.dirty&&n(1,s=No(o,i))},[l,s,o,r,i]}class tl extends jt{constructor(t){super(),Ct(this,t,Ko,Qo,s,{angle:2})}}function el(t){let e,n,r,i,o,l,s,a;const c=t[8].default,f=u(c,t,t[7],null);return{c(){e=k("g"),n=k("path"),i=k("text"),o=k("textPath"),f&&f.c(),N(n,"id",t[1]),N(n,"d",r=t[6](t[0],t[2],t[2]+Math.PI)),N(n,"class","svelte-dts57p"),A(o,"xlink:href",l=`#${t[1]}`),N(o,"startOffset",nl),N(i,"fill-opacity",t[5]),O(i,"fill",t[4]),N(i,"dy",s=t[3]?8:0),N(i,"class","svelte-dts57p"),N(e,"class","label")},m(t,r){b(t,e,r),v(e,n),v(e,i),v(i,o),f&&f.m(o,null),a=!0},p(t,[e]){(!a||2&e)&&N(n,"id",t[1]),(!a||5&e&&r!==(r=t[6](t[0],t[2],t[2]+Math.PI)))&&N(n,"d",r),f&&f.p&&128&e&&h(f,c,t,t[7],e,null,null),(!a||2&e&&l!==(l=`#${t[1]}`))&&A(o,"xlink:href",l),(!a||32&e)&&N(i,"fill-opacity",t[5]),(!a||16&e)&&O(i,"fill",t[4]),(!a||8&e&&s!==(s=t[3]?8:0))&&N(i,"dy",s)},i(t){a||(vt(f,t),a=!0)},o(t){bt(f,t),a=!1},d(t){t&&x(e),f&&f.d(t)}}}const nl=3;function rl(t,e,n){let{$$slots:r={},$$scope:i}=e,{pathId:o=""}=e,{radius:l=0}=e,{angle:s=0}=e,{hanging:a=!1}=e,{color:c="var(--gray)"}=e,{opacity:u=.8}=e;return t.$$set=t=>{"pathId"in t&&n(1,o=t.pathId),"radius"in t&&n(0,l=t.radius),"angle"in t&&n(2,s=t.angle),"hanging"in t&&n(3,a=t.hanging),"color"in t&&n(4,c=t.color),"opacity"in t&&n(5,u=t.opacity),"$$scope"in t&&n(7,i=t.$$scope)},t.$$.update=()=>{9&t.$$.dirty&&n(0,l+=a?-nl:+nl)},[l,o,s,a,c,u,function(t,e,n){return[`M${No(e,t)}`,`A${t},${t} 0,0,1 ${No(n,t)}`].join(" ")},i,r]}class il extends jt{constructor(t){super(),Ct(this,t,rl,el,s,{pathId:1,radius:0,angle:2,hanging:3,color:4,opacity:5})}}function ol(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function ll(t,e,n){const r=t.slice();return r[3]=e[n],r}function sl(t){let e,n;return e=new tl({props:{angle:t[3].angle}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.angle=t[3].angle),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function al(t){let e,n,r=t[3].text+"";return{c(){e=S(r),n=I()},m(t,r){b(t,e,r),b(t,n,r)},p(t,n){1&n&&r!==(r=t[3].text+"")&&T(e,r)},d(t){t&&x(e),t&&x(n)}}}function cl(t){let e,n;return e=new il({props:{pathId:`path-axis-x-label-${t[5]}`,radius:t[1],angle:t[3].angle,hanging:!0,$$slots:{default:[al]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.radius=t[1]),1&n&&(r.angle=t[3].angle),257&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function ul(t){let e,n,r,i,o=t[0],l=[];for(let e=0;e<o.length;e+=1)l[e]=sl(ll(t,o,e));const s=t=>bt(l[t],1,1,(()=>{l[t]=null}));let a=t[0],c=[];for(let e=0;e<a.length;e+=1)c[e]=cl(ol(t,a,e));const u=t=>bt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=k("g"),n=k("g");for(let t=0;t<l.length;t+=1)l[t].c();r=k("g");for(let t=0;t<c.length;t+=1)c[t].c();N(n,"class","axis-lines"),N(r,"class","axis-labels"),N(e,"class","axis axis-x")},m(t,o){b(t,e,o),v(e,n);for(let t=0;t<l.length;t+=1)l[t].m(n,null);v(e,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null);i=!0},p(t,[e]){if(1&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=ll(t,o,r);l[r]?(l[r].p(i,e),vt(l[r],1)):(l[r]=sl(i),l[r].c(),vt(l[r],1),l[r].m(n,null))}for($t(),r=o.length;r<l.length;r+=1)s(r);yt()}if(3&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const i=ol(t,a,n);c[n]?(c[n].p(i,e),vt(c[n],1)):(c[n]=cl(i),c[n].c(),vt(c[n],1),c[n].m(r,null))}for($t(),n=a.length;n<c.length;n+=1)u(n);yt()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)vt(l[t]);for(let t=0;t<a.length;t+=1)vt(c[t]);i=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)bt(l[t]);c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)bt(c[t]);i=!1},d(t){t&&x(e),w(l,t),w(c,t)}}}function fl(t,e,n){let r;c(t,Rt,(t=>n(1,r=t)));let{selectedData:i=[]}=e,o=[];return t.$$set=t=>{"selectedData"in t&&n(2,i=t.selectedData)},t.$$.update=()=>{if(4&t.$$.dirty){const t=function(t,e,...n){return Zn(t,Array.from,e,n)}(i,(t=>t[0].angle),(t=>[t.data.year,t.data.volume].join("/")));let e=new Set;n(0,o=t.map((([t,n])=>{const r=t.split("/"),i=+r[0];return t=e.has(i)?r[1]:t.slice(2),e.add(i),{text:t,angle:n}})))}},[o,r,i]}class hl extends jt{constructor(t){super(),Ct(this,t,fl,ul,s,{selectedData:2})}}function dl(t,e,n){const r=t.slice();return r[6]=e[n],r}function pl(t){let e,n,r,i;function l(){return t[5](t[6])}return{c(){e=k("path"),N(e,"d",n=t[1]({innerRadius:t[6][0].radius,outerRadius:t[6][1].radius}))},m(n,o){b(n,e,o),r||(i=[L(e,"mouseenter",l),L(e,"mouseleave",t[3])],r=!0)},p(r,i){t=r,1&i&&n!==(n=t[1]({innerRadius:t[6][0].radius,outerRadius:t[6][1].radius}))&&N(e,"d",n)},d(t){t&&x(e),r=!1,o(i)}}}function gl(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=pl(dl(e,r,t));return{c(){n=k("g");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","axis-interaction svelte-1jltwfn")},m(t,e){b(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(15&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const l=dl(t,r,o);i[o]?i[o].p(l,e):(i[o]=pl(l),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&x(n),w(i,t)}}}function ml(t,e,n){let{quantiles:r=[]}=e,i=[];const o=function(){var t=wo,e=Mo,n=so(0),r=null,i=ko,o=So,l=Io,s=null;function a(){var a,c,u=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-yo,d=o.apply(this,arguments)-yo,p=ao(d-h),g=d>h;if(s||(s=a=lo()),f<u&&(c=f,f=u,u=c),f>mo)if(p>vo-mo)s.moveTo(f*uo(h),f*po(h)),s.arc(0,0,f,h,d,!g),u>mo&&(s.moveTo(u*uo(d),u*po(d)),s.arc(0,0,u,d,h,g));else{var m,$,y=h,v=d,b=h,x=d,w=p,M=p,k=l.apply(this,arguments)/2,S=k>mo&&(r?+r.apply(this,arguments):go(u*u+f*f)),I=ho(ao(f-u)/2,+n.apply(this,arguments)),_=I,L=I;if(S>mo){var N=xo(S/u*po(k)),C=xo(S/f*po(k));(w-=2*N)>mo?(b+=N*=g?1:-1,x-=N):(w=0,b=x=(h+d)/2),(M-=2*C)>mo?(y+=C*=g?1:-1,v-=C):(M=0,y=v=(h+d)/2)}var j=f*uo(y),A=f*po(y),T=u*uo(x),H=u*po(x);if(I>mo){var O,q=f*uo(v),E=f*po(v),B=u*uo(b),D=u*po(b);if(p<$o&&(O=_o(j,A,B,D,q,E,T,H))){var F=j-O[0],P=A-O[1],R=q-O[0],V=E-O[1],z=1/po(bo((F*R+P*V)/(go(F*F+P*P)*go(R*R+V*V)))/2),G=go(O[0]*O[0]+O[1]*O[1]);_=ho(I,(u-G)/(z-1)),L=ho(I,(f-G)/(z+1))}}M>mo?L>mo?(m=Lo(B,D,j,A,f,L,g),$=Lo(q,E,T,H,f,L,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),L<I?s.arc(m.cx,m.cy,L,co(m.y01,m.x01),co($.y01,$.x01),!g):(s.arc(m.cx,m.cy,L,co(m.y01,m.x01),co(m.y11,m.x11),!g),s.arc(0,0,f,co(m.cy+m.y11,m.cx+m.x11),co($.cy+$.y11,$.cx+$.x11),!g),s.arc($.cx,$.cy,L,co($.y11,$.x11),co($.y01,$.x01),!g))):(s.moveTo(j,A),s.arc(0,0,f,y,v,!g)):s.moveTo(j,A),u>mo&&w>mo?_>mo?(m=Lo(T,H,q,E,u,-_,g),$=Lo(j,A,B,D,u,-_,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),_<I?s.arc(m.cx,m.cy,_,co(m.y01,m.x01),co($.y01,$.x01),!g):(s.arc(m.cx,m.cy,_,co(m.y01,m.x01),co(m.y11,m.x11),!g),s.arc(0,0,u,co(m.cy+m.y11,m.cx+m.x11),co($.cy+$.y11,$.cx+$.x11),g),s.arc($.cx,$.cy,_,co($.y11,$.x11),co($.y01,$.x01),!g))):s.arc(0,0,u,x,b,g):s.lineTo(T,H)}else s.moveTo(0,0);if(s.closePath(),a)return s=null,a+""||null}return a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$o/2;return[uo(r)*n,po(r)*n]},a.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:so(+e),a):t},a.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:so(+t),a):e},a.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:so(+t),a):n},a.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:so(+t),a):r},a.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:so(+t),a):i},a.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:so(+t),a):o},a.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:so(+t),a):l},a.context=function(t){return arguments.length?(s=null==t?null:t,a):s},a}().startAngle(0).endAngle(2*Math.PI);function l(t,e){$n.set(t),yn.set(e)}return t.$$set=t=>{"quantiles"in t&&n(4,r=t.quantiles)},t.$$.update=()=>{16&t.$$.dirty&&(n(0,i=function(t,e=lr){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}(r)),n(0,i[0][0]={q:void 0,value:void 0,radius:0},i))},[i,o,l,function(t){t.relatedTarget?.classList.contains("svg")&&($n.set(1),yn.set(1/0))},r,t=>l(t[1].q,t[1].value)]}class $l extends jt{constructor(t){super(),Ct(this,t,ml,gl,s,{quantiles:4})}}function yl(e){let n;return{c(){n=k("circle"),N(n,"class","axis-line svelte-7tm97l"),N(n,"cx","0"),N(n,"cy","0"),N(n,"r",e[0]),N(n,"stroke",e[1]),N(n,"stroke-opacity",e[2])},m(t,e){b(t,n,e)},p(t,[e]){1&e&&N(n,"r",t[0]),2&e&&N(n,"stroke",t[1]),4&e&&N(n,"stroke-opacity",t[2])},i:t,o:t,d(t){t&&x(n)}}}function vl(t,e,n){let r,i,o,l,s,a,u;c(t,vn,(t=>n(10,r=t))),c(t,xn,(t=>n(11,i=t))),c(t,bn,(t=>n(12,o=t))),c(t,$n,(t=>n(9,l=t)));let{q:f=0}=e,{radius:h=0}=e,d=!1;const p=pn(h,{delay:r,duration:i,easing:fn});c(t,p,(t=>n(0,s=t)));const g=pn(Sn,{duration:o,interpolate:sn});c(t,g,(t=>n(1,a=t)));const m=pn(.2,{duration:o});return c(t,m,(t=>n(2,u=t))),t.$$set=t=>{"q"in t&&n(6,f=t.q),"radius"in t&&n(7,h=t.radius)},t.$$.update=()=>{576&t.$$.dirty&&n(8,d=f===l),128&t.$$.dirty&&p.set(h),256&t.$$.dirty&&g.set(d?"#ffc917":Sn),256&t.$$.dirty&&m.set(d?1:.2)},[s,a,u,p,g,m,f,h,d,l]}class bl extends jt{constructor(t){super(),Ct(this,t,vl,yl,s,{q:6,radius:7})}}function xl(e){let n;return{c(){n=k("circle"),N(n,"class","axis-line svelte-1sgd7pk"),N(n,"cx","0"),N(n,"cy","0"),N(n,"r",e[0])},m(t,e){b(t,n,e)},p(t,[e]){1&e&&N(n,"r",t[0])},i:t,o:t,d(t){t&&x(n)}}}function wl(t,e,n){let{radius:r=0}=e;return t.$$set=t=>{"radius"in t&&n(0,r=t.radius)},[r]}class Ml extends jt{constructor(t){super(),Ct(this,t,wl,xl,s,{radius:0})}}function kl(t,e,n){const r=t.slice();return r[3]=e[n],r}function Sl(t,e,n){const r=t.slice();return r[3]=e[n],r}function Il(t,e,n){const r=t.slice();return r[8]=e[n],r}function _l(t){let e,n;return e=new bl({props:{q:t[8].q,radius:t[8].radius}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.q=t[8].q),1&n&&(r.radius=t[8].radius),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function Ll(t){let e,n;return e=new Ml({props:{radius:t[3].radius}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.radius=t[3].radius),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function Nl(t){let e,n,r=t[3].value+"";return{c(){e=S(r),n=I()},m(t,r){b(t,e,r),b(t,n,r)},p(t,n){2&n&&r!==(r=t[3].value+"")&&T(e,r)},d(t){t&&x(e),t&&x(n)}}}function Cl(t){let e,n;return e=new il({props:{pathId:`path-axis-y-label-${t[3].value}`,radius:t[3].radius,angle:-Math.PI/2,$$slots:{default:[Nl]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.pathId=`path-axis-y-label-${t[3].value}`),2&n&&(r.radius=t[3].radius),2050&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function jl(t){let e,n,r,i,o,l;n=new $l({props:{quantiles:t[0]}});let s=t[0],a=[];for(let e=0;e<s.length;e+=1)a[e]=_l(Il(t,s,e));const c=t=>bt(a[t],1,1,(()=>{a[t]=null}));let u=t[1],f=[];for(let e=0;e<u.length;e+=1)f[e]=Ll(Sl(t,u,e));const h=t=>bt(f[t],1,1,(()=>{f[t]=null}));let d=t[1],p=[];for(let e=0;e<d.length;e+=1)p[e]=Cl(kl(t,d,e));const g=t=>bt(p[t],1,1,(()=>{p[t]=null}));return{c(){e=k("g"),_t(n.$$.fragment),r=k("g");for(let t=0;t<a.length;t+=1)a[t].c();i=k("g");for(let t=0;t<f.length;t+=1)f[t].c();o=k("g");for(let t=0;t<p.length;t+=1)p[t].c();N(r,"class","quantile-lines"),N(i,"class","axis-lines"),N(o,"class","axis-labels"),N(e,"class","axis axis-y")},m(t,s){b(t,e,s),Lt(n,e,null),v(e,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);v(e,i);for(let t=0;t<f.length;t+=1)f[t].m(i,null);v(e,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null);l=!0},p(t,[e]){const l={};if(1&e&&(l.quantiles=t[0]),n.$set(l),1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=Il(t,s,n);a[n]?(a[n].p(i,e),vt(a[n],1)):(a[n]=_l(i),a[n].c(),vt(a[n],1),a[n].m(r,null))}for($t(),n=s.length;n<a.length;n+=1)c(n);yt()}if(2&e){let n;for(u=t[1],n=0;n<u.length;n+=1){const r=Sl(t,u,n);f[n]?(f[n].p(r,e),vt(f[n],1)):(f[n]=Ll(r),f[n].c(),vt(f[n],1),f[n].m(i,null))}for($t(),n=u.length;n<f.length;n+=1)h(n);yt()}if(2&e){let n;for(d=t[1],n=0;n<d.length;n+=1){const r=kl(t,d,n);p[n]?(p[n].p(r,e),vt(p[n],1)):(p[n]=Cl(r),p[n].c(),vt(p[n],1),p[n].m(o,null))}for($t(),n=d.length;n<p.length;n+=1)g(n);yt()}},i(t){if(!l){vt(n.$$.fragment,t);for(let t=0;t<s.length;t+=1)vt(a[t]);for(let t=0;t<u.length;t+=1)vt(f[t]);for(let t=0;t<d.length;t+=1)vt(p[t]);l=!0}},o(t){bt(n.$$.fragment,t),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)bt(a[t]);f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)bt(f[t]);p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)bt(p[t]);l=!1},d(t){t&&x(e),Nt(n),w(a,t),w(f,t),w(p,t)}}}function Al(t,e,n){let r;c(t,Nn,(t=>n(2,r=t)));let{quantiles:i=[]}=e,o=[];return t.$$set=t=>{"quantiles"in t&&n(0,i=t.quantiles)},t.$$.update=()=>{4&t.$$.dirty&&n(1,o=sr(500,r.domain()[1],500).map((t=>({value:t,radius:r(t)}))))},[i,o,r]}class Tl extends jt{constructor(t){super(),Ct(this,t,Al,jl,s,{quantiles:0})}}function Hl(t){let e,n,r,i,o;return r=new Eo({props:{x:"0",y:-t[2],length:El,orient:"up",color:"var(--gray)",animate:!0}}),i=new il({props:{pathId:"path-quantile-label-upper-"+t[0],radius:t[2],angle:"0",opacity:"1",$$slots:{default:[Ol]},$$scope:{ctx:t}}}),{c(){e=k("g"),n=k("g"),_t(r.$$.fragment),_t(i.$$.fragment),N(e,"class","quantile-label")},m(t,l){b(t,e,l),v(e,n),Lt(r,n,null),Lt(i,n,null),o=!0},p(t,e){const n={};4&e&&(n.y=-t[2]),r.$set(n);const o={};1&e&&(o.pathId="path-quantile-label-upper-"+t[0]),4&e&&(o.radius=t[2]),282&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o)},i(t){o||(vt(r.$$.fragment,t),vt(i.$$.fragment,t),o=!0)},o(t){bt(r.$$.fragment,t),bt(i.$$.fragment,t),o=!1},d(t){t&&x(e),Nt(r),Nt(i)}}}function Ol(t){let e,n,r,i,o,l,s,a,c,u=t[6](1-t[1])+"";return{c(){e=k("tspan"),n=S(t[4]),r=S(" of "),i=S(t[3]),o=S("\n        articles excluded\n        "),l=k("tspan"),s=S("("),a=S(u),c=S(")"),N(e,"class","svelte-zpumbr"),N(l,"class","svelte-zpumbr")},m(t,u){b(t,e,u),v(e,n),v(e,r),v(e,i),b(t,o,u),b(t,l,u),v(l,s),v(l,a),v(l,c)},p(t,e){16&e&&T(n,t[4]),8&e&&T(i,t[3]),2&e&&u!==(u=t[6](1-t[1])+"")&&T(a,u)},d(t){t&&x(e),t&&x(o),t&&x(l)}}}function ql(t){let e,n,r=t[1]===t[5]&&Hl(t);return{c(){r&&r.c(),e=_()},m(t,i){r&&r.m(t,i),b(t,e,i),n=!0},p(t,[n]){t[1]===t[5]?r?(r.p(t,n),34&n&&vt(r,1)):(r=Hl(t),r.c(),vt(r,1),r.m(e.parentNode,e)):r&&($t(),bt(r,1,1,(()=>{r=null})),yt())},i(t){n||(vt(r),n=!0)},o(t){bt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}const El=18;function Bl(t,e,n){let r;c(t,$n,(t=>n(5,r=t)));let{id:i=0}=e,{q:o=0}=e,{radius:l=0}=e,{nStars:s=0}=e,{nBrightStars:a=0}=e,u=0;const f=Ri(o>.99?".1%":".0%");return t.$$set=t=>{"id"in t&&n(0,i=t.id),"q"in t&&n(1,o=t.q),"radius"in t&&n(2,l=t.radius),"nStars"in t&&n(3,s=t.nStars),"nBrightStars"in t&&n(7,a=t.nBrightStars)},t.$$.update=()=>{136&t.$$.dirty&&n(4,u=s-a)},[i,o,l,s,u,r,f,a]}class Dl extends jt{constructor(t){super(),Ct(this,t,Bl,ql,s,{id:0,q:1,radius:2,nStars:3,nBrightStars:7})}}function Fl(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Pl(t){let e,n;return e=new Dl({props:{id:t[5],q:t[3].q,radius:t[3].radius,nStars:t[1],nBrightStars:t[2]}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.q=t[3].q),1&n&&(r.radius=t[3].radius),2&n&&(r.nStars=t[1]),4&n&&(r.nBrightStars=t[2]),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function Rl(t){let e,n,r=t[0].slice(1),i=[];for(let e=0;e<r.length;e+=1)i[e]=Pl(Fl(t,r,e));const o=t=>bt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=k("g");for(let t=0;t<i.length;t+=1)i[t].c();N(e,"class","quantile-labels")},m(t,r){b(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(7&n){let l;for(r=t[0].slice(1),l=0;l<r.length;l+=1){const o=Fl(t,r,l);i[l]?(i[l].p(o,n),vt(i[l],1)):(i[l]=Pl(o),i[l].c(),vt(i[l],1),i[l].m(e,null))}for($t(),l=r.length;l<i.length;l+=1)o(l);yt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)vt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)bt(i[t]);n=!1},d(t){t&&x(e),w(i,t)}}}function Vl(t,e,n){let{quantiles:r=[]}=e,{nStars:i=0}=e,{nBrightStars:o=0}=e;return t.$$set=t=>{"quantiles"in t&&n(0,r=t.quantiles),"nStars"in t&&n(1,i=t.nStars),"nBrightStars"in t&&n(2,o=t.nBrightStars)},[r,i,o]}class zl extends jt{constructor(t){super(),Ct(this,t,Vl,Rl,s,{quantiles:0,nStars:1,nBrightStars:2})}}function Gl(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Wl(t,e,n){const r=t.slice();return r[8]=e[n].x,r[9]=e[n].y,r[10]=e[n].r,r[0]=e[n].data,r}function Ul(t){let e,n,r,i=[],o=new Map,l=t[5];const s=t=>t[0].doi;for(let e=0;e<l.length;e+=1){let n=Wl(t,l,e),r=s(n);o.set(r,i[e]=Jl(r,n))}return{c(){e=k("g");for(let t=0;t<i.length;t+=1)i[t].c();N(e,"class","star-group")},m(t,n){b(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);r=!0},p(n,r){t=n,2&r&&(l=t[5],$t(),i=St(i,r,s,1,t,l,o,e,kt,Jl,null,Wl),yt())},i(t){if(!r){for(let t=0;t<l.length;t+=1)vt(i[t]);n&&n.end(1),r=!0}},o(o){for(let t=0;t<i.length;t+=1)bt(i[t]);n=Mt(e,Co,{duration:t[3],easing:un}),r=!1},d(t){t&&x(e);for(let t=0;t<i.length;t+=1)i[t].d();t&&n&&n.end()}}}function Jl(t,e){let n,r,i;return r=new Ln({props:{x:e[8],y:e[9],r:e[10],data:e[0]}}),{key:t,first:null,c(){n=_(),_t(r.$$.fragment),this.first=n},m(t,e){b(t,n,e),Lt(r,t,e),i=!0},p(t,n){e=t;const i={};2&n&&(i.x=e[8]),2&n&&(i.y=e[9]),2&n&&(i.r=e[10]),2&n&&(i.data=e[0]),r.$set(i)},i(t){i||(vt(r.$$.fragment,t),i=!0)},o(t){bt(r.$$.fragment,t),i=!1},d(t){t&&x(n),Nt(r,t)}}}function Zl(t,e){let n,r,i,o=e[4]===e[2]&&Ul(e);return{key:t,first:null,c(){n=_(),o&&o.c(),r=_(),this.first=n},m(t,e){b(t,n,e),o&&o.m(t,e),b(t,r,e),i=!0},p(t,n){(e=t)[4]===e[2]?o?(o.p(e,n),6&n&&vt(o,1)):(o=Ul(e),o.c(),vt(o,1),o.m(r.parentNode,r)):o&&($t(),bt(o,1,1,(()=>{o=null})),yt())},i(t){i||(vt(o),i=!0)},o(t){bt(o),i=!1},d(t){t&&x(n),o&&o.d(t),t&&x(r)}}}function Yl(t){let e,n,r=[],i=new Map,o=t[1];const l=t=>t[4];for(let e=0;e<o.length;e+=1){let n=Gl(t,o,e),s=l(n);i.set(s,r[e]=Zl(s,n))}return{c(){e=k("g");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","stars")},m(t,i){b(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){14&n&&(o=t[1],$t(),r=St(r,n,l,1,t,o,i,e,kt,Zl,null,Gl),yt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)vt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)bt(r[t]);n=!1},d(t){t&&x(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Xl(t,e,n){let r,i,o;c(t,gn,(t=>n(2,i=t))),c(t,vn,(t=>n(3,o=t)));let{data:l=[]}=e;return t.$$set=t=>{"data"in t&&n(0,l=t.data)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=Jn(l,(t=>t.data.journal)))},[l,r,i,o]}class Ql extends jt{constructor(t){super(),Ct(this,t,Xl,Yl,s,{data:0})}}function Kl(t){let e,n,r,i,o,l,s,a,c,u,f,h;return e=new Xt({}),i=new Tl({props:{quantiles:t[3]}}),o=new hl({props:{selectedData:t[1]}}),s=new Ql({props:{data:t[0]}}),c=new zl({props:{quantiles:t[3],nStars:t[1].length,nBrightStars:t[2].length}}),f=new Yo({props:{selectedData:t[1],brightData:t[2]}}),{c(){_t(e.$$.fragment),n=I(),r=k("g"),_t(i.$$.fragment),_t(o.$$.fragment),l=I(),_t(s.$$.fragment),a=I(),_t(c.$$.fragment),u=I(),_t(f.$$.fragment),N(r,"class","axis")},m(t,d){Lt(e,t,d),b(t,n,d),b(t,r,d),Lt(i,r,null),Lt(o,r,null),b(t,l,d),Lt(s,t,d),b(t,a,d),Lt(c,t,d),b(t,u,d),Lt(f,t,d),h=!0},p(t,e){const n={};8&e&&(n.quantiles=t[3]),i.$set(n);const r={};2&e&&(r.selectedData=t[1]),o.$set(r);const l={};1&e&&(l.data=t[0]),s.$set(l);const a={};8&e&&(a.quantiles=t[3]),2&e&&(a.nStars=t[1].length),4&e&&(a.nBrightStars=t[2].length),c.$set(a);const u={};2&e&&(u.selectedData=t[1]),4&e&&(u.brightData=t[2]),f.$set(u)},i(t){h||(vt(e.$$.fragment,t),vt(i.$$.fragment,t),vt(o.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),vt(f.$$.fragment,t),h=!0)},o(t){bt(e.$$.fragment,t),bt(i.$$.fragment,t),bt(o.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),bt(f.$$.fragment,t),h=!1},d(t){Nt(e,t),t&&x(n),t&&x(r),Nt(i),Nt(o),t&&x(l),Nt(s,t),t&&x(a),Nt(c,t),t&&x(u),Nt(f,t)}}}function ts(t){let e,n,r;return n=new Wt({props:{$$slots:{default:[Kl]},$$scope:{ctx:t}}}),{c(){e=M("div"),_t(n.$$.fragment),N(e,"class","chart-wrapper svelte-qppc36"),O(e,"width",t[4]+"px"),O(e,"height",t[4]+"px")},m(t,i){b(t,e,i),Lt(n,e,null),r=!0},p(t,[i]){const o={};271&i&&(o.$$scope={dirty:i,ctx:t}),n.$set(o),(!r||16&i)&&O(e,"width",t[4]+"px"),(!r||16&i)&&O(e,"height",t[4]+"px")},i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){t&&x(e),Nt(n)}}}function es(t,e,n){let r,i,o,l;c(t,gn,(t=>n(5,r=t))),c(t,yn,(t=>n(6,i=t))),c(t,Nn,(t=>n(7,o=t))),c(t,Dt,(t=>n(4,l=t)));let{data:s=[]}=e,a=[],u=[],f=[];return t.$$set=t=>{"data"in t&&n(0,s=t.data)},t.$$.update=()=>{33&t.$$.dirty&&n(1,a=s.filter((t=>t.data.journal===r))),66&t.$$.dirty&&n(2,u=a.filter((t=>t.data.citedBy<i))),130&t.$$.dirty&&n(3,f=wn.map((t=>{const e=ir(a.map((t=>t.data.citedBy)),t);return{q:t,value:e,radius:o(e)}})))},[s,a,u,f,l,r,i,o]}class ns extends jt{constructor(t){super(),Ct(this,t,es,ts,s,{data:0})}}function rs(t){let e,n;return e=new ns({props:{data:t[0]}}),{c(){_t(e.$$.fragment)},m(t,r){Lt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){Nt(e,t)}}}function is(t,e,n){let r,i,o,l,s,a;c(t,Rt,(t=>n(2,i=t))),c(t,Vt,(t=>n(3,o=t))),c(t,Bt,(t=>n(4,l=t))),c(t,Nn,(t=>n(5,s=t))),c(t,Cn,(t=>n(6,a=t)));let{data:u=[]}=e;return t.$$set=t=>{"data"in t&&n(1,u=t.data)},t.$$.update=()=>{14&t.$$.dirty&&Nn.set(Zi().domain(Vn(u,(t=>t.citedBy))).range([i,o])),18&t.$$.dirty&&Cn.set(function(){return to.apply(null,arguments).exponent(.5)}().domain(Vn(u,(t=>t.citedBy))).range([l.min,l.max])),98&t.$$.dirty&&n(0,r=Jn(u,(t=>t.journal)).map((([,t])=>{const e=t.map((t=>t.doi));e.push("pseudo");const n=function(){return wi(xi.apply(null,arguments).paddingInner(1))}().domain(e).range([0,2*Math.PI]);return t.map((t=>{const e=n(t.doi),r=No(e,s(t.citedBy));return{angle:e,x:r[0],y:r[1],r:a(t.citedBy),data:t}}))})).flat())},[r,u,i,o,l,s,a]}class os extends jt{constructor(t){super(),Ct(this,t,is,rs,s,{data:1})}}function ls(t){let e,n,r,i,o,l,s,a,c,u,f,h,d,p,g,m,$,y,w,k,_,L,C,j,A,H,q,E,B,D=t[0].title+"",F=fi(t[0].journal)+"",P=t[0].volume+"",R=t[0].page.start+"",V=t[0].page.end+"",z=t[0].year+"",G=t[0].citedBy+"";return{c(){e=M("div"),n=M("div"),r=M("div"),i=M("b"),o=S(D),l=I(),s=M("div"),a=S(t[1]),c=S(".\n        "),u=M("span"),f=S(F),h=I(),d=S(P),p=S(",\n        "),g=S(R),m=S("-"),$=S(V),y=S("\n        ("),w=S(z),k=S(")"),_=I(),L=M("div"),C=S("Cited "),j=M("b"),A=S(G),H=S(" times"),N(r,"class","title bright svelte-1gtgkui"),N(u,"class","journal svelte-1gtgkui"),N(L,"class","cited-by svelte-1gtgkui"),N(n,"class","content"),N(e,"class","tooltip svelte-1gtgkui"),O(e,"width",as+"px")},m(t,x){b(t,e,x),v(e,n),v(n,r),v(r,i),v(i,o),v(n,l),v(n,s),v(s,a),v(s,c),v(s,u),v(u,f),v(s,h),v(s,d),v(s,p),v(s,g),v(s,m),v(s,$),v(s,y),v(s,w),v(s,k),v(n,_),v(n,L),v(L,C),v(L,j),v(j,A),v(L,H),B=!0},p(e,n){t=e,(!B||1&n)&&D!==(D=t[0].title+"")&&T(o,D),(!B||2&n)&&T(a,t[1]),(!B||1&n)&&F!==(F=fi(t[0].journal)+"")&&T(f,F),(!B||1&n)&&P!==(P=t[0].volume+"")&&T(d,P),(!B||1&n)&&R!==(R=t[0].page.start+"")&&T(g,R),(!B||1&n)&&V!==(V=t[0].page.end+"")&&T($,V),(!B||1&n)&&z!==(z=t[0].year+"")&&T(w,z),(!B||1&n)&&G!==(G=t[0].citedBy+"")&&T(A,G)},i(n){B||(st((()=>{E&&E.end(1),q||(q=wt(e,Co,{duration:t[2],easing:fn})),q.start()})),B=!0)},o(n){q&&q.invalidate(),E=Mt(e,Co,{duration:t[2],easing:un}),B=!1},d(t){t&&x(e),t&&E&&E.end()}}}function ss(t){let e,n,r=t[0]&&ls(t);return{c(){r&&r.c(),e=_()},m(t,i){r&&r.m(t,i),b(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&vt(r,1)):(r=ls(t),r.c(),vt(r,1),r.m(e.parentNode,e)):r&&($t(),bt(r,1,1,(()=>{r=null})),yt())},i(t){n||(vt(r),n=!0)},o(t){bt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}const as=250;function cs(t,e,n){let r,i;c(t,mn,(t=>n(0,r=t))),c(t,vn,(t=>n(2,i=t)));let o="";return t.$$.update=()=>{1&t.$$.dirty&&n(1,o=r?.authors.split(",").slice(0,5)+" et al")},[r,o,i]}class us extends jt{constructor(t){super(),Ct(this,t,cs,ss,s,{})}}var fs={},hs={};function ds(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ps(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function gs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ms(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+gs(-e,6):e>9999?"+"+gs(e,6):gs(e,4))+"-"+gs(t.getUTCMonth()+1,2)+"-"+gs(t.getUTCDate(),2)+(o?"T"+gs(n,2)+":"+gs(r,2)+":"+gs(i,2)+"."+gs(o,3)+"Z":i?"T"+gs(n,2)+":"+gs(r,2)+":"+gs(i,2)+"Z":r||n?"T"+gs(n,2)+":"+gs(r,2)+"Z":"")}var $s=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,l=0,s=0,a=o<=0,c=!1;function u(){if(a)return hs;if(c)return c=!1,fs;var e,r,i=l;if(34===t.charCodeAt(i)){for(;l++<o&&34!==t.charCodeAt(l)||34===t.charCodeAt(++l););return(e=l)>=o?a=!0:10===(r=t.charCodeAt(l++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(l)&&++l),t.slice(i+1,e-1).replace(/""/g,'"')}for(;l<o;){if(10===(r=t.charCodeAt(e=l++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(l)&&++l;else if(r!==n)continue;return t.slice(i,e)}return a=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==hs;){for(var f=[];r!==fs&&r!==hs;)f.push(r),r=u();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function o(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?ms(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ds(t);return function(r,i){return e(n(r),i,t)}}(t,e):ds(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=ps(e)),[n.map(l).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ps(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:l}}(",").parse;function ys(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function vs(t,e){return fetch(t,e).then(ys)}var bs,xs=(bs=$s,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),vs(t,e).then((function(t){return bs(t,n)}))});function ws(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Is,then:Ss,catch:ks,value:6,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let l=e.ctx;void 0!==i&&(l=l.slice(),l[i]=o);const s=t&&(e.current=t)(l);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&($t(),bt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),yt())})):e.block.d(1),s.c(),vt(s,1),s.m(e.mount(),e.anchor),a=!0),e.block=s,e.blocks&&(e.blocks[r]=s),a&&ut()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=J();if(t.then((t=>{U(n),r(e.then,1,e.value,t),U(null)}),(t=>{if(U(n),r(e.catch,2,e.error,t),U(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}((async()=>(await xs("data/sources.csv",(t=>{return{authors:t.Authors,title:t.Title,journal:(e=t["Source title"],e.replace(" ","-").toLowerCase()),year:+t.Year,volume:+t.Volume,issue:+t.Issue,page:{start:+t["Page start"],end:+t["Page end"]},citedBy:+t["Cited by"],doi:t.DOI};var e}))).sort(((t,e)=>Fn(t.journal,e.journal)||Fn(t.year,e.year)||Fn(t.volume,e.volume)||Fn(t.issue,e.issue)||Fn(t.page.start,e.page.start))))(),i),n=new us({}),{c(){i.block.c(),e=I(),_t(n.$$.fragment)},m(t,o){i.block.m(t,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,b(t,e,o),Lt(n,t,o),r=!0},p(e,n){{const r=(t=e).slice();r[6]=i.resolved,i.block.p(r,n)}},i(t){r||(vt(i.block),vt(n.$$.fragment,t),r=!0)},o(t){for(let t=0;t<3;t+=1){bt(i.blocks[t])}bt(n.$$.fragment,t),r=!1},d(t){i.block.d(t),i.token=null,i=null,t&&x(e),Nt(n,t)}}}function Ms(e){let n,r;return n=new Tt({}),{c(){_t(n.$$.fragment)},m(t,e){Lt(n,t,e),r=!0},p:t,i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){Nt(n,t)}}}function ks(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ss(e){let n,r,i,o,l;return r=new $i({props:{data:e[6]}}),o=new os({props:{data:e[6]}}),{c(){n=M("main"),_t(r.$$.fragment),i=I(),_t(o.$$.fragment),N(n,"class","svelte-10vgcmt")},m(t,e){b(t,n,e),Lt(r,n,null),v(n,i),Lt(o,n,null),l=!0},p:t,i(t){l||(vt(r.$$.fragment,t),vt(o.$$.fragment,t),l=!0)},o(t){bt(r.$$.fragment,t),bt(o.$$.fragment,t),l=!1},d(t){t&&x(n),Nt(r),Nt(o)}}}function Is(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function _s(t){let e,n,r,i,o;const l=[Ms,ws],s=[];function a(t,e){return t[0]<960?0:1}return n=a(t),r=s[n]=l[n](t),{c(){e=M("div"),r.c(),N(e,"class","app-wrapper svelte-10vgcmt"),O(e,"background",t[2]),st((()=>t[5].call(e)))},m(r,l){b(r,e,l),s[n].m(e,null),i=B(e,t[5].bind(e)),o=!0},p(t,[i]){let c=n;n=a(t),n===c?s[n].p(t,i):($t(),bt(s[c],1,1,(()=>{s[c]=null})),yt(),r=s[n],r?r.p(t,i):(r=s[n]=l[n](t),r.c()),vt(r,1),r.m(e,null)),(!o||4&i)&&O(e,"background",t[2])},i(t){o||(vt(r),o=!0)},o(t){bt(r),o=!1},d(t){t&&x(e),s[n].d(),i()}}}function Ls(t,e,n){let r;c(t,Ft,(t=>n(4,r=t)));let{width:i}=e,{height:o}=e,l="center",s="var(--background-color-static)";return t.$$set=t=>{"width"in t&&n(0,i=t.width),"height"in t&&n(1,o=t.height)},t.$$.update=()=>{3&t.$$.dirty&&Dt.set(Math.min(i,o)||0),17&t.$$.dirty&&n(3,l=r?50+r/i*100/2+"%":"center"),9&t.$$.dirty&&n(2,s=i<960?"var(--background-color-static)":`radial-gradient(circle at ${l}, var(--background-color-center) 0%, var(--background-color) 80%)`)},[i,o,s,l,r,function(){i=this.clientWidth,o=this.clientHeight,n(0,i),n(1,o)}]}return new class extends jt{constructor(t){super(),Ct(this,t,Ls,_s,s,{width:0,height:1})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
